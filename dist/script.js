/*! For license information please see script.js.LICENSE.txt */
(()=>{"use strict";var t={"./src/CanvasManager.ts":(t,e,n)=>{n.r(e),n.d(e,{backgroundCanvas:()=>o,backgroundCanvasCtx:()=>c,clearCanvas:()=>u,foregroundCanvas:()=>r,foregroundCanvasCtx:()=>s,updateCanvasSize:()=>d});var i=n("./src/script.ts"),r=document.getElementById("foreground-canvas"),o=document.getElementById("background-canvas"),a=document.getElementById("webgl-canvas");r.width=r.getBoundingClientRect().width,r.height=r.getBoundingClientRect().height,o.width=o.getBoundingClientRect().width,o.height=o.getBoundingClientRect().height,a.width=a.getBoundingClientRect().width,a.height=a.getBoundingClientRect().height;var s=r.getContext("2d"),c=o.getContext("2d");function u(){s.clearRect(0,0,r.width,r.height)}function d(){r.width=r.getBoundingClientRect().width,r.height=r.getBoundingClientRect().height,o.width=o.getBoundingClientRect().width,o.height=o.getBoundingClientRect().height,a.width=a.getBoundingClientRect().width,a.height=a.getBoundingClientRect().height,i.grid.canvas=o,i.grid.updateSize(),i.grid.draw()}window.addEventListener("resize",d)},"./src/Config.ts":(t,e,n)=>{n.r(e),n.d(e,{getFieldSize:()=>p,getFieldStrength:()=>g,getGravityDirection:()=>h,getGridSize:()=>m,getParticleNumber:()=>v,getPhysicsSubstepsAmount:()=>f,getPointerFunction:()=>y,isGyroEnabled:()=>x,setFieldSize:()=>b,setFieldStrength:()=>P,setGravityDirection:()=>C,setIsGyroEnabled:()=>M,setParticleNumber:()=>S,setPhysicsSubstepsAmount:()=>w,setPointerFunction:()=>E});var i=n("./src/Vec2D.ts"),r=10,o=4,a=new i.default(0,1.3),s=100,c=200,u="field",d=26,l=!1;function h(){return a}function f(){return o}function g(){return r}function p(){return s}function v(){return c}function y(){return u}function m(){return d}function x(){return l}function C(t){a=t}function w(t){o=t}function P(t){r=t}function b(t){s=t}function S(t){c=t}function E(t){u=t}function M(t){l=t}},"./src/Grid.ts":(t,e,n)=>{n.r(e),n.d(e,{Grid:()=>r});var i=n("./src/Config.ts"),r=function(){function t(t,e){void 0===e&&(e=i.getGridSize()),this.pixelSize=e,this.canvas=t,this.columns=Math.ceil(this.canvas.width/this.pixelSize),this.rows=Math.ceil(this.canvas.height/this.pixelSize),this.cells=this.initialize(),this.canvasCtx=this.canvas.getContext("2d")}return t.prototype.initialize=function(){for(var t=[],e=0;e<this.columns;e++){t[e]=[];for(var n=0;n<this.rows;n++)t[e][n]=[]}return t},t.prototype.removeAll=function(){for(var t=0;t<this.columns;t++)for(var e=0;e<this.rows&&null!=this.cells[t];e++)this.cells[t][e]=[]},t.prototype.put=function(t){var e=Math.floor(t.position.x/this.pixelSize),n=Math.floor(t.position.y/this.pixelSize);e>=0&&e<this.cells.length&&n>=0&&n<this.cells[e].length&&this.cells[e][n].push(t)},t.prototype.updateSize=function(){this.columns=Math.ceil(this.canvas.width/this.pixelSize),this.rows=Math.ceil(this.canvas.height/this.pixelSize),this.initialize()},t.prototype.draw=function(){this.canvasCtx.clearRect(0,0,this.canvas.width,this.canvas.height),this.canvasCtx.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--grid-color"),this.canvasCtx.lineWidth=1;for(var t=this.pixelSize;t<this.canvas.width;t+=this.pixelSize)this.canvasCtx.beginPath(),this.canvasCtx.moveTo(t,0),this.canvasCtx.lineTo(t,this.canvas.height),this.canvasCtx.stroke();for(var e=this.pixelSize;e<this.canvas.height;e+=this.pixelSize)this.canvasCtx.beginPath(),this.canvasCtx.moveTo(0,e),this.canvasCtx.lineTo(this.canvas.width,e),this.canvasCtx.stroke()},t}()},"./src/InputHandler.ts":(t,e,n)=>{n.r(e),n.d(e,{InputHandler:()=>u});var i=n("./src/Vec2D.ts"),r=n("./src/Config.ts"),o=n("./src/MenuManager.ts"),a=n("./src/script.ts"),s=n("./src/Utils.ts"),c=n("./src/Particle.ts"),u=function(){function t(){this.clicked=!1,this.pointerPosition=new i.default(0,0),this.clickStartPosition=new i.default(0,0),this.pointerFunction="field"}return t.getInstance=function(){return t.instance||(t.instance=new t,t.instance.initializeEventListeners()),t.instance},t.prototype.initializeEventListeners=function(){var t=document.getElementById("main_container");t&&(t.addEventListener("mousedown",this.handleMouseDown.bind(this)),t.addEventListener("mouseup",this.handleMouseUp.bind(this)),t.addEventListener("mousemove",this.handleMoveEvent.bind(this)),t.addEventListener("touchstart",this.handleMouseDown.bind(this)),t.addEventListener("touchend",this.handleMouseUp.bind(this)),t.addEventListener("touchmove",this.handleMoveEvent.bind(this)),t.addEventListener("click",(function(t){t.stopPropagation(),(0,o.closeMenu)()})))},t.prototype.handleMouseDown=function(t){t.stopPropagation(),this.clicked=!0,t instanceof MouseEvent?(this.pointerPosition.x=t.clientX,this.pointerPosition.y=t.clientY):t instanceof TouchEvent&&(this.pointerPosition.x=t.touches[0].clientX,this.pointerPosition.y=t.touches[0].clientY),this.clickStartPosition.x=this.pointerPosition.x,this.clickStartPosition.y=this.pointerPosition.y},t.prototype.handleMouseUp=function(t){if(t.stopPropagation(),this.clicked=!1,"throw"==r.getPointerFunction()){var e=this.clickStartPosition.clone().difference(this.pointerPosition).multiply(.1);a.particles.push(new c.default(this.clickStartPosition.clone(),r.getGridSize()/2,e,(0,s.getRandomColor)(),a.grid))}},t.prototype.handleMoveEvent=function(t){t.stopPropagation(),this.clicked&&(t instanceof MouseEvent?(this.pointerPosition.x=t.clientX,this.pointerPosition.y=t.clientY):t instanceof TouchEvent&&(this.pointerPosition.x=t.touches[0].clientX,this.pointerPosition.y=t.touches[0].clientY))},t}()},"./src/MenuManager.ts":(t,e,n)=>{n.r(e),n.d(e,{closeMenu:()=>u,openMenu:()=>c,setGravityStrength:()=>x,updatePointerFunction:()=>m});var i=n("./src/Config.ts"),r=n("./src/Vec2D.ts"),o=n("./src/script.ts"),a=document.getElementById("menu-button"),s=document.querySelectorAll(".menu-element");function c(){"false"==a.getAttribute("open")&&(a.setAttribute("open","true"),a.style.cursor="auto",s.forEach((function(t){setTimeout((function(){t.style.display="block"}),300)})))}function u(){a.setAttribute("open","false"),a.style.cursor="pointer",s.forEach((function(t){t.style.display="none"}))}a.addEventListener("click",(function(t){t.stopPropagation(),c()})),document.querySelector("#theme-switch").addEventListener("click",(function(){var t,e=document.documentElement;t="light"===e.getAttribute("theme")?"dark":"light",e.setAttribute("theme",t),o.grid.draw()}));var d=document.getElementById("field-size-slider"),l=document.getElementById("field-strength-slider"),h=document.getElementById("gravity-strength-slider"),f=document.getElementById("substeps-amount-entry"),g=document.getElementById("particles-amount-entry"),p=document.getElementById("gyro-toggle");function v(){p.checked?(i.setIsGyroEnabled(!0),window.addEventListener("devicemotion",y,!0)):(window.removeEventListener("devicemotion",y),i.setIsGyroEnabled(!1),i.setGravityDirection(new r.default(0,1.3)))}function y(t){i.isGyroEnabled()?i.setGravityDirection(new r.default(t.accelerationIncludingGravity.x/5,-t.accelerationIncludingGravity.y/5)):i.setGravityDirection(new r.default(0,1.3))}function m(){for(var t=document.getElementsByName("cursor-function"),e=0;e<t.length;e++)if(t[e].checked)return t[e].value}function x(t){i.setGravityDirection(new r.default(0,.1*t))}document.getElementsByName("cursor-function").forEach((function(t){t.addEventListener("change",(function(){t.checked&&i.setPointerFunction(t.value)}))})),d.oninput=function(){i.setFieldSize(parseInt(d.value))},l.oninput=function(){i.setFieldStrength(parseInt(l.value))},h.oninput=function(){x(parseInt(h.value))},f.addEventListener("change",(function(){i.setPhysicsSubstepsAmount(parseInt(f.value))})),p.oninput=function(){"undefined"!=typeof DeviceMotionEvent&&"function"==typeof DeviceMotionEvent.requestPermission?DeviceMotionEvent.requestPermission().then((function(t){"granted"==t&&v()})).catch(console.error):v()},g.addEventListener("change",(function(){i.setParticleNumber(parseInt(g.value));for(var t=o.particles.length-i.getParticleNumber();t>0;)o.particles.pop(),t--}))},"./src/Particle.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var i=n("./src/Vec2D.ts");const r=function(){function t(t,e,n,r,o){this.position=t,this.velocity=n,this.acceleration=new i.default(0,0),this.radius=e,this.color=r,this.grid=o,this.cell=new i.default(Math.floor(this.position.x/o.pixelSize),Math.floor(this.position.y/o.pixelSize))}return t.prototype.updatePosition=function(t){var e=this.velocity.add(this.acceleration.multiply(t)).clone();e.multiply(t),this.position.add(e),this.acceleration.x=0,this.acceleration.y=0,this.updateCell()},t.prototype.accelerate=function(t){this.acceleration.add(t)},t.prototype.getNeighboringParticles=function(){for(var t=[],e=this.cell.x-1;e<=this.cell.x+1;e++)for(var n=this.cell.y-1;n<=this.cell.y+1;n++)e>=0&&e<this.grid.columns&&n>=0&&n<this.grid.rows&&t.push.apply(t,this.grid.cells[e][n]);return t},t.prototype.updateCell=function(){this.cell=new i.default(Math.floor(this.position.x/this.grid.pixelSize),Math.floor(this.position.y/this.grid.pixelSize))},t.canvas=document.getElementById("foreground-canvas"),t}()},"./src/PhysicsEngine.ts":(t,e,n)=>{n.r(e),n.d(e,{applyAttractorForces:()=>y,applyAttractorForcesToAll:()=>g,applyConstraint:()=>v,tick:()=>p});var i=n("./src/CanvasManager.ts"),r=n("./src/Config.ts"),o=n("./src/InputHandler.ts"),a=n("./src/Vec2D.ts"),s=n("./src/script.ts"),c=o.InputHandler.getInstance(),u=0,d=0;function l(t){s.grid.removeAll(),s.particles.forEach((function(e){e.updatePosition(t),s.grid.put(e)}))}function h(t){s.particles.forEach((function(e){e.position.add(t)}))}function f(t){s.particles.forEach((function(e){var n=t.difference(e.position),i=n.length();i<r.getFieldSize()&&i>10&&(n.multiply(100*r.getFieldStrength()),n.divide(i*i),e.accelerate(n))}))}function g(){s.particles.forEach((function(t){y(t)}))}function p(t){for(var e=t/r.getPhysicsSubstepsAmount(),n=0;n<r.getPhysicsSubstepsAmount();n++){if(0!=r.getGravityDirection().y&&s.particles.forEach((function(t){t.accelerate(r.getGravityDirection())})),c.clicked)switch(r.getPointerFunction()){case"field":f(c.pointerPosition);break;case"gravity":r.setGravityDirection(c.pointerPosition.difference(c.clickStartPosition).divide(400))}var i=window.screenX-u,o=window.screenY-d,g=new a.default(-i,-o);0==i&&0==o||h(g),u=window.screenX,d=window.screenY,s.particles.forEach((function(t){v(t)})),m(),l(e)}}function v(t){t.position.y+t.radius>=i.foregroundCanvas.height&&(t.velocity=new a.default(.992*t.velocity.x,-Math.abs(.6*t.velocity.y)),t.position.y=i.foregroundCanvas.height-t.radius),t.position.y-t.radius<=0&&(t.position.y=t.radius,t.velocity=new a.default(t.velocity.x,Math.abs(.6*t.velocity.y))),t.position.x-t.radius<=0&&(t.position.x=t.radius,t.velocity=new a.default(Math.abs(.6*t.velocity.x),t.velocity.y)),t.position.x+t.radius>=i.foregroundCanvas.width&&(t.velocity=new a.default(-Math.abs(.6*t.velocity.x),t.velocity.y),t.position.x=i.foregroundCanvas.width-t.radius)}function y(t){s.attractors.forEach((function(e){var n=e.position.difference(t.position),i=n.length();i<e.radius&&i>10&&(n.multiply(e.force),n.divide(i*i),t.accelerate(n))}))}function m(){var t=new a.default(0,0),e=0,n=0;s.particles.forEach((function(i){i.getNeighboringParticles().forEach((function(r){if(i!==r&&(t.set(i.position).subtract(r.position),e=t.squaredLength(),n=i.radius+r.radius,e<n*n)){var o=Math.sqrt(e);t.divide(o);var s=n-o;t.multiply(.5*s),i.position.add(t),r.position.subtract(t),i.velocity.add(t).add(new a.default(.001-Math.random()/1e3*2,.001-Math.random()/1e3*2)),r.velocity.subtract(t).add(new a.default(.001-Math.random()/1e3*2,.001-Math.random()/1e3*2))}}))}))}new a.default(0,0)},"./src/Renderer.ts":(t,e,n)=>{n.r(e),n.d(e,{drawArrow:()=>R,drawCursorFunction:()=>T,drawDot:()=>A,drawDottedLine:()=>k,drawLasso:()=>F,drawParticles:()=>I,drawPredictedPath:()=>z,setGeometry:()=>_});var i=n("./src/Vec2D.ts"),r=n("./src/Config.ts"),o=n("./src/shaders/particleFragmentShader.frag"),a=n("./src/shaders/particleVertexShader.vert"),s=n("./src/ShaderHelper.ts"),c=n("./src/CanvasManager.ts"),u=n("./src/PhysicsEngine.ts"),d=n("./src/InputHandler.ts"),l=n("./src/script.ts"),h=n("./src/Particle.ts"),f=n("./src/UIManager.ts"),g=document.getElementById("webgl-canvas"),p=g.getContext("webgl");g.width=g.getBoundingClientRect().width,g.height=g.getBoundingClientRect().height;var v=d.InputHandler.getInstance();p||console.error("Unable to initialize WebGL. Your browser may not support it."),p.enable(p.BLEND),p.blendFunc(p.SRC_ALPHA,p.ONE_MINUS_SRC_ALPHA);var y=(0,s.createShader)(p,p.VERTEX_SHADER,a),m=(0,s.createShader)(p,p.FRAGMENT_SHADER,o),x=(0,s.createProgram)(p,y,m),C=p.getAttribLocation(x,"a_position"),w=p.getUniformLocation(x,"u_resolution"),P=p.getUniformLocation(x,"u_color"),b=p.getUniformLocation(x,"u_translation"),S=p.getUniformLocation(x,"u_radius"),E=p.getUniformLocation(x,"u_outline_black"),M=p.createBuffer();function _(){l.particles.forEach((function(t){!function(t,e,n,i,r){var o=0-i/2,a=0+i/2,s=0-r/2,c=0+r/2;t.bufferData(t.ARRAY_BUFFER,new Float32Array([o,s,a,s,o,c,o,c,a,s,a,c]),t.STATIC_DRAW)}(p,0,0,r.getGridSize(),r.getGridSize())}))}function I(){(0,s.resizeCanvasToDisplaySize)(p.canvas),p.viewport(0,0,p.canvas.width,p.canvas.height),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),p.useProgram(x),p.enableVertexAttribArray(C),p.bindBuffer(p.ARRAY_BUFFER,M),p.vertexAttribPointer(C,2,p.FLOAT,!1,0,0);var t=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--is-outline-dark")),e=[p.canvas.width,p.canvas.height];l.particles.forEach((function(n){p.uniform2fv(w,e),p.uniform2f(b,n.position.x,n.position.y),p.uniform3f(P,n.color.r,n.color.g,n.color.b),p.uniform1f(S,n.radius),p.uniform1f(E,t),p.drawArrays(p.TRIANGLES,0,6)}))}function k(t,e,n,r){if(void 0===n&&(n=5),void 0===r&&(r=8),v.clicked&&t.x!=e.x&&t.y!=e.y){var o=t.difference(e);z(t.clone(),o.clone().multiply(.1)),o.divide(r);var a=Math.atan2(e.y-t.y,e.x-t.x),s=new i.default(e.x,e.y);s.x-=Math.cos(a),s.y-=Math.sin(a);for(var c=0;c<=r;c++)A(t.x-o.x*c,t.y-o.y*c,n,255)}}function z(t,e){for(var n=new h.default(t,r.getGridSize()/2,e,{r:0,g:0,b:0},l.grid),i=1;i<=127;i++)n.accelerate(r.getGravityDirection()),(0,u.applyConstraint)(n),(0,u.applyAttractorForces)(n),n.updatePosition((0,f.getAverageFrameTime)()/20),i%3==0&&A(n.position.x,n.position.y,5,255-2*i)}function A(t,e,n,i){c.foregroundCanvasCtx.beginPath(),c.foregroundCanvasCtx.arc(t,e,n,0,2*Math.PI,!1),c.foregroundCanvasCtx.fillStyle="rgba(210, 210, 210, ".concat(i/255,")"),c.foregroundCanvasCtx.fill(),c.foregroundCanvasCtx.closePath()}function F(t){void 0===t&&(t=3),v.clicked&&(c.foregroundCanvasCtx.beginPath(),c.foregroundCanvasCtx.arc(v.pointerPosition.x,v.pointerPosition.y,r.getFieldSize(),0,2*Math.PI),c.foregroundCanvasCtx.lineWidth=t,c.foregroundCanvasCtx.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--grid-color"),c.foregroundCanvasCtx.stroke(),c.foregroundCanvasCtx.closePath())}function R(t,e){if(v.clicked&&t.x!=e.x&&t.y!=e.y){var n=Math.atan2(e.y-t.y,e.x-t.x),r=10,o=new i.default(e.x,e.y);o.x-=11.5*Math.cos(n),o.y-=11.5*Math.sin(n),c.foregroundCanvasCtx.beginPath(),c.foregroundCanvasCtx.moveTo(t.x,t.y),c.foregroundCanvasCtx.lineTo(o.x,o.y),c.foregroundCanvasCtx.strokeStyle="#bbbbbb",c.foregroundCanvasCtx.lineWidth=10,c.foregroundCanvasCtx.stroke(),c.foregroundCanvasCtx.beginPath(),c.foregroundCanvasCtx.moveTo(o.x,o.y),c.foregroundCanvasCtx.lineTo(o.x-r*Math.cos(n-Math.PI/7),o.y-r*Math.sin(n-Math.PI/7)),c.foregroundCanvasCtx.lineTo(o.x-r*Math.cos(n+Math.PI/7),o.y-r*Math.sin(n+Math.PI/7)),c.foregroundCanvasCtx.lineTo(o.x,o.y),c.foregroundCanvasCtx.lineTo(o.x-r*Math.cos(n-Math.PI/7),o.y-r*Math.sin(n-Math.PI/7)),c.foregroundCanvasCtx.strokeStyle="#bbbbbb",c.foregroundCanvasCtx.lineWidth=10,c.foregroundCanvasCtx.stroke(),c.foregroundCanvasCtx.fillStyle="#bbbbbb",c.foregroundCanvasCtx.fill(),c.foregroundCanvasCtx.closePath()}}function T(){if(v.clicked)switch(r.getPointerFunction()){case"field":F();break;case"gravity":R(v.clickStartPosition,v.pointerPosition);break;case"throw":k(v.clickStartPosition,v.pointerPosition)}}p.bindBuffer(p.ARRAY_BUFFER,M)},"./src/ShaderHelper.ts":(t,e,n)=>{function i(t,e,n){var i=t.createShader(e);if(t.shaderSource(i,n),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS))return i;console.log(t.getShaderInfoLog(i)),t.deleteShader(i)}function r(t,e,n){var i=t.createProgram();if(t.attachShader(i,e),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS))return i;console.log(t.getProgramInfoLog(i)),t.deleteProgram(i)}function o(t){var e=t.clientWidth,n=t.clientHeight,i=t.width!==e||t.height!==n;return i&&(t.width=e,t.height=n),i}n.r(e),n.d(e,{createProgram:()=>r,createShader:()=>i,resizeCanvasToDisplaySize:()=>o})},"./src/UIManager.ts":(t,e,n)=>{n.r(e),n.d(e,{fps:()=>r,frameTimes:()=>o,getAverageFrameTime:()=>u,updateUI:()=>c});var i=document.createElement("div");i.style.position="absolute",i.style.top="10px",i.style.left="10px",document.body.appendChild(i);var r=60,o=[],a=100,s=performance.now();function c(){var t=function(){var t=performance.now(),e=t-s;o.push(e),o.length>a&&o.shift();var n=o.reduce((function(t,e){return t+e}),0)/o.length;return s=t,1e3/n}();i.innerText="FPS: ".concat(Math.round(t))}function u(){return o.reduce((function(t,e){return t+e}),0)/o.length}},"./src/Utils.ts":(t,e,n)=>{function i(){return{r:Math.random(),g:Math.random(),b:Math.random()}}n.r(e),n.d(e,{getRandomColor:()=>i})},"./src/Vec2D.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});const i=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.set=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.multiply=function(t){return this.x*=t,this.y*=t,this},t.prototype.divide=function(t){return this.x/=t,this.y/=t,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.squaredLength=function(){return this.x*this.x+this.y*this.y},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.difference=function(e){return new t(this.x-e.x,this.y-e.y)},t.prototype.squaredDistanceTo=function(t){return Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2)},t}()},"./src/script.ts":(t,e,n)=>{n.r(e),n.d(e,{attractors:()=>f,grid:()=>p,particles:()=>h});var i=n("./src/Renderer.ts"),r=n("./src/Particle.ts"),o=n("./src/Vec2D.ts"),a=n("./src/UIManager.ts"),s=n("./src/CanvasManager.ts"),c=n("./src/PhysicsEngine.ts"),u=n("./src/Config.ts"),d=n("./src/Grid.ts"),l=n("./src/Utils.ts"),h=[],f=[],g=0,p=new d.Grid(s.backgroundCanvas);p.draw(),requestAnimationFrame((function t(){var e=(0,a.getAverageFrameTime)();(0,c.tick)(e/20),(0,s.clearCanvas)(),(0,i.drawParticles)(),(0,i.drawCursorFunction)(),(0,a.updateUI)(),g%3==0&&h.length<u.getParticleNumber()&&g>120&&(h.push(new r.default(new o.default(200,200),p.pixelSize/2,new o.default(27,-12),(0,l.getRandomColor)(),p)),h.push(new r.default(new o.default(200,260),p.pixelSize/2,new o.default(29,-12),(0,l.getRandomColor)(),p)),h.push(new r.default(new o.default(200,320),p.pixelSize/2,new o.default(24,-12),(0,l.getRandomColor)(),p)),h.push(new r.default(new o.default(200,380),p.pixelSize/2,new o.default(25,-12),(0,l.getRandomColor)(),p)),h.push(new r.default(new o.default(200,440),p.pixelSize/2,new o.default(24,-12),(0,l.getRandomColor)(),p)),(0,i.setGeometry)()),g++,requestAnimationFrame(t)}))},"./src/shaders/particleFragmentShader.frag":t=>{t.exports="precision mediump float;\r\n\r\nuniform vec2 u_resolution;\r\n\r\nuniform vec3 u_color;\r\nuniform float u_radius;\r\nuniform vec2 u_translation;\r\nuniform float u_outline_black;\r\nfloat mask(in vec2 _st, in float _radius){\r\n    vec2 dist = _st;\r\n    return 1.-smoothstep(_radius-(_radius*0.15),\r\n                         _radius+(_radius*0.15),\r\n                         dot(dist,dist)*3.9);\r\n}\r\n\r\n\r\nvec3 circle(in vec2 _st, in float radius, in vec3 color) {\r\n\tvec2 dist = _st;\r\n\treturn smoothstep(\r\n\t\tradius + (radius * 0.15),\r\n\t\tradius -(radius * 0.15),\r\n\t\tdot(dist, dist) * 3.9) * color + u_outline_black * (smoothstep(\r\n\t\tradius - (radius * 0.15),\r\n\t\tradius +(radius * 0.15),\r\n\t\tdot(dist, dist) * 5.3));\r\n}\r\nvoid main(){\r\n \tvec2 st =  (gl_FragCoord.xy - u_translation*vec2(1., -1.) - u_resolution*vec2(0.,1.)) / u_radius; \r\n\r\n\tvec3 color = circle(st,4.0, u_color);\r\n\r\n\tgl_FragColor = vec4(color, mask(st, 4.0));\r\n}"},"./src/shaders/particleVertexShader.vert":t=>{t.exports="precision mediump float;\r\n\r\nattribute vec2 a_position;\r\n\r\n// attribute vec3 color;\r\n// varying vec3 v_color;\r\nuniform vec2 u_resolution;\r\nuniform vec2 u_translation;\r\n\r\nvoid main() {\r\n    //move the position of the shader\r\n    vec2 position = a_position + u_translation ;\r\n\r\n    // convert the position from pixels to 0.0 to 1.0\r\n    vec2 zeroToOne = position / u_resolution;\r\n\r\n    // convert from 0->1 to 0->2\r\n    vec2 zeroToTwo = zeroToOne * 2.0;\r\n\r\n    // convert from 0->2 to -1->+1 (clipspace)\r\n    vec2 clipSpace = zeroToTwo - 1.0;\r\n\r\n    gl_Position = vec4(clipSpace * vec2(1., -1.), 0, 1);\r\n\r\n    // // Pass the vertex color to the fragment shader.\r\n    // v_position = a_position;\r\n}"}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n("./src/script.ts"),n("./src/MenuManager.ts")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU0sSUFBSyxLQUFNMUQsRUFBS3NDLFVBQVUsRUFBRyxJQUFJLFVBQU0sSUFBSyxLQUFNLElBQUF1RCxrQkFBa0I3RixLQUMxRyxJQUFBb04sZ0JBRUY4RyxJQUNBRSxzQkFBc0JDLEVBQ3hCLG8wRENyQ0lFLEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQkUsSUFBakJELEVBQ0gsT0FBT0EsRUFBYUUsUUFHckIsSUFBSUMsRUFBU04sRUFBeUJFLEdBQVksQ0FHakRHLFFBQVMsQ0FBQyxHQU9YLE9BSEFFLEVBQW9CTCxHQUFVSSxFQUFRQSxFQUFPRCxRQUFTSixHQUcvQ0ssRUFBT0QsT0FDZixDQ3JCQUosRUFBb0JPLEVBQUksQ0FBQ0gsRUFBU0ksS0FDakMsSUFBSSxJQUFJQyxLQUFPRCxFQUNYUixFQUFvQlUsRUFBRUYsRUFBWUMsS0FBU1QsRUFBb0JVLEVBQUVOLEVBQVNLLElBQzVFRSxPQUFPQyxlQUFlUixFQUFTSyxFQUFLLENBQUVJLFlBQVksRUFBTUMsSUFBS04sRUFBV0MsSUFFMUUsRUNORFQsRUFBb0JVLEVBQUksQ0FBQ0ssRUFBS0MsSUFBVUwsT0FBT00sVUFBVUMsZUFBZUMsS0FBS0osRUFBS0MsR0NDbEZoQixFQUFvQnpGLEVBQUs2RixJQUNILG9CQUFYZ0IsUUFBMEJBLE9BQU9DLGFBQzFDVixPQUFPQyxlQUFlUixFQUFTZ0IsT0FBT0MsWUFBYSxDQUFFbE8sTUFBTyxXQUU3RHdOLE9BQU9DLGVBQWVSLEVBQVMsYUFBYyxDQUFFak4sT0FBTyxHQUFPLEVDRjlENk0sRUFBb0IsbUJBQ01BLEVBQW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi8uL3NyYy9DYW52YXNNYW5hZ2VyLnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvQ29uZmlnLnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvR3JpZC50cyIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyLy4vc3JjL0lucHV0SGFuZGxlci50cyIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyLy4vc3JjL01lbnVNYW5hZ2VyLnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvUGFydGljbGUudHMiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi8uL3NyYy9QaHlzaWNzRW5naW5lLnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvUmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi8uL3NyYy9TaGFkZXJIZWxwZXIudHMiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi8uL3NyYy9VSU1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi8uL3NyYy9VdGlscy50cyIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyLy4vc3JjL1ZlYzJELnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvc2NyaXB0LnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBncmlkIH0gZnJvbSBcIi4vc2NyaXB0XCI7XHJcblxyXG5leHBvcnQgY29uc3QgZm9yZWdyb3VuZENhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JlZ3JvdW5kLWNhbnZhcycpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG5leHBvcnQgY29uc3QgYmFja2dyb3VuZENhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWNrZ3JvdW5kLWNhbnZhcycpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG5jb25zdCB3ZWJnbENhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3ZWJnbC1jYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuXHJcbmZvcmVncm91bmRDYW52YXMhLndpZHRoID0gZm9yZWdyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuZm9yZWdyb3VuZENhbnZhcyEuaGVpZ2h0ID0gZm9yZWdyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbmJhY2tncm91bmRDYW52YXMhLndpZHRoID0gYmFja2dyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuYmFja2dyb3VuZENhbnZhcyEuaGVpZ2h0ID0gYmFja2dyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbndlYmdsQ2FudmFzLndpZHRoID0gd2ViZ2xDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbndlYmdsQ2FudmFzLmhlaWdodCA9IHdlYmdsQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuZXhwb3J0IGNvbnN0IGZvcmVncm91bmRDYW52YXNDdHggPSBmb3JlZ3JvdW5kQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbmV4cG9ydCBjb25zdCBiYWNrZ3JvdW5kQ2FudmFzQ3R4ID0gYmFja2dyb3VuZENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHVwZGF0ZUNhbnZhc1NpemUpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQ2FudmFzKCkge1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5jbGVhclJlY3QoMCwgMCwgZm9yZWdyb3VuZENhbnZhcy53aWR0aCwgZm9yZWdyb3VuZENhbnZhcy5oZWlnaHQpO1xyXG4gIH1cclxuICBcclxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUNhbnZhc1NpemUoKSB7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzLndpZHRoID0gZm9yZWdyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgIGZvcmVncm91bmRDYW52YXMuaGVpZ2h0ID0gZm9yZWdyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICBiYWNrZ3JvdW5kQ2FudmFzLndpZHRoID0gYmFja2dyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgIGJhY2tncm91bmRDYW52YXMuaGVpZ2h0ID0gYmFja2dyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICB3ZWJnbENhbnZhcy53aWR0aCA9IHdlYmdsQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gICAgd2ViZ2xDYW52YXMuaGVpZ2h0ID0gd2ViZ2xDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgZ3JpZC5jYW52YXMgPSBiYWNrZ3JvdW5kQ2FudmFzO1xyXG4gICAgZ3JpZC51cGRhdGVTaXplKCk7XHJcbiAgICBncmlkLmRyYXcoKTtcclxuICB9XHJcbiAgIiwiaW1wb3J0IHsgUG9pbnRlckZ1bmN0aW9uVHlwZSB9IGZyb20gXCIuL0lucHV0SGFuZGxlclwiO1xyXG5pbXBvcnQgVmVjMkQgZnJvbSBcIi4vVmVjMkRcIjtcclxuXHJcbnZhciBmaWVsZFN0cmVuZ3RoID0gMTA7XHJcbnZhciBwaHlzaWNzU3Vic3RlcHNBbW91bnQgPSA0O1xyXG52YXIgZ3Jhdml0eURpcmVjdGlvbiA9IG5ldyBWZWMyRCgwLCAxLjMpO1xyXG52YXIgZmllbGRTaXplID0gMTAwO1xyXG52YXIgcGFydGljbGVOdW1iZXIgPSAyMDA7XHJcbnZhciBwb2ludGVyRnVuY3Rpb246IFBvaW50ZXJGdW5jdGlvblR5cGUgPSAnZmllbGQnO1xyXG52YXIgZ3JpZFNpemUgPSAyNjtcclxudmFyIGd5cm9FbmFibGVkID0gZmFsc2U7XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRHcmF2aXR5RGlyZWN0aW9uKCkge1xyXG4gICAgcmV0dXJuIGdyYXZpdHlEaXJlY3Rpb247XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQaHlzaWNzU3Vic3RlcHNBbW91bnQoKSB7XHJcbiAgICByZXR1cm4gcGh5c2ljc1N1YnN0ZXBzQW1vdW50O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmllbGRTdHJlbmd0aCgpIHtcclxuICAgIHJldHVybiBmaWVsZFN0cmVuZ3RoO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmllbGRTaXplKCkge1xyXG4gICAgcmV0dXJuIGZpZWxkU2l6ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcnRpY2xlTnVtYmVyKCkge1xyXG4gICAgcmV0dXJuIHBhcnRpY2xlTnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9pbnRlckZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHBvaW50ZXJGdW5jdGlvbjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEdyaWRTaXplKCkge1xyXG4gICAgcmV0dXJuIGdyaWRTaXplOyAgICBcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzR3lyb0VuYWJsZWQoKSB7XHJcbiAgICByZXR1cm4gZ3lyb0VuYWJsZWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRHcmF2aXR5RGlyZWN0aW9uKG5ld0dyYXZpdHlEaXJlY3Rpb246IFZlYzJEKSB7XHJcbiAgICBncmF2aXR5RGlyZWN0aW9uID0gbmV3R3Jhdml0eURpcmVjdGlvbjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldFBoeXNpY3NTdWJzdGVwc0Ftb3VudChuZXdBbW91bnQ6IG51bWJlcikge1xyXG4gICAgcGh5c2ljc1N1YnN0ZXBzQW1vdW50ID0gbmV3QW1vdW50O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0RmllbGRTdHJlbmd0aChuZXdmaWVsZFN0cmVuZ3RoOiBudW1iZXIpIHtcclxuICAgIGZpZWxkU3RyZW5ndGggPSBuZXdmaWVsZFN0cmVuZ3RoO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0RmllbGRTaXplKG5ld2ZpZWxkU2l6ZTogbnVtYmVyKSB7XHJcbiAgICBmaWVsZFNpemUgPSBuZXdmaWVsZFNpemU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRQYXJ0aWNsZU51bWJlcihuZXdQYXJ0aWNsZU51bWJlcjogbnVtYmVyKSB7XHJcbiAgICBwYXJ0aWNsZU51bWJlciA9IG5ld1BhcnRpY2xlTnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0UG9pbnRlckZ1bmN0aW9uKG5ld1BvaW50ZXJGdW5jdGlvbjogUG9pbnRlckZ1bmN0aW9uVHlwZSkge1xyXG4gICAgcG9pbnRlckZ1bmN0aW9uID0gbmV3UG9pbnRlckZ1bmN0aW9uO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0SXNHeXJvRW5hYmxlZChuZXdJc0d5cm9FbmFibGVkOiBib29sZWFuKSB7XHJcbiAgICBneXJvRW5hYmxlZCA9IG5ld0lzR3lyb0VuYWJsZWQ7XHJcbn0iLCJpbXBvcnQgeyBiYWNrZ3JvdW5kQ2FudmFzQ3R4IH0gZnJvbSBcIi4vQ2FudmFzTWFuYWdlclwiO1xyXG5pbXBvcnQgUGFydGljbGUgZnJvbSBcIi4vUGFydGljbGVcIjtcclxuaW1wb3J0IHsgZ3JpZCB9IGZyb20gXCIuL3NjcmlwdFwiO1xyXG5pbXBvcnQgKiBhcyBDb25maWcgZnJvbSAnLi9Db25maWcnO1xyXG5leHBvcnQgY2xhc3MgR3JpZCB7XHJcbiAgICBwdWJsaWMgY2VsbHM6IFBhcnRpY2xlW11bXVtdO1xyXG4gICAgcHVibGljIGNvbHVtbnM6IG51bWJlcjtcclxuICAgIHB1YmxpYyByb3dzOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGl4ZWxTaXplOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIHByaXZhdGUgY2FudmFzQ3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcbiAgICBjb25zdHJ1Y3RvcihjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LCBncmlkUGl4ZWxTaXplOiBudW1iZXIgPSBDb25maWcuZ2V0R3JpZFNpemUoKSkge1xyXG4gICAgICAgIHRoaXMucGl4ZWxTaXplID0gZ3JpZFBpeGVsU2l6ZTtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICB0aGlzLmNvbHVtbnMgPSBNYXRoLmNlaWwodGhpcy5jYW52YXMud2lkdGggLyB0aGlzLnBpeGVsU2l6ZSk7XHJcbiAgICAgICAgdGhpcy5yb3dzID0gTWF0aC5jZWlsKHRoaXMuY2FudmFzLmhlaWdodCAvIHRoaXMucGl4ZWxTaXplKTtcclxuICAgICAgICB0aGlzLmNlbGxzID0gdGhpcy5pbml0aWFsaXplKCk7XHJcbiAgICAgICAgdGhpcy5jYW52YXNDdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0aWFsaXplKCk6IFBhcnRpY2xlW11bXVtdIHtcclxuICAgICAgICBjb25zdCBjZWxsczogUGFydGljbGVbXVtdW10gPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29sdW1uczsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNlbGxzW2ldID0gW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5yb3dzOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGNlbGxzW2ldW2pdID0gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNlbGxzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVBbGwoKTogdm9pZCB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbHVtbnM7IGkrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMucm93czsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmNlbGxzW2ldPT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNlbGxzW2ldW2pdID0gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHB1dChwYXJ0aWNsZTogUGFydGljbGUpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBjb2x1bW4gPSBNYXRoLmZsb29yKHBhcnRpY2xlLnBvc2l0aW9uLnggLyB0aGlzLnBpeGVsU2l6ZSk7XHJcbiAgICAgICAgY29uc3Qgcm93ID0gTWF0aC5mbG9vcihwYXJ0aWNsZS5wb3NpdGlvbi55IC8gdGhpcy5waXhlbFNpemUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChjb2x1bW4gPj0gMCAmJiBjb2x1bW4gPCB0aGlzLmNlbGxzLmxlbmd0aCAmJiByb3cgPj0gMCAmJiByb3cgPCB0aGlzLmNlbGxzW2NvbHVtbl0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2VsbHNbY29sdW1uXVtyb3ddLnB1c2gocGFydGljbGUpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgJHtjb2x1bW59ICAgJHtyb3d9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVTaXplKCk6dm9pZCB7XHJcbiAgICAgICAgdGhpcy5jb2x1bW5zID0gTWF0aC5jZWlsKHRoaXMuY2FudmFzLndpZHRoIC8gdGhpcy5waXhlbFNpemUpO1xyXG4gICAgICAgIHRoaXMucm93cyA9IE1hdGguY2VpbCh0aGlzLmNhbnZhcy5oZWlnaHQgLyB0aGlzLnBpeGVsU2l6ZSk7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcoKXtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5zdHJva2VTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKCctLWdyaWQtY29sb3InKTtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXNDdHgubGluZVdpZHRoID0gMTtcclxuICAgICAgICAgICAgZm9yIChsZXQgeCA9IHRoaXMucGl4ZWxTaXplOyB4IDwgdGhpcy5jYW52YXMud2lkdGg7IHggKz0gdGhpcy5waXhlbFNpemUpIHtcclxuICAgICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5tb3ZlVG8oeCwgMCk7XHJcbiAgICAgICAgICAgICAgdGhpcy5jYW52YXNDdHgubGluZVRvKHgsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgeSA9IHRoaXMucGl4ZWxTaXplOyB5IDwgdGhpcy5jYW52YXMuaGVpZ2h0OyB5ICs9IHRoaXMucGl4ZWxTaXplKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgdGhpcy5jYW52YXNDdHgubW92ZVRvKDAsIHkpO1xyXG4gICAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LmxpbmVUbyh0aGlzLmNhbnZhcy53aWR0aCwgeSk7XHJcbiAgICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gREVCVUdcclxuICAgICAgICAgICAgLy8gICBmb3IgKGxldCB4ID0gMDsgeCA8IGdyaWQuY29sdW1uczsgeCArPSAxKSB7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gICBmb3IgKGxldCB5ID0gMDsgeSA8IGdyaWQucm93czsgeSArPSAxKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4LmZvbnQgPSBcIjEycHggc2VyaWZcIjtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyAgICAgYmFja2dyb3VuZENhbnZhc0N0eC5maWxsVGV4dChgJHtncmlkLmNlbGxzW3hdW3ldLmxlbmd0aH1gLCAoeCsxKSp0aGlzLnBpeGVsU2l6ZSAtIHRoaXMucGl4ZWxTaXplLzIgLSAyLCAoeSsxKSp0aGlzLnBpeGVsU2l6ZSAtdGhpcy5waXhlbFNpemUvMiArIDQpO1xyXG4gICAgICAgICAgICAgICAgLy8gYmFja19jdHguZmlsbFRleHQoYCR7eH0gJHt5fWAsICh4KzEpKnRoaXMucGl4ZWxTaXplIC0gdGhpcy5waXhlbFNpemUvMiAtIDIsICh5KzEpKnRoaXMucGl4ZWxTaXplIC10aGlzLnBpeGVsU2l6ZS8yICsgNCk7XHJcbiAgICAgICAgICAgIC8vICAgfVxyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICB9XHJcbiAgICB9IiwiaW1wb3J0IFZlYzJEIGZyb20gXCIuL1ZlYzJEXCI7XHJcbmltcG9ydCAqIGFzIENvbmZpZyBmcm9tICcuL0NvbmZpZyc7XHJcbmltcG9ydCB7IGNsb3NlTWVudSwgdXBkYXRlUG9pbnRlckZ1bmN0aW9uIH0gZnJvbSBcIi4vTWVudU1hbmFnZXJcIjtcclxuaW1wb3J0IHsgZnBzIH0gZnJvbSBcIi4vVUlNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IGdyaWQsIHBhcnRpY2xlcyB9IGZyb20gXCIuL3NjcmlwdFwiO1xyXG5pbXBvcnQgeyBnZXRSYW5kb21Db2xvciB9IGZyb20gXCIuL1V0aWxzXCI7XHJcbmltcG9ydCBQYXJ0aWNsZSBmcm9tIFwiLi9QYXJ0aWNsZVwiO1xyXG5leHBvcnQgdHlwZSBQb2ludGVyRnVuY3Rpb25UeXBlID0gJ2ZpZWxkJyB8ICdncmF2aXR5JyB8ICd0aHJvdyc7XHJcblxyXG5leHBvcnQgY2xhc3MgSW5wdXRIYW5kbGVyIHtcclxuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogSW5wdXRIYW5kbGVyO1xyXG4gIHB1YmxpYyBjbGlja2VkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHJpdmF0ZSBwb2ludGVyRnVuY3Rpb246IFBvaW50ZXJGdW5jdGlvblR5cGU7XHJcbiAgcHVibGljIHBvaW50ZXJQb3NpdGlvbiA9IG5ldyBWZWMyRCgwLCAwKVxyXG4gIHB1YmxpYyBjbGlja1N0YXJ0UG9zaXRpb24gPSBuZXcgVmVjMkQoMCwgMClcclxuXHJcblxyXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLnBvaW50ZXJGdW5jdGlvbiA9ICdmaWVsZCc7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IElucHV0SGFuZGxlciB7XHJcbiAgICBpZiAoIUlucHV0SGFuZGxlci5pbnN0YW5jZSkge1xyXG4gICAgICBJbnB1dEhhbmRsZXIuaW5zdGFuY2UgPSBuZXcgSW5wdXRIYW5kbGVyKCk7XHJcbiAgICAgIElucHV0SGFuZGxlci5pbnN0YW5jZS5pbml0aWFsaXplRXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBJbnB1dEhhbmRsZXIuaW5zdGFuY2U7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGluaXRpYWxpemVFdmVudExpc3RlbmVycygpOiB2b2lkIHtcclxuICAgIGNvbnN0IG1haW5fYm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluX2NvbnRhaW5lcicpO1xyXG4gICAgaWYgKCFtYWluX2JvZHkpIHJldHVybjtcclxuXHJcbiAgICBtYWluX2JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLmhhbmRsZU1vdXNlRG93bi5iaW5kKHRoaXMpKTtcclxuICAgIG1haW5fYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLmhhbmRsZU1vdXNlVXAuYmluZCh0aGlzKSk7XHJcbiAgICBtYWluX2JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLmhhbmRsZU1vdmVFdmVudC5iaW5kKHRoaXMpKTtcclxuICAgIG1haW5fYm9keS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0aGlzLmhhbmRsZU1vdXNlRG93bi5iaW5kKHRoaXMpKTtcclxuICAgIG1haW5fYm9keS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgdGhpcy5oYW5kbGVNb3VzZVVwLmJpbmQodGhpcykpO1xyXG4gICAgbWFpbl9ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgdGhpcy5oYW5kbGVNb3ZlRXZlbnQuYmluZCh0aGlzKSk7XHJcbiAgICBtYWluX2JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgY2xvc2VNZW51KCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlTW91c2VEb3duKGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCk6IHZvaWQge1xyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB0aGlzLmNsaWNrZWQgPSB0cnVlO1xyXG4gICAgXHJcblxyXG4gICAgaWYgKGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCkge1xyXG4gICAgICB0aGlzLnBvaW50ZXJQb3NpdGlvbi54ID0gZXZlbnQuY2xpZW50WDtcclxuICAgICAgdGhpcy5wb2ludGVyUG9zaXRpb24ueSA9IGV2ZW50LmNsaWVudFk7XHJcbiAgICB9IGVsc2UgaWYgKGV2ZW50IGluc3RhbmNlb2YgVG91Y2hFdmVudCkge1xyXG4gICAgICB0aGlzLnBvaW50ZXJQb3NpdGlvbi54ID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYO1xyXG4gICAgICB0aGlzLnBvaW50ZXJQb3NpdGlvbi55ID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY2xpY2tTdGFydFBvc2l0aW9uLnggPSB0aGlzLnBvaW50ZXJQb3NpdGlvbi54O1xyXG4gICAgdGhpcy5jbGlja1N0YXJ0UG9zaXRpb24ueSA9IHRoaXMucG9pbnRlclBvc2l0aW9uLnk7XHJcbiAgICBcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlTW91c2VVcChldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpOiB2b2lkIHtcclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgdGhpcy5jbGlja2VkID0gZmFsc2U7XHJcbiAgICBpZihDb25maWcuZ2V0UG9pbnRlckZ1bmN0aW9uKCkgPT0gJ3Rocm93Jyl7XHJcbiAgICAgIGxldCBsYXVuY2hfZGlyID0gdGhpcy5jbGlja1N0YXJ0UG9zaXRpb24uY2xvbmUoKS5kaWZmZXJlbmNlKHRoaXMucG9pbnRlclBvc2l0aW9uKS5tdWx0aXBseSgwLjEpO1xyXG4gICAgcGFydGljbGVzLnB1c2gobmV3IFBhcnRpY2xlKHRoaXMuY2xpY2tTdGFydFBvc2l0aW9uLmNsb25lKCksIENvbmZpZy5nZXRHcmlkU2l6ZSgpLzIsIGxhdW5jaF9kaXIsIGdldFJhbmRvbUNvbG9yKCksIGdyaWQpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlTW92ZUV2ZW50KGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCk6IHZvaWQge1xyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBpZiAodGhpcy5jbGlja2VkKSB7XHJcbiAgICAgIGlmIChldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQpIHtcclxuICAgICAgICB0aGlzLnBvaW50ZXJQb3NpdGlvbi54ID0gZXZlbnQuY2xpZW50WDtcclxuICAgICAgICB0aGlzLnBvaW50ZXJQb3NpdGlvbi55ID0gZXZlbnQuY2xpZW50WTtcclxuICAgICAgfSBlbHNlIGlmIChldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpIHtcclxuICAgICAgICB0aGlzLnBvaW50ZXJQb3NpdGlvbi54ID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYO1xyXG4gICAgICAgIHRoaXMucG9pbnRlclBvc2l0aW9uLnkgPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuXHJcbn0iLCJpbXBvcnQgKiBhcyBDb25maWcgZnJvbSAnLi9Db25maWcnO1xyXG5pbXBvcnQgeyBQb2ludGVyRnVuY3Rpb25UeXBlIH0gZnJvbSAnLi9JbnB1dEhhbmRsZXInO1xyXG5pbXBvcnQgVmVjMkQgZnJvbSBcIi4vVmVjMkRcIjtcclxuaW1wb3J0IHsgZ3JpZCwgcGFydGljbGVzIH0gZnJvbSAnLi9zY3JpcHQnO1xyXG5cclxuY29uc3QgbWVudUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVudS1idXR0b25cIik7XHJcbmNvbnN0IG1lbnVFbGVtZW50czogTm9kZUxpc3RPZjxIVE1MRWxlbWVudD4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1lbnUtZWxlbWVudFwiKTtcclxuXHJcbm1lbnVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICBvcGVuTWVudSgpO1xyXG59KTtcclxuXHJcbmNvbnN0IHN3aXRjaFRoZW1lID0gKCkgPT4ge1xyXG4gIGNvbnN0IHJvb3RFbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XHJcbiAgbGV0IHRoZW1lID0gcm9vdEVsZW0uZ2V0QXR0cmlidXRlKCd0aGVtZScpLCBuZXdUaGVtZTtcclxuICBuZXdUaGVtZSA9ICh0aGVtZSA9PT0gJ2xpZ2h0JykgPyAnZGFyaycgOiAnbGlnaHQnO1xyXG5cclxuICByb290RWxlbS5zZXRBdHRyaWJ1dGUoJ3RoZW1lJywgbmV3VGhlbWUpO1xyXG4gIGdyaWQuZHJhdygpO1xyXG59XHJcblxyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RoZW1lLXN3aXRjaCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3dpdGNoVGhlbWUpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5NZW51KCkge1xyXG4gIGlmIChtZW51QnV0dG9uLmdldEF0dHJpYnV0ZShcIm9wZW5cIikgPT0gXCJmYWxzZVwiKSB7XHJcbiAgICBtZW51QnV0dG9uLnNldEF0dHJpYnV0ZShcIm9wZW5cIiwgXCJ0cnVlXCIpO1xyXG4gICAgbWVudUJ1dHRvbi5zdHlsZS5jdXJzb3IgPSBcImF1dG9cIjtcclxuXHJcbiAgICBtZW51RWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICB9LCAzMDApO1xyXG4gICAgfSk7XHJcblxyXG4gIH1cclxuICBlbHNlIHtcclxuXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VNZW51KCkge1xyXG4gIG1lbnVCdXR0b24uc2V0QXR0cmlidXRlKFwib3BlblwiLCBcImZhbHNlXCIpO1xyXG4gIG1lbnVCdXR0b24uc3R5bGUuY3Vyc29yID0gXCJwb2ludGVyXCI7XHJcbiAgbWVudUVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICB9KTtcclxuXHJcbn1cclxuXHJcbnZhciBmaWVsZFNpemVTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpZWxkLXNpemUtc2xpZGVyXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbnZhciBmaWVsZFN0cmVuZ3RoU2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaWVsZC1zdHJlbmd0aC1zbGlkZXJcIikgYXMgSFRNTElucHV0RWxlbWVudDtcclxudmFyIGdyYXZpdHlTdHJlbmd0aFNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ3Jhdml0eS1zdHJlbmd0aC1zbGlkZXJcIikgYXMgSFRNTElucHV0RWxlbWVudDtcclxudmFyIHN1YnN0ZXBzQW1vdW50RW50cnlCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1YnN0ZXBzLWFtb3VudC1lbnRyeVwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG52YXIgcGFydGljbGVzQW1vdW50RW50cnlCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhcnRpY2xlcy1hbW91bnQtZW50cnlcIikgYXMgSFRNTElucHV0RWxlbWVudDtcclxudmFyIGd5cm9FbmFibGVkQ2hlY2tCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImd5cm8tdG9nZ2xlXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG5jb25zdCByYWRpb0J1dHRvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgnY3Vyc29yLWZ1bmN0aW9uJykgYXMgTm9kZUxpc3RPZjxIVE1MSW5wdXRFbGVtZW50PjtcclxuXHJcbiAgcmFkaW9CdXR0b25zLmZvckVhY2gocmFkaW9CdXR0b24gPT4ge1xyXG4gICAgcmFkaW9CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICBpZiAocmFkaW9CdXR0b24uY2hlY2tlZCkge1xyXG4gICAgICAgIENvbmZpZy5zZXRQb2ludGVyRnVuY3Rpb24ocmFkaW9CdXR0b24udmFsdWUgYXMgUG9pbnRlckZ1bmN0aW9uVHlwZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuZmllbGRTaXplU2xpZGVyLm9uaW5wdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgQ29uZmlnLnNldEZpZWxkU2l6ZShwYXJzZUludChmaWVsZFNpemVTbGlkZXIudmFsdWUpKTtcclxufVxyXG5cclxuZmllbGRTdHJlbmd0aFNsaWRlci5vbmlucHV0ID0gZnVuY3Rpb24gKCkge1xyXG4gIENvbmZpZy5zZXRGaWVsZFN0cmVuZ3RoKHBhcnNlSW50KGZpZWxkU3RyZW5ndGhTbGlkZXIudmFsdWUpKTtcclxufVxyXG5cclxuZ3Jhdml0eVN0cmVuZ3RoU2xpZGVyLm9uaW5wdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgc2V0R3Jhdml0eVN0cmVuZ3RoKHBhcnNlSW50KGdyYXZpdHlTdHJlbmd0aFNsaWRlci52YWx1ZSkpO1xyXG59XHJcblxyXG5zdWJzdGVwc0Ftb3VudEVudHJ5Qm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICBDb25maWcuc2V0UGh5c2ljc1N1YnN0ZXBzQW1vdW50KHBhcnNlSW50KHN1YnN0ZXBzQW1vdW50RW50cnlCb3gudmFsdWUpKTtcclxufSk7XHJcblxyXG5neXJvRW5hYmxlZENoZWNrQm94Lm9uaW5wdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgaWYgKHR5cGVvZiBEZXZpY2VNb3Rpb25FdmVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIChEZXZpY2VNb3Rpb25FdmVudCBhcyBhbnkpLnJlcXVlc3RQZXJtaXNzaW9uID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAoRGV2aWNlTW90aW9uRXZlbnQgYXMgYW55KS5yZXF1ZXN0UGVybWlzc2lvbigpLnRoZW4oKHJlc3BvbnNlOiBzdHJpbmcpID0+IHtcclxuICAgICAgICBpZiAocmVzcG9uc2UgPT0gJ2dyYW50ZWQnKSB7XHJcbiAgICAgICAgICAgIHRvZ2dsZUd5cm8oKTtcclxuICAgICAgICB9XHJcbiAgICB9KS5jYXRjaChjb25zb2xlLmVycm9yKTtcclxufSBlbHNlIHtcclxuICAgIHRvZ2dsZUd5cm8oKTtcclxufVxyXG5cclxuXHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiB0b2dnbGVHeXJvKCl7XHJcbiAgaWYgKGd5cm9FbmFibGVkQ2hlY2tCb3guY2hlY2tlZCkge1xyXG4gICAgQ29uZmlnLnNldElzR3lyb0VuYWJsZWQodHJ1ZSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlbW90aW9uJywgaGFuZGxlTW90aW9uLCB0cnVlKTtcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGV2aWNlbW90aW9uJywgaGFuZGxlTW90aW9uKTtcclxuICAgIENvbmZpZy5zZXRJc0d5cm9FbmFibGVkKGZhbHNlKTtcclxuICAgIENvbmZpZy5zZXRHcmF2aXR5RGlyZWN0aW9uKG5ldyBWZWMyRCgwLCAxLjMpKTtcclxuICB9XHJcbn1cclxuXHJcbnBhcnRpY2xlc0Ftb3VudEVudHJ5Qm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICBDb25maWcuc2V0UGFydGljbGVOdW1iZXIocGFyc2VJbnQocGFydGljbGVzQW1vdW50RW50cnlCb3gudmFsdWUpKTtcclxuICBsZXQgZGlmZiA9IHBhcnRpY2xlcy5sZW5ndGggLSBDb25maWcuZ2V0UGFydGljbGVOdW1iZXIoKTtcclxuICB3aGlsZSggZGlmZiA+IDApe1xyXG4gICBwYXJ0aWNsZXMucG9wKCk7XHJcbiAgIGRpZmYtLTtcclxuICB9XHJcbn0pO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZU1vdGlvbihldmVudDogRGV2aWNlTW90aW9uRXZlbnQpOiB2b2lkIHtcclxuICBpZihDb25maWcuaXNHeXJvRW5hYmxlZCgpKXtcclxuICBDb25maWcuc2V0R3Jhdml0eURpcmVjdGlvbihuZXcgVmVjMkQoZXZlbnQuYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eS54LzUsLWV2ZW50LmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkueS81KSk7XHJcbiAgfSBlbHNle1xyXG4gICAgQ29uZmlnLnNldEdyYXZpdHlEaXJlY3Rpb24obmV3IFZlYzJEKDAsIDEuMykpO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVQb2ludGVyRnVuY3Rpb24oKSB7XHJcbiAgdmFyIHJhZGlvQnV0dG9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCdjdXJzb3ItZnVuY3Rpb24nKSBhcyBOb2RlTGlzdE9mPEhUTUxJbnB1dEVsZW1lbnQ+XHJcblxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmFkaW9CdXR0b25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBpZiAocmFkaW9CdXR0b25zW2ldLmNoZWNrZWQpIHtcclxuICAgICAgcmV0dXJuIHJhZGlvQnV0dG9uc1tpXS52YWx1ZTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRHcmF2aXR5U3RyZW5ndGgodmFsdWU6IG51bWJlcikge1xyXG4gIENvbmZpZy5zZXRHcmF2aXR5RGlyZWN0aW9uKG5ldyBWZWMyRCgwLCB2YWx1ZSAqIDAuMSkpO1xyXG59XHJcbiIsImltcG9ydCB7IEdyaWQgfSBmcm9tIFwiLi9HcmlkXCI7XHJcbmltcG9ydCBWZWMyRCBmcm9tIFwiLi9WZWMyRFwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXJ0aWNsZSB7XHJcbiAgc3RhdGljIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JlZ3JvdW5kLWNhbnZhcycpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG5cclxuICBwdWJsaWMgcG9zaXRpb246IFZlYzJEO1xyXG4gIHB1YmxpYyBhY2NlbGVyYXRpb246IFZlYzJEO1xyXG4gIHB1YmxpYyB2ZWxvY2l0eTogVmVjMkQ7XHJcbiAgcHVibGljIHJhZGl1czogbnVtYmVyO1xyXG4gIHB1YmxpYyBjb2xvcjogeyByOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyIH07XHJcbiAgcHJpdmF0ZSBncmlkOiBHcmlkO1xyXG4gIHByaXZhdGUgY2VsbDogVmVjMkQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBvczogVmVjMkQsIHJhZGl1czogbnVtYmVyLCB2ZWxvY2l0eTogVmVjMkQsIGNvbG9yOiB7IHI6IG51bWJlciwgZzogbnVtYmVyLCBiOiBudW1iZXIgfSwgZ3JpZDogR3JpZCkge1xyXG4gICAgdGhpcy5wb3NpdGlvbiA9IHBvcztcclxuICAgIHRoaXMudmVsb2NpdHkgPSB2ZWxvY2l0eTtcclxuICAgIHRoaXMuYWNjZWxlcmF0aW9uID0gbmV3IFZlYzJEKDAsMCk7XHJcbiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcclxuICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgIHRoaXMuZ3JpZCA9IGdyaWQ7XHJcbiAgICB0aGlzLmNlbGwgPSBuZXcgVmVjMkQoTWF0aC5mbG9vcih0aGlzLnBvc2l0aW9uLnggLyBncmlkLnBpeGVsU2l6ZSksIE1hdGguZmxvb3IodGhpcy5wb3NpdGlvbi55IC8gZ3JpZC5waXhlbFNpemUpKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVBvc2l0aW9uKGR0OiBudW1iZXIpIHtcclxuICAgIC8vIGxldCB2ZWxvY2l0eTogVmVjMkQgPSBuZXcgVmVjMkQodGhpcy5jdXJyZW50UG9zaXRpb24ueCAtIHRoaXMucHJldmlvdXNQb3NpdGlvbi54LCB0aGlzLmN1cnJlbnRQb3NpdGlvbi55IC0gdGhpcy5wcmV2aW91c1Bvc2l0aW9uLnkpO1xyXG5cclxuICAgIC8vbGV0IHNxID0gdGhpcy52ZWxvY2l0eS5zcXVhcmVkTGVuZ3RoKClcclxuICAgIC8vIGxldCBkcmFnID0gdGhpcy52ZWxvY2l0eS5jbG9uZSgpLm11bHRpcGx5KC0xICogc3EgKiAwLjAwMDAwMDUpXHJcbiAgICAvLyB0aGlzLnZlbG9jaXR5LmFkZChkcmFnKVxyXG5cclxuXHJcbiAgICBsZXQgbW92ZURlbHRhID0gdGhpcy52ZWxvY2l0eS5hZGQodGhpcy5hY2NlbGVyYXRpb24ubXVsdGlwbHkoKGR0KSkpLmNsb25lKClcclxuICAgIFxyXG4gICAgbW92ZURlbHRhLm11bHRpcGx5KGR0KVxyXG5cclxuICAgIFxyXG5cclxuXHJcbiAgICB0aGlzLnBvc2l0aW9uLmFkZChtb3ZlRGVsdGEpO1xyXG5cclxuICAgIHRoaXMuYWNjZWxlcmF0aW9uLnggPSAwO1xyXG4gICAgdGhpcy5hY2NlbGVyYXRpb24ueSA9IDA7XHJcblxyXG4gICAgdGhpcy51cGRhdGVDZWxsKCk7XHJcbiAgfVxyXG5cclxuICBhY2NlbGVyYXRlKGFjYzogVmVjMkQpIHtcclxuICAgIHRoaXMuYWNjZWxlcmF0aW9uLmFkZChhY2MpO1xyXG4gIH1cclxuXHJcblxyXG4gIGdldE5laWdoYm9yaW5nUGFydGljbGVzKCk6IFBhcnRpY2xlW10ge1xyXG4gICAgY29uc3QgbmVpZ2hib3JpbmdQYXJ0aWNsZXM6IFBhcnRpY2xlW10gPSBbXTtcclxuICBcclxuICAgIGZvciAobGV0IGkgPSB0aGlzLmNlbGwueCAtIDE7IGkgPD0gdGhpcy5jZWxsLnggKyAxOyBpKyspIHtcclxuICAgICAgZm9yIChsZXQgaiA9IHRoaXMuY2VsbC55IC0gMTsgaiA8PSB0aGlzLmNlbGwueSArIDE7IGorKykge1xyXG4gICAgICAgIGlmIChpID49IDAgJiYgaSA8IHRoaXMuZ3JpZC5jb2x1bW5zICYmIGogPj0gMCAmJiBqIDwgdGhpcy5ncmlkLnJvd3MpIHtcclxuICAgICAgICAgIG5laWdoYm9yaW5nUGFydGljbGVzLnB1c2goLi4udGhpcy5ncmlkLmNlbGxzW2ldW2pdKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBuZWlnaGJvcmluZ1BhcnRpY2xlcztcclxuICB9XHJcbiAgXHJcbiAgdXBkYXRlQ2VsbCgpe1xyXG4gICAgdGhpcy5jZWxsID0gbmV3IFZlYzJEKE1hdGguZmxvb3IodGhpcy5wb3NpdGlvbi54IC8gdGhpcy5ncmlkLnBpeGVsU2l6ZSksIE1hdGguZmxvb3IodGhpcy5wb3NpdGlvbi55IC8gdGhpcy5ncmlkLnBpeGVsU2l6ZSkpO1xyXG4gIH1cclxuXHJcblxyXG5cclxufSIsImltcG9ydCB7IGZvcmVncm91bmRDYW52YXMgfSBmcm9tICcuL0NhbnZhc01hbmFnZXInO1xyXG5pbXBvcnQgKiBhcyBDb25maWcgZnJvbSAnLi9Db25maWcnO1xyXG5pbXBvcnQgeyBJbnB1dEhhbmRsZXIgfSBmcm9tICcuL0lucHV0SGFuZGxlcic7XHJcbmltcG9ydCBQYXJ0aWNsZSBmcm9tICcuL1BhcnRpY2xlJztcclxuaW1wb3J0IFZlYzJEIGZyb20gJy4vVmVjMkQnO1xyXG5pbXBvcnQgeyBhdHRyYWN0b3JzLCBncmlkLCBwYXJ0aWNsZXMgfSBmcm9tICcuL3NjcmlwdCc7XHJcblxyXG5jb25zdCBpbnB1dEhhbmRsZXIgPSBJbnB1dEhhbmRsZXIuZ2V0SW5zdGFuY2UoKTtcclxubGV0IHByZXZpb3VzU2NyZWVuWD0gMCwgcHJldmlvdXNTY3JlZW5ZID0gMCwgcHJldmlvdXNWZWxvY2l0eSA9IG5ldyBWZWMyRCgwLDApXHJcbmZ1bmN0aW9uIHVwZGF0ZVBvc2l0aW9ucyhkdDogbnVtYmVyKSB7XHJcbiAgICBncmlkLnJlbW92ZUFsbCgpO1xyXG4gICAgcGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgXHJcbiAgICAgIHBhcnRpY2xlLnVwZGF0ZVBvc2l0aW9uKGR0KTtcclxuICAgICAgZ3JpZC5wdXQocGFydGljbGUpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFxyXG4gIGZ1bmN0aW9uIGFwcGx5R3Jhdml0eSgpIHtcclxuICAgIHBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgICBwYXJ0aWNsZS5hY2NlbGVyYXRlKENvbmZpZy5nZXRHcmF2aXR5RGlyZWN0aW9uKCkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBhcHBseUFjY2VsZXJhdGlvbihhY2M6IFZlYzJEKXtcclxuICAgIHBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgICBwYXJ0aWNsZS5hY2NlbGVyYXRlKGFjYylcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gbW92ZUFsbFBhcnRpY2xlcyh2ZWM6IFZlYzJEKXtcclxuICAgIHBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgICBwYXJ0aWNsZS5wb3NpdGlvbi5hZGQodmVjKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBhcHBseUZpZWxkKGZpZWxkUG9zOiBWZWMyRCkge1xyXG4gICAgcGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgICAgIGNvbnN0IHB1bGxEaXJlY3Rpb24gPSBmaWVsZFBvcy5kaWZmZXJlbmNlKHBhcnRpY2xlLnBvc2l0aW9uKTtcclxuICAgICAgY29uc3QgZGlzdGFuY2UgPSBwdWxsRGlyZWN0aW9uLmxlbmd0aCgpO1xyXG4gIFxyXG4gICAgICBpZiAoZGlzdGFuY2UgPCBDb25maWcuZ2V0RmllbGRTaXplKCkgJiYgZGlzdGFuY2UgPiAxMCkge1xyXG4gICAgICAgIHB1bGxEaXJlY3Rpb24ubXVsdGlwbHkoQ29uZmlnLmdldEZpZWxkU3RyZW5ndGgoKSAqIDEwMCk7XHJcbiAgICAgICAgcHVsbERpcmVjdGlvbi5kaXZpZGUoZGlzdGFuY2UgKiBkaXN0YW5jZSk7XHJcbiAgICAgICAgcGFydGljbGUuYWNjZWxlcmF0ZShwdWxsRGlyZWN0aW9uKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFxyXG4gIGV4cG9ydCBmdW5jdGlvbiBhcHBseUF0dHJhY3RvckZvcmNlc1RvQWxsKCkge1xyXG4gICAgcGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgICAgIGFwcGx5QXR0cmFjdG9yRm9yY2VzKHBhcnRpY2xlKVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgZXhwb3J0IGZ1bmN0aW9uIHRpY2soZHQ6IG51bWJlcikge1xyXG4gICAgdmFyIHN1Yl9kdCA9IGR0IC8gQ29uZmlnLmdldFBoeXNpY3NTdWJzdGVwc0Ftb3VudCgpO1xyXG4gICAgXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IENvbmZpZy5nZXRQaHlzaWNzU3Vic3RlcHNBbW91bnQoKTsgaSsrKSB7XHJcbiAgICAgIGlmIChDb25maWcuZ2V0R3Jhdml0eURpcmVjdGlvbigpLnkgIT0gMCkge1xyXG4gICAgICAgIGFwcGx5R3Jhdml0eSgpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoaW5wdXRIYW5kbGVyLmNsaWNrZWQpIHtcclxuICAgICAgICBzd2l0Y2ggKENvbmZpZy5nZXRQb2ludGVyRnVuY3Rpb24oKSkge1xyXG4gICAgICAgICAgY2FzZSAnZmllbGQnOlxyXG4gICAgICAgICAgICBhcHBseUZpZWxkKGlucHV0SGFuZGxlci5wb2ludGVyUG9zaXRpb24pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgJ2dyYXZpdHknOlxyXG4gICAgICAgICAgICBDb25maWcuc2V0R3Jhdml0eURpcmVjdGlvbihpbnB1dEhhbmRsZXIucG9pbnRlclBvc2l0aW9uLmRpZmZlcmVuY2UoaW5wdXRIYW5kbGVyLmNsaWNrU3RhcnRQb3NpdGlvbikuZGl2aWRlKDQwMCkpO1xyXG4gICAgICAgICAgY2FzZSAndGhyb3cnOlxyXG4gICAgICAgICAgICBicmVhaztcclxuICBcclxuICAgICAgICB9XHJcbiAgXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGRlbHRhWCA9IHdpbmRvdy5zY3JlZW5YIC0gcHJldmlvdXNTY3JlZW5YO1xyXG4gICAgICBjb25zdCBkZWx0YVkgPSB3aW5kb3cuc2NyZWVuWSAtIHByZXZpb3VzU2NyZWVuWTtcclxuICAgICAgY29uc3Qgc2NyZWVuVmVsb2NpdHkgPSBuZXcgVmVjMkQoLWRlbHRhWCwgLWRlbHRhWSk7XHJcbiAgICAgIGlmIChkZWx0YVggIT0gMCB8fCBkZWx0YVkgIT0gMCl7XHJcbiAgICAgICAgbW92ZUFsbFBhcnRpY2xlcyhzY3JlZW5WZWxvY2l0eSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcblxyXG4gICAgICBwcmV2aW91c1NjcmVlblggPSB3aW5kb3cuc2NyZWVuWDtcclxuICAgICAgcHJldmlvdXNTY3JlZW5ZID0gd2luZG93LnNjcmVlblk7XHJcblxyXG5cclxuICAgICAgLy8gYXBwbHlBdHRyYWN0b3JGb3JjZXNUb0FsbCgpO1xyXG4gICAgICBhcHBseUNvbnN0cmFpbnRUb0FsbEVkZ2VzKCk7XHJcbiAgICAgIHNvbHZlQ29sbGlzaW9ucygpO1xyXG4gICAgICB1cGRhdGVQb3NpdGlvbnMoc3ViX2R0KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGFwcGx5Q29uc3RyYWludFRvQWxsRWRnZXMoKSB7XHJcblxyXG4gICAgcGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgICAgIGFwcGx5Q29uc3RyYWludChwYXJ0aWNsZSk7XHJcbiAgICB9KTtcclxuICAgIC8vIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IGdyaWQubGVuZ3RoOyBjb2wrKykge1xyXG4gICAgLy8gICBmb3IgKHZhciB0aGlja25lc3MgPSAwOyB0aGlja25lc3MgPCAyOyB0aGlja25lc3MrKykge1xyXG4gICAgLy8gICAgIGdyaWRbY29sXVt0aGlja25lc3NdLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgICAvLyAgICAgICBhcHBseUNvbnN0cmFpbnQocGFydGljbGUpO1xyXG4gICAgLy8gICAgIH0pO1xyXG4gIFxyXG4gICAgLy8gICAgIGdyaWRbY29sXVtncmlkWzBdLmxlbmd0aCAtIHRoaWNrbmVzcyAtIDFdLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgICAvLyAgICAgICBhcHBseUNvbnN0cmFpbnQocGFydGljbGUpO1xyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy8gICB9XHJcbiAgICAvLyB9XHJcbiAgXHJcbiAgICAvLyBmb3IgKHZhciByb3cgPSAwOyByb3cgPCBncmlkWzBdLmxlbmd0aDsgcm93KyspIHtcclxuICAgIC8vICAgZm9yICh2YXIgdGhpY2tuZXNzID0gMDsgdGhpY2tuZXNzIDwgMjsgdGhpY2tuZXNzKyspIHtcclxuICAgIC8vICAgICBncmlkW3RoaWNrbmVzc11bcm93XS5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgLy8gICAgICAgYXBwbHlDb25zdHJhaW50KHBhcnRpY2xlKTtcclxuICAgIC8vICAgICB9KTtcclxuICBcclxuICAgIC8vICAgICBncmlkW2dyaWQubGVuZ3RoIC0gdGhpY2tuZXNzIC0gMV1bcm93XS5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgLy8gICAgICAgYXBwbHlDb25zdHJhaW50KHBhcnRpY2xlKTtcclxuICAgIC8vICAgICB9KTtcclxuICAgIC8vICAgfVxyXG4gICAgLy8gfVxyXG4gIH1cclxuXHJcbiAgZXhwb3J0IGZ1bmN0aW9uIGFwcGx5Q29uc3RyYWludChwYXJ0aWNsZTogUGFydGljbGUpIHtcclxuICAgIC8vIEFwcGx5IGZsb29yIGNvbnN0cmFpbnRcclxuICAgIGlmIChwYXJ0aWNsZS5wb3NpdGlvbi55ICsgcGFydGljbGUucmFkaXVzID49IGZvcmVncm91bmRDYW52YXMuaGVpZ2h0KSB7XHJcbiAgICAgIHBhcnRpY2xlLnZlbG9jaXR5ID0gbmV3IFZlYzJEKHBhcnRpY2xlLnZlbG9jaXR5LngqIDAuOTkyLCAtTWF0aC5hYnMocGFydGljbGUudmVsb2NpdHkueSAqIDAuNikpXHJcbiAgICAgIHBhcnRpY2xlLnBvc2l0aW9uLnkgPSBmb3JlZ3JvdW5kQ2FudmFzLmhlaWdodCAtIHBhcnRpY2xlLnJhZGl1cztcclxuXHJcbiAgICB9XHJcbiAgXHJcbiAgICAvLyBBcHBseSBDZWlsaW5nIGNvbnN0cmFpbnRcclxuICAgIGlmIChwYXJ0aWNsZS5wb3NpdGlvbi55IC0gcGFydGljbGUucmFkaXVzIDw9IDApIHtcclxuICAgICAgcGFydGljbGUucG9zaXRpb24ueSA9IHBhcnRpY2xlLnJhZGl1cztcclxuICAgICAgcGFydGljbGUudmVsb2NpdHkgPSBuZXcgVmVjMkQocGFydGljbGUudmVsb2NpdHkueCwgTWF0aC5hYnMocGFydGljbGUudmVsb2NpdHkueSAqIDAuNikpXHJcbiAgICB9XHJcbiAgXHJcbiAgXHJcbiAgICAvLyBBcHBseSBsZWZ0IHdhbGwgY29uc3RyYWludFxyXG4gICAgaWYgKHBhcnRpY2xlLnBvc2l0aW9uLnggLSBwYXJ0aWNsZS5yYWRpdXMgPD0gMCkge1xyXG4gICAgICBwYXJ0aWNsZS5wb3NpdGlvbi54ID0gcGFydGljbGUucmFkaXVzO1xyXG4gICAgICBwYXJ0aWNsZS52ZWxvY2l0eSA9IG5ldyBWZWMyRChNYXRoLmFicyhwYXJ0aWNsZS52ZWxvY2l0eS54ICogMC42KSwgcGFydGljbGUudmVsb2NpdHkueSlcclxuICAgIH1cclxuICBcclxuICAgIC8vIEFwcGx5IHJpZ2h0IHdhbGwgY29uc3RyYWludFxyXG4gICAgaWYgKHBhcnRpY2xlLnBvc2l0aW9uLnggKyBwYXJ0aWNsZS5yYWRpdXMgPj0gZm9yZWdyb3VuZENhbnZhcy53aWR0aCkge1xyXG4gICAgICBwYXJ0aWNsZS52ZWxvY2l0eSA9IG5ldyBWZWMyRCgtTWF0aC5hYnMocGFydGljbGUudmVsb2NpdHkueCAqIDAuNiksIHBhcnRpY2xlLnZlbG9jaXR5LnkpXHJcbiAgICAgIHBhcnRpY2xlLnBvc2l0aW9uLnggPSBmb3JlZ3JvdW5kQ2FudmFzLndpZHRoIC0gcGFydGljbGUucmFkaXVzO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZXhwb3J0IGZ1bmN0aW9uIGFwcGx5QXR0cmFjdG9yRm9yY2VzKHBhcnRpY2xlOiBQYXJ0aWNsZSkge1xyXG4gICAgYXR0cmFjdG9ycy5mb3JFYWNoKChhdHRyYWN0b3IpID0+IHtcclxuICAgICAgY29uc3QgcHVsbERpcmVjdGlvbiA9IGF0dHJhY3Rvci5wb3NpdGlvbi5kaWZmZXJlbmNlKHBhcnRpY2xlLnBvc2l0aW9uKVxyXG4gICAgICBjb25zdCBkaXN0YW5jZSA9IHB1bGxEaXJlY3Rpb24ubGVuZ3RoKCk7XHJcbiAgXHJcbiAgICAgIGlmIChkaXN0YW5jZSA8IGF0dHJhY3Rvci5yYWRpdXMgJiYgZGlzdGFuY2UgPiAxMCkge1xyXG4gICAgICAgIHB1bGxEaXJlY3Rpb24ubXVsdGlwbHkoYXR0cmFjdG9yLmZvcmNlKTtcclxuICAgICAgICBwdWxsRGlyZWN0aW9uLmRpdmlkZShkaXN0YW5jZSAqIGRpc3RhbmNlKVxyXG4gICAgICAgIHBhcnRpY2xlLmFjY2VsZXJhdGUocHVsbERpcmVjdGlvbik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBzb2x2ZUNvbGxpc2lvbnMyKCkge1xyXG4gICAgcGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlMSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG5laWdoYm9yaW5nUGFydGljbGVzID0gcGFydGljbGUxLmdldE5laWdoYm9yaW5nUGFydGljbGVzKCk7XHJcbiAgICAgICAgbmVpZ2hib3JpbmdQYXJ0aWNsZXMuZm9yRWFjaCgocGFydGljbGUyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwYXJ0aWNsZTEgPT09IHBhcnRpY2xlMikgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgbGV0IHNxdWFyZWREaXN0YW5jZSA9IHBhcnRpY2xlMS5wb3NpdGlvbi5zcXVhcmVkRGlzdGFuY2VUbyhwYXJ0aWNsZTIucG9zaXRpb24pO1xyXG5cclxuICAgICAgICAgICAgLy9jaGVjayBpZiB0aGUgY29sbGlzaW9uIG9jY3VycmVkLCBpZiBubywgcmV0dXJuXHJcbiAgICAgICAgICAgIGlmIChzcXVhcmVkRGlzdGFuY2UgPiAocGFydGljbGUxLnJhZGl1cyArIHBhcnRpY2xlMi5yYWRpdXMpKioyKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBsZXQgZGlzdGFuY2UgPSBNYXRoLnNxcnQoc3F1YXJlZERpc3RhbmNlKTtcclxuICAgICAgICAgICAgbGV0IGNvbGxpc2lvbk5vcm1hbCA9IG5ldyBWZWMyRCgocGFydGljbGUyLnBvc2l0aW9uLnggLSBwYXJ0aWNsZTEucG9zaXRpb24ueCkvIGRpc3RhbmNlLCAocGFydGljbGUyLnBvc2l0aW9uLnkgLSBwYXJ0aWNsZTEucG9zaXRpb24ueSkgLyBkaXN0YW5jZSk7XHJcblxyXG4gICAgICAgICAgICAvL25vIG5lZWQgdG8gbXVsdGlwbHkgYnkgMiwgYmVjYXVzZSBtMSsgbTIgaXMgMlxyXG4gICAgICAgICAgICBsZXQgcCA9IChwYXJ0aWNsZTEudmVsb2NpdHkueCAqIGNvbGxpc2lvbk5vcm1hbC54ICsgcGFydGljbGUxLnZlbG9jaXR5LnkgKiBjb2xsaXNpb25Ob3JtYWwueSAtIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWNsZTIudmVsb2NpdHkueCAqIGNvbGxpc2lvbk5vcm1hbC54ICsgcGFydGljbGUyLnZlbG9jaXR5LnkgKiBjb2xsaXNpb25Ob3JtYWwueSk7XHJcbiAgICAgICAgICAgIHBhcnRpY2xlMS52ZWxvY2l0eS5zZXQobmV3IFZlYzJEKHBhcnRpY2xlMS52ZWxvY2l0eS54IC0gcCAqIGNvbGxpc2lvbk5vcm1hbC54LCBwYXJ0aWNsZTEudmVsb2NpdHkueSAtIHAgKiBjb2xsaXNpb25Ob3JtYWwueSkpXHJcbiAgICAgICAgICAgIHBhcnRpY2xlMi52ZWxvY2l0eS5zZXQobmV3IFZlYzJEKHBhcnRpY2xlMi52ZWxvY2l0eS54ICsgcCAqIGNvbGxpc2lvbk5vcm1hbC54LCBwYXJ0aWNsZTIudmVsb2NpdHkueSArIHAgKiBjb2xsaXNpb25Ob3JtYWwueSkpXHJcblxyXG5cclxuICAgICAgICAgICAgLy8gdGVtcENvbGxpc2lvbkRpcmVjdGlvbi5zZXQocGFydGljbGUxLmN1cnJlbnRQb3NpdGlvbikuc3VidHJhY3QocGFydGljbGUyLmN1cnJlbnRQb3NpdGlvbik7XHJcbiAgICAgICAgICAgIC8vIHNxdWFyZWREaXN0YW5jZSA9IHRlbXBDb2xsaXNpb25EaXJlY3Rpb24uc3F1YXJlZExlbmd0aCgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gcmFkaWlTdW0gPSBwYXJ0aWNsZTEucmFkaXVzICsgcGFydGljbGUyLnJhZGl1cztcclxuICAgICAgICAgICAgLy8gc3F1YXJlZFJhZGlpU3VtID0gcmFkaWlTdW0gKiByYWRpaVN1bTtcclxuXHJcbiAgICAgICAgICAgIC8vIGlmIChzcXVhcmVkRGlzdGFuY2UgPCBzcXVhcmVkUmFkaWlTdW0gJiYgc3F1YXJlZERpc3RhbmNlICE9PSAwKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBudW1iZXJPZkNvbGxpc2lvbnMrKztcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyAgICAgbGV0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KHNxdWFyZWREaXN0YW5jZSk7XHJcbiAgICAgICAgICAgIC8vICAgICBsZXQgbm9ybWFsID0gdGVtcENvbGxpc2lvbkRpcmVjdGlvbi5kaXZpZGUoZGlzdGFuY2UpO1xyXG4gICAgICAgICAgICAvLyAgICAgbGV0IGRlbHRhID0gcmFkaWlTdW0gLSBkaXN0YW5jZTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBNb3ZlIHBhcnRpY2xlcyBhcGFydCBiYXNlZCBvbiB0aGVpciBvdmVybGFwXHJcbiAgICAgICAgICAgIC8vIGxldCBkaXNwbGFjZW1lbnQgPSBub3JtYWwubXVsdGlwbHkoZGVsdGEgKiAwLjUpO1xyXG4gICAgICAgICAgICAvLyBwYXJ0aWNsZTEuY3VycmVudFBvc2l0aW9uLmFkZChkaXNwbGFjZW1lbnQpO1xyXG4gICAgICAgICAgICAvLyBwYXJ0aWNsZTIuY3VycmVudFBvc2l0aW9uLnN1YnRyYWN0KGRpc3BsYWNlbWVudCk7XHJcbiAgICAgICAgICAgIGxldCBkZWx0YSA9IChwYXJ0aWNsZTEucmFkaXVzICsgcGFydGljbGUyLnJhZGl1cykgLSBkaXN0YW5jZTtcclxuICAgICAgICAgICAgY29sbGlzaW9uTm9ybWFsLm11bHRpcGx5KGRlbHRhICogMC42KVxyXG5cclxuICAgICAgICAgICAgcGFydGljbGUxLnBvc2l0aW9uLnN1YnRyYWN0KGNvbGxpc2lvbk5vcm1hbCk7XHJcbiAgICAgICAgICAgIHBhcnRpY2xlMi5wb3NpdGlvbi5hZGQoY29sbGlzaW9uTm9ybWFsKTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIC8vIGNvbnNvbGUubG9nKG51bWJlck9mQ29sbGlzaW9ucyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNvbHZlQ29sbGlzaW9ucygpIHtcclxuICB2YXIgbnVtYmVyT2ZDb2xsaXNpb25zID0gMDtcclxuXHJcblxyXG4gIGxldCB0ZW1wQ29sbGlzaW9uRGlyZWN0aW9uID0gbmV3IFZlYzJEKDAsIDApO1xyXG4gIGxldCBzcXVhcmVkRGlzdGFuY2UgPSAwO1xyXG4gIGxldCByYWRpaVN1bSA9IDA7XHJcbiAgbGV0IHNxdWFyZWRSYWRpaVN1bSA9IDA7XHJcblxyXG4gIHBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZTEpID0+IHtcclxuICAgIGNvbnN0IG5laWdoYm9yaW5nUGFydGljbGVzID0gcGFydGljbGUxLmdldE5laWdoYm9yaW5nUGFydGljbGVzKCk7XHJcbiAgICBuZWlnaGJvcmluZ1BhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZTIpID0+IHtcclxuICAgICAgaWYgKHBhcnRpY2xlMSA9PT0gcGFydGljbGUyKSByZXR1cm47XHJcblxyXG4gICAgICB0ZW1wQ29sbGlzaW9uRGlyZWN0aW9uLnNldChwYXJ0aWNsZTEucG9zaXRpb24pLnN1YnRyYWN0KHBhcnRpY2xlMi5wb3NpdGlvbik7XHJcbiAgICAgIHNxdWFyZWREaXN0YW5jZSA9IHRlbXBDb2xsaXNpb25EaXJlY3Rpb24uc3F1YXJlZExlbmd0aCgpO1xyXG4gICAgICBcclxuICAgICAgcmFkaWlTdW0gPSBwYXJ0aWNsZTEucmFkaXVzICsgcGFydGljbGUyLnJhZGl1cztcclxuICAgICAgc3F1YXJlZFJhZGlpU3VtID0gcmFkaWlTdW0gKiByYWRpaVN1bTtcclxuXHJcbiAgICAgIGlmIChzcXVhcmVkRGlzdGFuY2UgPCBzcXVhcmVkUmFkaWlTdW0pIHtcclxuICAgICAgICBudW1iZXJPZkNvbGxpc2lvbnMrKztcclxuICAgICAgICBcclxuICAgICAgICAgIGxldCBkaXN0YW5jZSA9IE1hdGguc3FydChzcXVhcmVkRGlzdGFuY2UpO1xyXG4gICAgICAgICAgdGVtcENvbGxpc2lvbkRpcmVjdGlvbi5kaXZpZGUoZGlzdGFuY2UpO1xyXG4gICAgICBcclxuICAgICAgICAgIGxldCBkZWx0YSA9IHJhZGlpU3VtIC0gZGlzdGFuY2U7XHJcbiAgICAgICAgICB0ZW1wQ29sbGlzaW9uRGlyZWN0aW9uLm11bHRpcGx5KGRlbHRhICogMC41KTtcclxuICAgICAgXHJcbiAgICAgICAgICBwYXJ0aWNsZTEucG9zaXRpb24uYWRkKHRlbXBDb2xsaXNpb25EaXJlY3Rpb24pO1xyXG4gICAgICAgICAgcGFydGljbGUyLnBvc2l0aW9uLnN1YnRyYWN0KHRlbXBDb2xsaXNpb25EaXJlY3Rpb24pO1xyXG5cclxuICAgICAgICAgIHBhcnRpY2xlMS52ZWxvY2l0eS5hZGQodGVtcENvbGxpc2lvbkRpcmVjdGlvbikuYWRkKG5ldyBWZWMyRCAoMC4wMDEtIE1hdGgucmFuZG9tKCkvMTAwMCoyLCAwLjAwMS0gTWF0aC5yYW5kb20oKS8xMDAwKjIpKTtcclxuICAgICAgICAgIHBhcnRpY2xlMi52ZWxvY2l0eS5zdWJ0cmFjdCh0ZW1wQ29sbGlzaW9uRGlyZWN0aW9uKS5hZGQobmV3IFZlYzJEICgwLjAwMS0gTWF0aC5yYW5kb20oKS8xMDAwKjIsIDAuMDAxLSBNYXRoLnJhbmRvbSgpLzEwMDAqMikpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxuICAvLyBjb25zb2xlLmxvZyhudW1iZXJPZkNvbGxpc2lvbnMpO1xyXG59IiwiaW1wb3J0IFZlYzJEIGZyb20gXCIuL1ZlYzJEXCI7XHJcbmltcG9ydCAqIGFzIENvbmZpZyBmcm9tICcuL0NvbmZpZyc7XHJcbmltcG9ydCBwYXJ0aWNsZUZyYWdtZW50U2hhZGVyIGZyb20gXCIuL3NoYWRlcnMvcGFydGljbGVGcmFnbWVudFNoYWRlci5mcmFnXCI7XHJcbmltcG9ydCBwYXJ0aWNsZVZlcnRleFNoYWRlciBmcm9tIFwiLi9zaGFkZXJzL3BhcnRpY2xlVmVydGV4U2hhZGVyLnZlcnRcIjtcclxuaW1wb3J0IHsgY3JlYXRlUHJvZ3JhbSwgY3JlYXRlU2hhZGVyLCByZXNpemVDYW52YXNUb0Rpc3BsYXlTaXplIH0gZnJvbSBcIi4vU2hhZGVySGVscGVyXCI7XHJcbmltcG9ydCBBdHRyYWN0b3IgZnJvbSBcIi4vQXR0cmFjdG9yXCI7XHJcbmltcG9ydCB7IGJhY2tncm91bmRDYW52YXNDdHgsIGZvcmVncm91bmRDYW52YXMsIGZvcmVncm91bmRDYW52YXNDdHggfSBmcm9tIFwiLi9DYW52YXNNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IGFwcGx5QXR0cmFjdG9yRm9yY2VzLCBhcHBseUNvbnN0cmFpbnQgfSBmcm9tIFwiLi9QaHlzaWNzRW5naW5lXCI7XHJcbmltcG9ydCB7IElucHV0SGFuZGxlciB9IGZyb20gXCIuL0lucHV0SGFuZGxlclwiO1xyXG5pbXBvcnQgeyBncmlkLCBwYXJ0aWNsZXMgfSBmcm9tIFwiLi9zY3JpcHRcIjtcclxuaW1wb3J0IFBhcnRpY2xlIGZyb20gXCIuL1BhcnRpY2xlXCI7XHJcbmltcG9ydCB7IGdldEF2ZXJhZ2VGcmFtZVRpbWUgfSBmcm9tIFwiLi9VSU1hbmFnZXJcIjtcclxuXHJcblxyXG52YXIgd2ViZ2xDYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2ViZ2wtY2FudmFzJykgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbnZhciBnbCA9IHdlYmdsQ2FudmFzLmdldENvbnRleHQoXCJ3ZWJnbFwiKTtcclxud2ViZ2xDYW52YXMhLndpZHRoID0gd2ViZ2xDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbndlYmdsQ2FudmFzIS5oZWlnaHQgPSB3ZWJnbENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcblxyXG5jb25zdCBpbnB1dEhhbmRsZXIgPSBJbnB1dEhhbmRsZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHJcbmlmICghZ2wpIHtcclxuICBjb25zb2xlLmVycm9yKFwiVW5hYmxlIHRvIGluaXRpYWxpemUgV2ViR0wuIFlvdXIgYnJvd3NlciBtYXkgbm90IHN1cHBvcnQgaXQuXCIpO1xyXG59XHJcblxyXG4vL2VuYWxiaW5nIGJsZW5kaW5nIGZvciBwcm9wZXIgYWxwaGEgb24gdGhlIHBhcnRpY2xlc1xyXG5nbC5lbmFibGUoZ2wuQkxFTkQpO1xyXG5nbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcclxuXHJcbi8vY29tcGlsaW5nIHRoZSBzaGFkZXJzIHdpdGggYSBoZWxwZXIgZnVuY3Rpb25cclxudmFyIHZlcnRleFNoYWRlciA9IGNyZWF0ZVNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgcGFydGljbGVWZXJ0ZXhTaGFkZXIpO1xyXG52YXIgZnJhZ21lbnRTaGFkZXIgPSBjcmVhdGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgcGFydGljbGVGcmFnbWVudFNoYWRlcik7XHJcblxyXG4vL2NyZWF0aW5nIGEgV2ViR0wgcHJvZ3JhbSBhbmQgYXR0YWNoaW5nIHRoZSBzaGFkZXJzIHRvIGl0IHdpdGggYSBoZWxwZXIgZnVuY3Rpb25cclxudmFyIHByb2dyYW0gPSBjcmVhdGVQcm9ncmFtKGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKTtcclxuXHJcbi8vbG9va2luZyB1cCB1bmlmb3JtIGxvY2F0aW9uIGFuZCB3aGVyZSB0aGUgdmVydGV4IGRhdGEgbmVlZHMgdG8gZ29cclxudmFyIHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCBcImFfcG9zaXRpb25cIik7XHJcbnZhciByZXNvbHV0aW9uVW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sIFwidV9yZXNvbHV0aW9uXCIpO1xyXG52YXIgY29sb3JVbmlmb3JtTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgXCJ1X2NvbG9yXCIpO1xyXG52YXIgdHJhbnNsYXRpb25Mb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCBcInVfdHJhbnNsYXRpb25cIik7XHJcbnZhciByYWRpdXNVbmlmb3JtTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgXCJ1X3JhZGl1c1wiKTtcclxudmFyIG91dGxpbmVVbmlmb3JtTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgXCJ1X291dGxpbmVfYmxhY2tcIik7XHJcbnZhciBwb3NpdGlvbkJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG5nbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcG9zaXRpb25CdWZmZXIpO1xyXG5cclxuZnVuY3Rpb24gc2V0UmVjdGFuZ2xlKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHg6bnVtYmVyLCB5Om51bWJlciwgd2lkdGg6bnVtYmVyLCBoZWlnaHQ6bnVtYmVyKSB7XHJcbiAgdmFyIHgxID0geCAtIHdpZHRoIC8gMjtcclxuICB2YXIgeDIgPSB4ICsgd2lkdGggLyAyO1xyXG4gIHZhciB5MSA9IHkgLSBoZWlnaHQgLyAyO1xyXG4gIHZhciB5MiA9IHkgKyBoZWlnaHQgLyAyO1xyXG4gXHJcbiAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoW1xyXG4gICAgIHgxLCB5MSxcclxuICAgICB4MiwgeTEsXHJcbiAgICAgeDEsIHkyLFxyXG4gICAgIHgxLCB5MixcclxuICAgICB4MiwgeTEsXHJcbiAgICAgeDIsIHkyXSksIGdsLlNUQVRJQ19EUkFXKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEdlb21ldHJ5KCl7XHJcbiAgcGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgICBzZXRSZWN0YW5nbGUoXHJcbiAgICAgIGdsLCAwLCAwLCBDb25maWcuZ2V0R3JpZFNpemUoKSwgQ29uZmlnLmdldEdyaWRTaXplKCkpO1xyXG4gIH0pO1xyXG5cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZHJhd1BhcnRpY2xlcygpIHtcclxuICByZXNpemVDYW52YXNUb0Rpc3BsYXlTaXplKGdsLmNhbnZhcyk7XHJcblxyXG4gIC8vIFRlbGwgV2ViR0wgaG93IHRvIGNvbnZlcnQgZnJvbSBjbGlwIHNwYWNlIHRvIHBpeGVsc1xyXG4gIGdsLnZpZXdwb3J0KDAsIDAsIGdsLmNhbnZhcy53aWR0aCwgZ2wuY2FudmFzLmhlaWdodCk7XHJcblxyXG4gIC8vIENsZWFyIHRoZSBjYW52YXNcclxuICBnbC5jbGVhckNvbG9yKDAsIDAsIDAsIDApOyAvLyBDbGVhciB0byB0cmFuc3BhcmVudCBibGFja1xyXG4gIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQpO1xyXG5cclxuICAvLyBUZWxsIGl0IHRvIHVzZSBwcm9ncmFtIChwYWlyIG9mIHNoYWRlcnMpXHJcbiAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcclxuXHJcbiAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbik7XHJcblxyXG4gIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBwb3NpdGlvbkJ1ZmZlcik7XHJcbiAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xyXG4gIHZhciBvdXRsaW5lQ29sb3IgPSBwYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKCctLWlzLW91dGxpbmUtZGFyaycpKTtcclxuICB2YXIgcmVzb2x1dGlvbiA9IFtnbC5jYW52YXMud2lkdGgsIGdsLmNhbnZhcy5oZWlnaHRdXHJcbiAgLy8gRHJhdyB0aGUgcmVjdGFuZ2xlLlxyXG4gIHBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgICBnbC51bmlmb3JtMmZ2KHJlc29sdXRpb25Vbmlmb3JtTG9jYXRpb24sIHJlc29sdXRpb24pO1xyXG4gICAgICBnbC51bmlmb3JtMmYodHJhbnNsYXRpb25Mb2NhdGlvbiwgcGFydGljbGUucG9zaXRpb24ueCwgcGFydGljbGUucG9zaXRpb24ueSk7XHJcbiAgICAgIGdsLnVuaWZvcm0zZihjb2xvclVuaWZvcm1Mb2NhdGlvbiwgcGFydGljbGUuY29sb3IucixwYXJ0aWNsZS5jb2xvci5nLCBwYXJ0aWNsZS5jb2xvci5iKTtcclxuICAgICAgZ2wudW5pZm9ybTFmKHJhZGl1c1VuaWZvcm1Mb2NhdGlvbiwgcGFydGljbGUucmFkaXVzKVxyXG4gICAgICBnbC51bmlmb3JtMWYob3V0bGluZVVuaWZvcm1Mb2NhdGlvbiwgb3V0bGluZUNvbG9yKTtcclxuICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRVMsIDAsIDYpO1xyXG4gIH0pO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd0F0dHJhY3RvcnMoYXR0cmFjdG9yczogQXR0cmFjdG9yW10pIHtcclxuICBhdHRyYWN0b3JzLmZvckVhY2goKGF0dHJhY3RvcikgPT4ge1xyXG4gICAgYXR0cmFjdG9yLmFuaW1hdGUoKTtcclxuICB9KTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkcmF3RG90dGVkTGluZShmcm9tOiBWZWMyRCwgdG86IFZlYzJELCByYWRpdXM6IG51bWJlciA9IDUsIGRvdENvdW50OiBudW1iZXIgPSA4KSB7XHJcbiAgaWYgKGlucHV0SGFuZGxlci5jbGlja2VkICYmIGZyb20ueCAhPSB0by54ICYmIGZyb20ueSAhPSB0by55KSB7XHJcbiAgICBjb25zdCBkaXN0YW5jZSA9IGZyb20uZGlmZmVyZW5jZSh0byk7XHJcbiAgICBkcmF3UHJlZGljdGVkUGF0aChmcm9tLmNsb25lKCksIGRpc3RhbmNlLmNsb25lKCkubXVsdGlwbHkoMC4xKSlcclxuICAgIGRpc3RhbmNlLmRpdmlkZShkb3RDb3VudCk7XHJcbiAgICB2YXIgYW5nbGUgPSBNYXRoLmF0YW4yKHRvLnkgLSBmcm9tLnksIHRvLnggLSBmcm9tLngpO1xyXG4gICAgdmFyIG5ld190byA9IG5ldyBWZWMyRCh0by54LCB0by55KTtcclxuXHJcbiAgICBuZXdfdG8ueCAtPSBNYXRoLmNvcyhhbmdsZSk7XHJcbiAgICBuZXdfdG8ueSAtPSBNYXRoLnNpbihhbmdsZSk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gZG90Q291bnQ7IGkrKykge1xyXG4gICAgICB2YXIgZG90WCA9IGZyb20ueCAtIGRpc3RhbmNlLnggKiBpO1xyXG4gICAgICB2YXIgZG90WSA9IGZyb20ueSAtIGRpc3RhbmNlLnkgKiBpO1xyXG4gICAgICBkcmF3RG90KGRvdFgsIGRvdFksIHJhZGl1cywgMjU1KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZHJhd1ByZWRpY3RlZFBhdGgoc3RhcnRQb3M6IFZlYzJELCBBY2NlbGVyYXRpb25WZWN0b3I6IFZlYzJEKSB7XHJcbiAgbGV0IGRvdENvdW50ID0gMTI3O1xyXG4gIGxldCBwcmVkaWN0ZWREb3QgPSBuZXcgUGFydGljbGUoc3RhcnRQb3MsIENvbmZpZy5nZXRHcmlkU2l6ZSgpLzIsIEFjY2VsZXJhdGlvblZlY3Rvciwge3I6MCwgZzowLCBiOjB9LGdyaWQpXHJcbiAgZm9yIChsZXQgaSA9IDE7IGkgPD0gZG90Q291bnQ7IGkrKykge1xyXG5cclxuICAgIHByZWRpY3RlZERvdC5hY2NlbGVyYXRlKENvbmZpZy5nZXRHcmF2aXR5RGlyZWN0aW9uKCkpO1xyXG4gICAgYXBwbHlDb25zdHJhaW50KHByZWRpY3RlZERvdCk7XHJcbiAgICBhcHBseUF0dHJhY3RvckZvcmNlcyhwcmVkaWN0ZWREb3QpO1xyXG4gICAgcHJlZGljdGVkRG90LnVwZGF0ZVBvc2l0aW9uKGdldEF2ZXJhZ2VGcmFtZVRpbWUoKS8yMCk7XHJcbiAgICBpZiAoaSAlIDMgPT0gMCkge1xyXG4gICAgICBkcmF3RG90KHByZWRpY3RlZERvdC5wb3NpdGlvbi54LCBwcmVkaWN0ZWREb3QucG9zaXRpb24ueSwgNSwgMjU1IC0gaSoyKVxyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZHJhd0RvdChkb3RYOiBudW1iZXIsIGRvdFk6IG51bWJlciwgZG90U2l6ZTogbnVtYmVyLCBvcGFjaXR5OiBudW1iZXIpIHtcclxuICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmJlZ2luUGF0aCgpO1xyXG4gIGZvcmVncm91bmRDYW52YXNDdHguYXJjKFxyXG4gICAgZG90WCxcclxuICAgIGRvdFksXHJcbiAgICBkb3RTaXplLFxyXG4gICAgMCxcclxuICAgIDIgKiBNYXRoLlBJLFxyXG4gICAgZmFsc2VcclxuICApO1xyXG5cclxuICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmZpbGxTdHlsZSA9IGByZ2JhKDIxMCwgMjEwLCAyMTAsICR7b3BhY2l0eSAvIDI1NX0pYDtcclxuICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmZpbGwoKTtcclxuXHJcbiAgZm9yZWdyb3VuZENhbnZhc0N0eC5jbG9zZVBhdGgoKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdMYXNzbyhsaW5lV2lkdGg6IG51bWJlciA9IDMpIHtcclxuICBpZiAoaW5wdXRIYW5kbGVyLmNsaWNrZWQpIHtcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHguYmVnaW5QYXRoKCk7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmFyYyhpbnB1dEhhbmRsZXIucG9pbnRlclBvc2l0aW9uLngsIGlucHV0SGFuZGxlci5wb2ludGVyUG9zaXRpb24ueSwgQ29uZmlnLmdldEZpZWxkU2l6ZSgpLCAwLCAyICogTWF0aC5QSSk7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmxpbmVXaWR0aCA9IGxpbmVXaWR0aDtcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHguc3Ryb2tlU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZSgnLS1ncmlkLWNvbG9yJyk7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LnN0cm9rZSgpO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5jbG9zZVBhdGgoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkcmF3QXJyb3coZnJvbTogVmVjMkQsIHRvOiBWZWMyRCkge1xyXG4gIGlmIChpbnB1dEhhbmRsZXIuY2xpY2tlZCAmJiBmcm9tLnggIT0gdG8ueCAmJiBmcm9tLnkgIT0gdG8ueSkge1xyXG4gICAgdmFyIGFuZ2xlID0gTWF0aC5hdGFuMih0by55IC0gZnJvbS55LCB0by54IC0gZnJvbS54KTtcclxuICAgIGNvbnN0IHdpZHRoID0gMTA7XHJcbiAgICB2YXIgaGVhZGxlbiA9IDEwO1xyXG4gICAgdmFyIG5ld190byA9IG5ldyBWZWMyRCh0by54LCB0by55KTtcclxuICAgIC8vIFRoaXMgbWFrZXMgaXQgc28gdGhlIGVuZCBvZiB0aGUgYXJyb3cgaGVhZCBpcyBsb2NhdGVkIGF0IHRveCwgdG95LCBkb24ndCBhc2sgd2hlcmUgMS4xNSBjb21lcyBmcm9tXHJcbiAgICBuZXdfdG8ueCAtPSBNYXRoLmNvcyhhbmdsZSkgKiAoKHdpZHRoICogMS4xNSkpO1xyXG4gICAgbmV3X3RvLnkgLT0gTWF0aC5zaW4oYW5nbGUpICogKCh3aWR0aCAqIDEuMTUpKTtcclxuXHJcblxyXG5cclxuICAgIC8vc3RhcnRpbmcgcGF0aCBvZiB0aGUgYXJyb3cgZnJvbSB0aGUgc3RhcnQgc3F1YXJlIHRvIHRoZSBlbmQgc3F1YXJlIGFuZCBkcmF3aW5nIHRoZSBzdHJva2VcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHguYmVnaW5QYXRoKCk7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4Lm1vdmVUbyhmcm9tLngsIGZyb20ueSk7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmxpbmVUbyhuZXdfdG8ueCwgbmV3X3RvLnkpO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5zdHJva2VTdHlsZSA9IFwiI2JiYmJiYlwiO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5saW5lV2lkdGggPSB3aWR0aDtcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHguc3Ryb2tlKCk7XHJcblxyXG4gICAgLy9zdGFydGluZyBhIG5ldyBwYXRoIGZyb20gdGhlIGhlYWQgb2YgdGhlIGFycm93IHRvIG9uZSBvZiB0aGUgc2lkZXMgb2YgdGhlIHBvaW50XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5tb3ZlVG8obmV3X3RvLngsIG5ld190by55KTtcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHgubGluZVRvKG5ld190by54IC0gaGVhZGxlbiAqIE1hdGguY29zKGFuZ2xlIC0gTWF0aC5QSSAvIDcpLCBuZXdfdG8ueSAtIGhlYWRsZW4gKiBNYXRoLnNpbihhbmdsZSAtIE1hdGguUEkgLyA3KSk7XHJcblxyXG4gICAgLy9wYXRoIGZyb20gdGhlIHNpZGUgcG9pbnQgb2YgdGhlIGFycm93LCB0byB0aGUgb3RoZXIgc2lkZSBwb2ludFxyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5saW5lVG8obmV3X3RvLnggLSBoZWFkbGVuICogTWF0aC5jb3MoYW5nbGUgKyBNYXRoLlBJIC8gNyksIG5ld190by55IC0gaGVhZGxlbiAqIE1hdGguc2luKGFuZ2xlICsgTWF0aC5QSSAvIDcpKTtcclxuXHJcbiAgICAvL3BhdGggZnJvbSB0aGUgc2lkZSBwb2ludCBiYWNrIHRvIHRoZSB0aXAgb2YgdGhlIGFycm93LCBhbmQgdGhlbiBhZ2FpbiB0byB0aGUgb3Bwb3NpdGUgc2lkZSBwb2ludFxyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5saW5lVG8obmV3X3RvLngsIG5ld190by55KTtcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHgubGluZVRvKG5ld190by54IC0gaGVhZGxlbiAqIE1hdGguY29zKGFuZ2xlIC0gTWF0aC5QSSAvIDcpLCBuZXdfdG8ueSAtIGhlYWRsZW4gKiBNYXRoLnNpbihhbmdsZSAtIE1hdGguUEkgLyA3KSk7XHJcblxyXG4gICAgLy9kcmF3cyB0aGUgcGF0aHMgY3JlYXRlZCBhYm92ZVxyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5zdHJva2VTdHlsZSA9IFwiI2JiYmJiYlwiO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5saW5lV2lkdGggPSB3aWR0aDtcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHguc3Ryb2tlKCk7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmZpbGxTdHlsZSA9IFwiI2JiYmJiYlwiO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5maWxsKCk7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmNsb3NlUGF0aCgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdDdXJzb3JGdW5jdGlvbigpIHtcclxuICBpZiAoaW5wdXRIYW5kbGVyLmNsaWNrZWQpIHtcclxuc3dpdGNoIChDb25maWcuZ2V0UG9pbnRlckZ1bmN0aW9uKCkpIHtcclxuICBjYXNlICdmaWVsZCc6XHJcbiAgICBkcmF3TGFzc28oKTtcclxuICAgIGJyZWFrO1xyXG4gIGNhc2UgJ2dyYXZpdHknOlxyXG4gICAgZHJhd0Fycm93KGlucHV0SGFuZGxlci5jbGlja1N0YXJ0UG9zaXRpb24sIGlucHV0SGFuZGxlci5wb2ludGVyUG9zaXRpb24pXHJcbiAgICBicmVhaztcclxuICBjYXNlICd0aHJvdyc6XHJcbiAgICBkcmF3RG90dGVkTGluZShpbnB1dEhhbmRsZXIuY2xpY2tTdGFydFBvc2l0aW9uLCBpbnB1dEhhbmRsZXIucG9pbnRlclBvc2l0aW9uKVxyXG4gICAgYnJlYWs7XHJcbn1cclxuICB9XHJcbn0iLCJleHBvcnQgZnVuY3Rpb24gY3JlYXRlU2hhZGVyKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHR5cGU6IGFueSwgc291cmNlOiBhbnkpIHtcclxuICAgIHZhciBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIodHlwZSk7XHJcbiAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzb3VyY2UpO1xyXG4gICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xyXG4gICAgdmFyIHN1Y2Nlc3MgPSBnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUyk7XHJcbiAgICBpZiAoc3VjY2Vzcykge1xyXG4gICAgICByZXR1cm4gc2hhZGVyO1xyXG4gICAgfVxyXG4gICBcclxuICAgIGNvbnNvbGUubG9nKGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKSk7XHJcbiAgICBnbC5kZWxldGVTaGFkZXIoc2hhZGVyKTtcclxuICB9XHJcblxyXG4gIGV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQcm9ncmFtKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHZlcnRleFNoYWRlcjogV2ViR0xTaGFkZXIsIGZyYWdtZW50U2hhZGVyOiBXZWJHTFNoYWRlcikge1xyXG4gICAgdmFyIHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XHJcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcclxuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XHJcbiAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgIHZhciBzdWNjZXNzID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUyk7XHJcbiAgICBpZiAoc3VjY2Vzcykge1xyXG4gICAgICByZXR1cm4gcHJvZ3JhbTtcclxuICAgIH1cclxuICAgXHJcbiAgICBjb25zb2xlLmxvZyhnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSk7XHJcbiAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xyXG4gIH1cclxuXHJcbiAgZXhwb3J0IGZ1bmN0aW9uIHJlc2l6ZUNhbnZhc1RvRGlzcGxheVNpemUoY2FudmFzOmFueSkge1xyXG4gICAgLy8gTG9va3VwIHRoZSBzaXplIHRoZSBicm93c2VyIGlzIGRpc3BsYXlpbmcgdGhlIGNhbnZhcyBpbiBDU1MgcGl4ZWxzLlxyXG4gICAgY29uc3QgZGlzcGxheVdpZHRoICA9IGNhbnZhcy5jbGllbnRXaWR0aDtcclxuICAgIGNvbnN0IGRpc3BsYXlIZWlnaHQgPSBjYW52YXMuY2xpZW50SGVpZ2h0O1xyXG4gICBcclxuICAgIC8vIENoZWNrIGlmIHRoZSBjYW52YXMgaXMgbm90IHRoZSBzYW1lIHNpemUuXHJcbiAgICBjb25zdCBuZWVkUmVzaXplID0gY2FudmFzLndpZHRoICAhPT0gZGlzcGxheVdpZHRoIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCAhPT0gZGlzcGxheUhlaWdodDtcclxuICAgXHJcbiAgICBpZiAobmVlZFJlc2l6ZSkge1xyXG4gICAgICAvLyBNYWtlIHRoZSBjYW52YXMgdGhlIHNhbWUgc2l6ZVxyXG4gICAgICBjYW52YXMud2lkdGggID0gZGlzcGxheVdpZHRoO1xyXG4gICAgICBjYW52YXMuaGVpZ2h0ID0gZGlzcGxheUhlaWdodDtcclxuICAgIH1cclxuICAgXHJcbiAgICByZXR1cm4gbmVlZFJlc2l6ZTtcclxuXHJcbiAgfSIsImltcG9ydCAqIGFzIENvbmZpZyBmcm9tICcuL0NvbmZpZyc7XHJcblxyXG5sZXQgZnBzQ291bnRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5mcHNDb3VudGVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuZnBzQ291bnRlci5zdHlsZS50b3AgPSAnMTBweCc7XHJcbmZwc0NvdW50ZXIuc3R5bGUubGVmdCA9ICcxMHB4JztcclxuXHJcbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZnBzQ291bnRlcik7XHJcblxyXG5leHBvcnQgdmFyIGZwcyA9IDYwO1xyXG5leHBvcnQgdmFyIGZyYW1lVGltZXM6bnVtYmVyW10gPSBbXTtcclxuY29uc3QgbWF4RnJhbWVzID0gMTAwOyBcclxuXHJcbmxldCBsYXN0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVVJKCkge1xyXG4gICAgbGV0IGF2ZXJhZ2VkRlBTID0gY2FsY3VsYXRlRlBTKCk7XHJcbiAgICBmcHNDb3VudGVyLmlubmVyVGV4dCA9IGBGUFM6ICR7TWF0aC5yb3VuZChhdmVyYWdlZEZQUyl9YDtcclxufVxyXG5cclxuZnVuY3Rpb24gY2FsY3VsYXRlRlBTKCkge1xyXG4gICAgY29uc3QgY3VycmVudFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuICAgIGNvbnN0IHRpbWVEaWZmID0gY3VycmVudFRpbWUgLSBsYXN0VGltZTtcclxuICAgIGZyYW1lVGltZXMucHVzaCh0aW1lRGlmZik7XHJcblxyXG4gICAgaWYgKGZyYW1lVGltZXMubGVuZ3RoID4gbWF4RnJhbWVzKSB7XHJcbiAgICAgICAgZnJhbWVUaW1lcy5zaGlmdCgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjb25zdCBhdmVyYWdlRlBTID0gZnJhbWVUaW1lcy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKSAvIGZyYW1lVGltZXMubGVuZ3RoO1xyXG5cclxuICAgIGxhc3RUaW1lID0gY3VycmVudFRpbWU7XHJcblxyXG4gICAgcmV0dXJuIDEwMDAgLyBhdmVyYWdlRlBTO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXZlcmFnZUZyYW1lVGltZSgpe1xyXG4gICAgcmV0dXJuIGZyYW1lVGltZXMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyBmcmFtZVRpbWVzLmxlbmd0aDtcclxufVxyXG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0UmFuZG9tQ29sb3IoKTogeyByOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyIH0ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcjogTWF0aC5yYW5kb20oKSxcclxuICAgICAgZzogTWF0aC5yYW5kb20oKSxcclxuICAgICAgYjogTWF0aC5yYW5kb20oKVxyXG4gICAgfVxyXG4gIH1cclxuICAiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBWZWMyRCB7XHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbiAgXHJcbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgICB0aGlzLnggPSB4O1xyXG4gICAgICB0aGlzLnkgPSB5O1xyXG4gICAgfVxyXG4gIFxyXG4gICAgYWRkKG90aGVyOiBWZWMyRCl7XHJcbiAgICAgIHRoaXMueCArPSBvdGhlci54O1xyXG4gICAgICB0aGlzLnkgKz0gb3RoZXIueTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0KG90aGVyOiBWZWMyRCl7XHJcbiAgICAgIHRoaXMueCA9IG90aGVyLng7XHJcbiAgICAgIHRoaXMueSA9IG90aGVyLnk7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzdWJ0cmFjdChvdGhlcjogVmVjMkQpe1xyXG4gICAgICB0aGlzLnggLT0gb3RoZXIueDtcclxuICAgICAgdGhpcy55IC09IG90aGVyLnk7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgbXVsdGlwbHkoc2NhbGFyOiBudW1iZXIpIHtcclxuICAgICAgdGhpcy54ICo9IHNjYWxhcjtcclxuICAgICAgdGhpcy55ICo9IHNjYWxhcjtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBkaXZpZGUoc2NhbGFyOiBudW1iZXIpe1xyXG4gICAgICB0aGlzLnggLz0gc2NhbGFyO1xyXG4gICAgICB0aGlzLnkgLz0gc2NhbGFyO1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICBcclxuICAgIGRvdCh2ZWM6IFZlYzJEKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMueCAqIHZlYy54ICsgdGhpcy55ICogdmVjLnk7XHJcbiAgICB9XHJcblxyXG4gICAgbGVuZ3RoKCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55KTtcclxuICAgIH1cclxuXHJcbiAgICBzcXVhcmVkTGVuZ3RoKCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvbmUoKTogVmVjMkR7XHJcbiAgICAgIHJldHVybiBuZXcgVmVjMkQodGhpcy54LCB0aGlzLnkpXHJcbiAgICB9XHJcblxyXG4gICAgZGlmZmVyZW5jZShvdGhlcjogVmVjMkQpOiBWZWMyRHtcclxuICAgICAgcmV0dXJuIG5ldyBWZWMyRCh0aGlzLnggLSBvdGhlci54LCB0aGlzLnkgLSBvdGhlci55KVxyXG4gICAgfVxyXG5cclxuICAgIHNxdWFyZWREaXN0YW5jZVRvKG90aGVyOlZlYzJEKXtcclxuICAgICAgcmV0dXJuICh0aGlzLnggLSBvdGhlci54KSoqMiArICh0aGlzLnkgLSBvdGhlci55KSoqMjtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgQXR0cmFjdG9yIGZyb20gXCIuL0F0dHJhY3RvclwiO1xyXG5pbXBvcnQgeyBkcmF3QXJyb3csIGRyYXdMYXNzbywgZHJhd1BhcnRpY2xlcywgZHJhd0RvdHRlZExpbmUsIHNldEdlb21ldHJ5LCBkcmF3Q3Vyc29yRnVuY3Rpb24gfSBmcm9tIFwiLi9SZW5kZXJlclwiO1xyXG5pbXBvcnQgeyBjbG9zZU1lbnUsIHVwZGF0ZVBvaW50ZXJGdW5jdGlvbiB9IGZyb20gXCIuL01lbnVNYW5hZ2VyXCI7XHJcbmltcG9ydCBQYXJ0aWNsZSBmcm9tIFwiLi9QYXJ0aWNsZVwiO1xyXG5pbXBvcnQgVmVjMkQgZnJvbSBcIi4vVmVjMkRcIjtcclxuaW1wb3J0IHsgZnBzLCBnZXRBdmVyYWdlRnJhbWVUaW1lLCB1cGRhdGVVSSB9IGZyb20gXCIuL1VJTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBiYWNrZ3JvdW5kQ2FudmFzLCBjbGVhckNhbnZhcywgZm9yZWdyb3VuZENhbnZhcyB9IGZyb20gXCIuL0NhbnZhc01hbmFnZXJcIjtcclxuaW1wb3J0IHsgdGljayB9IGZyb20gXCIuL1BoeXNpY3NFbmdpbmVcIjtcclxuaW1wb3J0ICogYXMgQ29uZmlnIGZyb20gJy4vQ29uZmlnJztcclxuaW1wb3J0IHsgR3JpZCB9IGZyb20gXCIuL0dyaWRcIjtcclxuaW1wb3J0IHsgZ2V0UmFuZG9tQ29sb3IgfSBmcm9tIFwiLi9VdGlsc1wiO1xyXG5cclxuZXhwb3J0IHZhciBwYXJ0aWNsZXM6IFBhcnRpY2xlW10gPSBbXTtcclxuZXhwb3J0IHZhciBhdHRyYWN0b3JzOiBBdHRyYWN0b3JbXSA9IFtdO1xyXG5cclxubGV0IGZyYW1lQ291bnQgPSAwO1xyXG5leHBvcnQgbGV0IGdyaWQgPSBuZXcgR3JpZChiYWNrZ3JvdW5kQ2FudmFzKTtcclxuZnVuY3Rpb24gYW5pbWF0ZSgpIHtcclxuICBsZXQgZnJhbWVUaW1lID0gZ2V0QXZlcmFnZUZyYW1lVGltZSgpXHJcbiAgdGljayhmcmFtZVRpbWUvMjApO1xyXG5cclxuICBjbGVhckNhbnZhcygpO1xyXG4gIGRyYXdQYXJ0aWNsZXMoKTtcclxuICBkcmF3Q3Vyc29yRnVuY3Rpb24oKTtcclxuICAvLyBkcmF3R3JpZCgpO1xyXG4gIC8vIGRyYXdBdHRyYWN0b3JzKCk7XHJcbiAgdXBkYXRlVUkoKTtcclxuXHJcbiAgaWYgKGZyYW1lQ291bnQgJSAzID09PSAwICYmIHBhcnRpY2xlcy5sZW5ndGggPCBDb25maWcuZ2V0UGFydGljbGVOdW1iZXIoKSAmJiBmcmFtZUNvdW50ID4gMTIwKSB7XHJcbiAgICBwYXJ0aWNsZXMucHVzaChuZXcgUGFydGljbGUobmV3IFZlYzJEKDIwMCwgMjAwKSwgZ3JpZC5waXhlbFNpemUvMiwgbmV3IFZlYzJEKDI3ICwgLTEyKSwgZ2V0UmFuZG9tQ29sb3IoKSwgZ3JpZCkpO1xyXG4gICAgcGFydGljbGVzLnB1c2gobmV3IFBhcnRpY2xlKG5ldyBWZWMyRCgyMDAsIDI2MCksIGdyaWQucGl4ZWxTaXplLzIsIG5ldyBWZWMyRCgyOSAsIC0xMiksIGdldFJhbmRvbUNvbG9yKCksIGdyaWQpKTtcclxuICAgIHBhcnRpY2xlcy5wdXNoKG5ldyBQYXJ0aWNsZShuZXcgVmVjMkQoMjAwLCAzMjApLCBncmlkLnBpeGVsU2l6ZS8yLCBuZXcgVmVjMkQoMjQgLCAtMTIpLCBnZXRSYW5kb21Db2xvcigpLCBncmlkKSk7XHJcbiAgICBwYXJ0aWNsZXMucHVzaChuZXcgUGFydGljbGUobmV3IFZlYzJEKDIwMCwgMzgwKSwgZ3JpZC5waXhlbFNpemUvMiwgbmV3IFZlYzJEKDI1ICwgLTEyKSwgZ2V0UmFuZG9tQ29sb3IoKSwgZ3JpZCkpO1xyXG4gICAgcGFydGljbGVzLnB1c2gobmV3IFBhcnRpY2xlKG5ldyBWZWMyRCgyMDAsIDQ0MCksIGdyaWQucGl4ZWxTaXplLzIsIG5ldyBWZWMyRCgyNCwgLTEyICksIGdldFJhbmRvbUNvbG9yKCksIGdyaWQpKTtcclxuICAgIHNldEdlb21ldHJ5KCk7XHJcbiAgfVxyXG4gIGZyYW1lQ291bnQrKztcclxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XHJcbn1cclxuXHJcbmdyaWQuZHJhdygpO1xyXG5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG5fX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvc2NyaXB0LnRzXCIpO1xudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvTWVudU1hbmFnZXIudHNcIik7XG4iXSwibmFtZXMiOlsiZm9yZWdyb3VuZENhbnZhcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJiYWNrZ3JvdW5kQ2FudmFzIiwid2ViZ2xDYW52YXMiLCJ3aWR0aCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImhlaWdodCIsImZvcmVncm91bmRDYW52YXNDdHgiLCJnZXRDb250ZXh0IiwiYmFja2dyb3VuZENhbnZhc0N0eCIsImNsZWFyQ2FudmFzIiwiY2xlYXJSZWN0IiwidXBkYXRlQ2FudmFzU2l6ZSIsImdyaWQiLCJjYW52YXMiLCJ1cGRhdGVTaXplIiwiZHJhdyIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJmaWVsZFN0cmVuZ3RoIiwicGh5c2ljc1N1YnN0ZXBzQW1vdW50IiwiZ3Jhdml0eURpcmVjdGlvbiIsImZpZWxkU2l6ZSIsInBhcnRpY2xlTnVtYmVyIiwicG9pbnRlckZ1bmN0aW9uIiwiZ3JpZFNpemUiLCJneXJvRW5hYmxlZCIsImdldEdyYXZpdHlEaXJlY3Rpb24iLCJnZXRQaHlzaWNzU3Vic3RlcHNBbW91bnQiLCJnZXRGaWVsZFN0cmVuZ3RoIiwiZ2V0RmllbGRTaXplIiwiZ2V0UGFydGljbGVOdW1iZXIiLCJnZXRQb2ludGVyRnVuY3Rpb24iLCJnZXRHcmlkU2l6ZSIsImlzR3lyb0VuYWJsZWQiLCJzZXRHcmF2aXR5RGlyZWN0aW9uIiwibmV3R3Jhdml0eURpcmVjdGlvbiIsInNldFBoeXNpY3NTdWJzdGVwc0Ftb3VudCIsIm5ld0Ftb3VudCIsInNldEZpZWxkU3RyZW5ndGgiLCJuZXdmaWVsZFN0cmVuZ3RoIiwic2V0RmllbGRTaXplIiwibmV3ZmllbGRTaXplIiwic2V0UGFydGljbGVOdW1iZXIiLCJuZXdQYXJ0aWNsZU51bWJlciIsInNldFBvaW50ZXJGdW5jdGlvbiIsIm5ld1BvaW50ZXJGdW5jdGlvbiIsInNldElzR3lyb0VuYWJsZWQiLCJuZXdJc0d5cm9FbmFibGVkIiwiZ3JpZFBpeGVsU2l6ZSIsInRoaXMiLCJwaXhlbFNpemUiLCJjb2x1bW5zIiwiTWF0aCIsImNlaWwiLCJyb3dzIiwiY2VsbHMiLCJpbml0aWFsaXplIiwiY2FudmFzQ3R4IiwiaSIsImoiLCJyZW1vdmVBbGwiLCJwdXQiLCJwYXJ0aWNsZSIsImNvbHVtbiIsImZsb29yIiwicG9zaXRpb24iLCJ4Iiwicm93IiwieSIsImxlbmd0aCIsInB1c2giLCJzdHJva2VTdHlsZSIsImdldENvbXB1dGVkU3R5bGUiLCJkb2N1bWVudEVsZW1lbnQiLCJnZXRQcm9wZXJ0eVZhbHVlIiwibGluZVdpZHRoIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwiY2xpY2tlZCIsInBvaW50ZXJQb3NpdGlvbiIsImNsaWNrU3RhcnRQb3NpdGlvbiIsImdldEluc3RhbmNlIiwiSW5wdXRIYW5kbGVyIiwiaW5zdGFuY2UiLCJpbml0aWFsaXplRXZlbnRMaXN0ZW5lcnMiLCJtYWluX2JvZHkiLCJoYW5kbGVNb3VzZURvd24iLCJiaW5kIiwiaGFuZGxlTW91c2VVcCIsImhhbmRsZU1vdmVFdmVudCIsImV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwiY2xvc2VNZW51IiwiTW91c2VFdmVudCIsImNsaWVudFgiLCJjbGllbnRZIiwiVG91Y2hFdmVudCIsInRvdWNoZXMiLCJsYXVuY2hfZGlyIiwiY2xvbmUiLCJkaWZmZXJlbmNlIiwibXVsdGlwbHkiLCJwYXJ0aWNsZXMiLCJnZXRSYW5kb21Db2xvciIsIm1lbnVCdXR0b24iLCJtZW51RWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwib3Blbk1lbnUiLCJnZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJzdHlsZSIsImN1cnNvciIsImZvckVhY2giLCJlbGVtZW50Iiwic2V0VGltZW91dCIsImRpc3BsYXkiLCJxdWVyeVNlbGVjdG9yIiwibmV3VGhlbWUiLCJyb290RWxlbSIsImZpZWxkU2l6ZVNsaWRlciIsImZpZWxkU3RyZW5ndGhTbGlkZXIiLCJncmF2aXR5U3RyZW5ndGhTbGlkZXIiLCJzdWJzdGVwc0Ftb3VudEVudHJ5Qm94IiwicGFydGljbGVzQW1vdW50RW50cnlCb3giLCJneXJvRW5hYmxlZENoZWNrQm94IiwidG9nZ2xlR3lybyIsImNoZWNrZWQiLCJoYW5kbGVNb3Rpb24iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eSIsInVwZGF0ZVBvaW50ZXJGdW5jdGlvbiIsInJhZGlvQnV0dG9ucyIsImdldEVsZW1lbnRzQnlOYW1lIiwidmFsdWUiLCJzZXRHcmF2aXR5U3RyZW5ndGgiLCJyYWRpb0J1dHRvbiIsIm9uaW5wdXQiLCJwYXJzZUludCIsIkRldmljZU1vdGlvbkV2ZW50IiwicmVxdWVzdFBlcm1pc3Npb24iLCJ0aGVuIiwicmVzcG9uc2UiLCJjYXRjaCIsImNvbnNvbGUiLCJlcnJvciIsImRpZmYiLCJwb3AiLCJwb3MiLCJyYWRpdXMiLCJ2ZWxvY2l0eSIsImNvbG9yIiwiYWNjZWxlcmF0aW9uIiwiY2VsbCIsInVwZGF0ZVBvc2l0aW9uIiwiZHQiLCJtb3ZlRGVsdGEiLCJhZGQiLCJ1cGRhdGVDZWxsIiwiYWNjZWxlcmF0ZSIsImFjYyIsImdldE5laWdoYm9yaW5nUGFydGljbGVzIiwibmVpZ2hib3JpbmdQYXJ0aWNsZXMiLCJpbnB1dEhhbmRsZXIiLCJwcmV2aW91c1NjcmVlblgiLCJwcmV2aW91c1NjcmVlblkiLCJ1cGRhdGVQb3NpdGlvbnMiLCJtb3ZlQWxsUGFydGljbGVzIiwidmVjIiwiYXBwbHlGaWVsZCIsImZpZWxkUG9zIiwicHVsbERpcmVjdGlvbiIsImRpc3RhbmNlIiwiZGl2aWRlIiwiYXBwbHlBdHRyYWN0b3JGb3JjZXNUb0FsbCIsImFwcGx5QXR0cmFjdG9yRm9yY2VzIiwidGljayIsInN1Yl9kdCIsImRlbHRhWCIsInNjcmVlblgiLCJkZWx0YVkiLCJzY3JlZW5ZIiwic2NyZWVuVmVsb2NpdHkiLCJhcHBseUNvbnN0cmFpbnQiLCJzb2x2ZUNvbGxpc2lvbnMiLCJhYnMiLCJhdHRyYWN0b3JzIiwiYXR0cmFjdG9yIiwiZm9yY2UiLCJ0ZW1wQ29sbGlzaW9uRGlyZWN0aW9uIiwic3F1YXJlZERpc3RhbmNlIiwicmFkaWlTdW0iLCJwYXJ0aWNsZTEiLCJwYXJ0aWNsZTIiLCJzZXQiLCJzdWJ0cmFjdCIsInNxdWFyZWRMZW5ndGgiLCJzcXJ0IiwiZGVsdGEiLCJyYW5kb20iLCJnbCIsImVuYWJsZSIsIkJMRU5EIiwiYmxlbmRGdW5jIiwiU1JDX0FMUEhBIiwiT05FX01JTlVTX1NSQ19BTFBIQSIsInZlcnRleFNoYWRlciIsImNyZWF0ZVNoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJmcmFnbWVudFNoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsInByb2dyYW0iLCJjcmVhdGVQcm9ncmFtIiwicG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbiIsImdldEF0dHJpYkxvY2F0aW9uIiwicmVzb2x1dGlvblVuaWZvcm1Mb2NhdGlvbiIsImdldFVuaWZvcm1Mb2NhdGlvbiIsImNvbG9yVW5pZm9ybUxvY2F0aW9uIiwidHJhbnNsYXRpb25Mb2NhdGlvbiIsInJhZGl1c1VuaWZvcm1Mb2NhdGlvbiIsIm91dGxpbmVVbmlmb3JtTG9jYXRpb24iLCJwb3NpdGlvbkJ1ZmZlciIsImNyZWF0ZUJ1ZmZlciIsInNldEdlb21ldHJ5IiwieDEiLCJ4MiIsInkxIiwieTIiLCJidWZmZXJEYXRhIiwiQVJSQVlfQlVGRkVSIiwiRmxvYXQzMkFycmF5IiwiU1RBVElDX0RSQVciLCJzZXRSZWN0YW5nbGUiLCJkcmF3UGFydGljbGVzIiwicmVzaXplQ2FudmFzVG9EaXNwbGF5U2l6ZSIsInZpZXdwb3J0IiwiY2xlYXJDb2xvciIsImNsZWFyIiwiQ09MT1JfQlVGRkVSX0JJVCIsInVzZVByb2dyYW0iLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsImJpbmRCdWZmZXIiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiRkxPQVQiLCJvdXRsaW5lQ29sb3IiLCJwYXJzZUZsb2F0IiwicmVzb2x1dGlvbiIsInVuaWZvcm0yZnYiLCJ1bmlmb3JtMmYiLCJ1bmlmb3JtM2YiLCJyIiwiZyIsImIiLCJ1bmlmb3JtMWYiLCJkcmF3QXJyYXlzIiwiVFJJQU5HTEVTIiwiZHJhd0RvdHRlZExpbmUiLCJmcm9tIiwidG8iLCJkb3RDb3VudCIsImRyYXdQcmVkaWN0ZWRQYXRoIiwiYW5nbGUiLCJhdGFuMiIsIm5ld190byIsImNvcyIsInNpbiIsImRyYXdEb3QiLCJzdGFydFBvcyIsIkFjY2VsZXJhdGlvblZlY3RvciIsInByZWRpY3RlZERvdCIsImdldEF2ZXJhZ2VGcmFtZVRpbWUiLCJkb3RYIiwiZG90WSIsImRvdFNpemUiLCJvcGFjaXR5IiwiYXJjIiwiUEkiLCJmaWxsU3R5bGUiLCJmaWxsIiwiY2xvc2VQYXRoIiwiZHJhd0xhc3NvIiwiZHJhd0Fycm93IiwiaGVhZGxlbiIsImRyYXdDdXJzb3JGdW5jdGlvbiIsInR5cGUiLCJzb3VyY2UiLCJzaGFkZXIiLCJzaGFkZXJTb3VyY2UiLCJjb21waWxlU2hhZGVyIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJsb2ciLCJnZXRTaGFkZXJJbmZvTG9nIiwiZGVsZXRlU2hhZGVyIiwiYXR0YWNoU2hhZGVyIiwibGlua1Byb2dyYW0iLCJnZXRQcm9ncmFtUGFyYW1ldGVyIiwiTElOS19TVEFUVVMiLCJnZXRQcm9ncmFtSW5mb0xvZyIsImRlbGV0ZVByb2dyYW0iLCJkaXNwbGF5V2lkdGgiLCJjbGllbnRXaWR0aCIsImRpc3BsYXlIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJuZWVkUmVzaXplIiwiZnBzQ291bnRlciIsImNyZWF0ZUVsZW1lbnQiLCJ0b3AiLCJsZWZ0IiwiYm9keSIsImFwcGVuZENoaWxkIiwiZnBzIiwiZnJhbWVUaW1lcyIsIm1heEZyYW1lcyIsImxhc3RUaW1lIiwicGVyZm9ybWFuY2UiLCJub3ciLCJ1cGRhdGVVSSIsImF2ZXJhZ2VkRlBTIiwiY3VycmVudFRpbWUiLCJ0aW1lRGlmZiIsInNoaWZ0IiwiYXZlcmFnZUZQUyIsInJlZHVjZSIsImEiLCJjYWxjdWxhdGVGUFMiLCJpbm5lclRleHQiLCJyb3VuZCIsIm90aGVyIiwic2NhbGFyIiwiZG90IiwiVmVjMkQiLCJzcXVhcmVkRGlzdGFuY2VUbyIsImZyYW1lQ291bnQiLCJHcmlkIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYW5pbWF0ZSIsImZyYW1lVGltZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIl0sInNvdXJjZVJvb3QiOiIifQ==