/*! For license information please see script.js.LICENSE.txt */
(()=>{"use strict";var t={"./src/Drawer.ts":(t,e,r)=>{r.r(e),r.d(e,{drawArrow:()=>P,drawDot:()=>b,drawGrid:()=>_,drawLasso:()=>S,drawParticles:()=>x,drawTail:()=>w,setGeometry:()=>m});var n=r("./src/Particle.ts"),o=r("./src/Vec2D.ts"),i=r("./src/shaders/particleFragmentShader.frag"),a=r("./src/shaders/particleVertexShader.vert"),c=r("./src/script.ts"),s=r("./src/ShaderHelper.ts"),u=document.getElementById("webgl-canvas").getContext("webgl");u||console.error("Unable to initialize WebGL. Your browser may not support it."),u.enable(u.BLEND),u.blendFunc(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA);var d=(0,s.createShader)(u,u.VERTEX_SHADER,a),l=(0,s.createShader)(u,u.FRAGMENT_SHADER,i),h=(0,s.createProgram)(u,d,l),f=u.getAttribLocation(h,"a_position"),p=u.getUniformLocation(h,"u_resolution"),g=u.getUniformLocation(h,"u_color"),v=u.getUniformLocation(h,"u_translation");u.uniform2f(p,u.canvas.width,u.canvas.height);var y=u.createBuffer();function m(){c.particles.forEach((function(t){!function(t,e,r,n,o){t.bufferData(t.ARRAY_BUFFER,new Float32Array([-15,-15,15,-15,-15,15,-15,15,15,-15,15,15]),t.STATIC_DRAW)}(u)}))}function x(){(0,s.resizeCanvasToDisplaySize)(u.canvas),u.viewport(0,0,u.canvas.width,u.canvas.height),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),u.useProgram(h),u.enableVertexAttribArray(f),u.bindBuffer(u.ARRAY_BUFFER,y),u.vertexAttribPointer(f,2,u.FLOAT,!1,0,0),c.particles.forEach((function(t){u.uniform2f(p,u.canvas.width,u.canvas.height),u.uniform2f(v,t.pos_curr.x,t.pos_curr.y),u.uniform3f(g,t.color.r,t.color.g,t.color.b),u.drawArrays(u.TRIANGLES,0,6)}))}function _(){c.back_ctx.clearRect(0,0,c.foreground_canvas.width,c.foreground_canvas.height),c.back_ctx.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--grid-color"),c.back_ctx.lineWidth=1;for(var t=c.gridSize;t<c.foreground_canvas.width;t+=c.gridSize)c.back_ctx.beginPath(),c.back_ctx.moveTo(t,0),c.back_ctx.lineTo(t,c.foreground_canvas.height),c.back_ctx.stroke();for(var e=c.gridSize;e<c.foreground_canvas.height;e+=c.gridSize)c.back_ctx.beginPath(),c.back_ctx.moveTo(0,e),c.back_ctx.lineTo(c.foreground_canvas.width,e),c.back_ctx.stroke()}function w(t,e){if(c.clicked&&t.x!=e.x&&t.y!=e.y){var r=t.difference(e);!function(t,e){for(var r=new n.default(t,15,e,{r:0,g:0,b:0}),o=1;o<=510;o++)r.accelerate(c.gravity),(0,c.applyConstraint)(r),(0,c.applyAttractorForces)(r),r.updatePosition(.125),o%15==0&&b(r.pos_curr.x,r.pos_curr.y,5,255-o/2)}(t.clone(),r.clone()),r.divide(8);var i=Math.atan2(e.y-t.y,e.x-t.x),a=new o.default(e.x,e.y);a.x-=Math.cos(i),a.y-=Math.sin(i);for(var s=0;s<=8;s++)b(t.x-r.x*s,t.y-r.y*s,5,255)}}function b(t,e,r,n){c.ctx.beginPath(),c.ctx.arc(t,e,r,0,2*Math.PI,!1),c.ctx.fillStyle="rgba(210, 210, 210, ".concat(n/255,")"),c.ctx.fill(),c.ctx.closePath()}function S(){c.clicked&&(c.ctx.beginPath(),c.ctx.arc(c.pointerPosition.x,c.pointerPosition.y,c.fieldSize,0,2*Math.PI),c.ctx.lineWidth=3,c.ctx.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--grid-color"),c.ctx.stroke(),c.ctx.closePath())}function P(t,e){if(c.clicked&&t.x!=e.x&&t.y!=e.y){var r=Math.atan2(e.y-t.y,e.x-t.x),n=10,i=new o.default(e.x,e.y);i.x-=11.5*Math.cos(r),i.y-=11.5*Math.sin(r),c.ctx.beginPath(),c.ctx.moveTo(t.x,t.y),c.ctx.lineTo(i.x,i.y),c.ctx.strokeStyle="#bbbbbb",c.ctx.lineWidth=10,c.ctx.stroke(),c.ctx.beginPath(),c.ctx.moveTo(i.x,i.y),c.ctx.lineTo(i.x-n*Math.cos(r-Math.PI/7),i.y-n*Math.sin(r-Math.PI/7)),c.ctx.lineTo(i.x-n*Math.cos(r+Math.PI/7),i.y-n*Math.sin(r+Math.PI/7)),c.ctx.lineTo(i.x,i.y),c.ctx.lineTo(i.x-n*Math.cos(r-Math.PI/7),i.y-n*Math.sin(r-Math.PI/7)),c.ctx.strokeStyle="#bbbbbb",c.ctx.lineWidth=10,c.ctx.stroke(),c.ctx.fillStyle="#bbbbbb",c.ctx.fill(),c.ctx.closePath()}}u.bindBuffer(u.ARRAY_BUFFER,y)},"./src/MenuManager.ts":(t,e,r)=>{r.r(e),r.d(e,{closeMenu:()=>s,getPointerFunction:()=>g,openMenu:()=>c});var n=r("./src/Drawer.ts"),o=r("./src/script.ts"),i=document.getElementById("menu-button"),a=document.querySelectorAll(".menu-element");function c(){"false"==i.getAttribute("open")&&(i.setAttribute("open","true"),i.style.cursor="auto",a.forEach((function(t){setTimeout((function(){t.style.display="block"}),300)})))}function s(){i.setAttribute("open","false"),i.style.cursor="pointer",a.forEach((function(t){t.style.display="none"}))}i.addEventListener("click",(function(t){t.stopPropagation(),c()})),document.querySelector("#theme-switch").addEventListener("click",(function(){var t,e=document.documentElement;t="light"===e.getAttribute("theme")?"dark":"light",e.setAttribute("theme",t),(0,n.drawGrid)()}));var u=document.getElementById("field-size-slider"),d=document.getElementById("field-strength-slider"),l=document.getElementById("gravity-strength-slider"),h=document.getElementById("substeps-amount-entry"),f=document.getElementById("particles-amount-entry"),p=document.getElementById("drawOutline");function g(){for(var t=document.getElementsByName("cursor-function"),e=0;e<t.length;e++)if(t[e].checked)return t[e].value}u.oninput=function(){(0,o.setFieldSize)(parseInt(u.value))},d.oninput=function(){(0,o.setFieldStrength)(parseInt(d.value))},l.oninput=function(){(0,o.setGravityStrength)(parseInt(l.value))},h.addEventListener("change",(function(){(0,o.setSubsteps)(parseInt(h.value))})),f.addEventListener("change",(function(){(0,o.setParticlesNum)(parseInt(f.value))})),p.oninput=function(){(0,o.setDrawOutline)(p.checked)}},"./src/Particle.ts":(t,e,r)=>{r.r(e),r.d(e,{default:()=>i});var n=r("./src/Vec2D.ts"),o=r("./src/script.ts");const i=function(){function t(t,e,r,i){this.pos_curr=t,this.pos_prev=this.pos_curr,this.radius=e,this.acceleration=r,this.color=i,this.updateCell(new n.default(Math.floor(this.pos_curr.x/o.gridSize),Math.floor(this.pos_curr.y/o.gridSize)))}return t.prototype.draw=function(){},t.prototype.updatePosition=function(t){var e=new n.default(this.pos_curr.x-this.pos_prev.x,this.pos_curr.y-this.pos_prev.y);this.pos_prev=this.pos_curr.clone(),this.pos_curr.add(e),this.acceleration.multiply(t*t),this.pos_curr.add(this.acceleration),this.acceleration.x=0,this.acceleration.y=0},t.prototype.accelerate=function(t){this.acceleration.add(t)},t.prototype.updateCell=function(t){this.gridCell=t},t.canvas=document.getElementById("foreground-canvas"),t.gl=t.canvas.getContext("2d"),t}()},"./src/ShaderHelper.ts":(t,e,r)=>{function n(t,e,r){var n=t.createShader(e);if(t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS))return n;console.log(t.getShaderInfoLog(n)),t.deleteShader(n)}function o(t,e,r){var n=t.createProgram();if(t.attachShader(n,e),t.attachShader(n,r),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS))return n;console.log(t.getProgramInfoLog(n)),t.deleteProgram(n)}function i(t){var e=t.clientWidth,r=t.clientHeight,n=t.width!==e||t.height!==r;return n&&(t.width=e,t.height=r),n}function a(){}r.r(e),r.d(e,{createProgram:()=>o,createShader:()=>n,initParticleShader:()=>a,resizeCanvasToDisplaySize:()=>i})},"./src/Vec2D.ts":(t,e,r)=>{r.r(e),r.d(e,{default:()=>n});const n=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.add=function(t){this.x+=t.x,this.y+=t.y},t.prototype.subtract=function(t){this.x-=t.x,this.y-=t.y},t.prototype.multiply=function(t){this.x*=t,this.y*=t},t.prototype.divide=function(t){this.x/=t,this.y/=t},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.difference=function(e){return new t(this.x-e.x,this.y-e.y)},t}()},"./src/script.ts":(t,e,r)=>{r.r(e),r.d(e,{applyAttractorForces:()=>H,applyConstraint:()=>Y,back_ctx:()=>T,clicked:()=>A,ctx:()=>k,drawOutline:()=>b,fieldSize:()=>w,foreground_canvas:()=>m,fps:()=>C,gravity:()=>y,grid:()=>u,gridSize:()=>s,particles:()=>d,pointerPosition:()=>p,setDrawOutline:()=>G,setFieldSize:()=>L,setFieldStrength:()=>F,setGravityStrength:()=>z,setParticlesNum:()=>O,setSubsteps:()=>D});var n=r("./src/Drawer.ts"),o=r("./src/MenuManager.ts"),i=r("./src/Particle.ts"),a=r("./src/ShaderHelper.ts"),c=r("./src/Vec2D.ts"),s=31,u=[],d=[],l=[],h=100,f=0,p=new c.default(0,0),g=new c.default(0,0),v="field",y=new c.default(0,1),m=document.getElementById("foreground-canvas"),x=document.getElementById("background-canvas"),_=document.getElementById("webgl-canvas"),w=1,b=!0,S=10,P=4,E=Math.ceil(m.width/s),M=Math.ceil(m.height/s);m.width=m.getBoundingClientRect().width,m.height=m.getBoundingClientRect().height,x.width=x.getBoundingClientRect().width,x.height=x.getBoundingClientRect().height,_.width=_.getBoundingClientRect().width,_.height=_.getBoundingClientRect().height;var k=m.getContext("2d"),T=x.getContext("2d"),C=60,A=!1,B=document.createElement("div");B.style.position="absolute",B.style.top="10px",B.style.left="10px";var I=document.createElement("div");I.style.position="absolute",I.style.top="30px",I.style.left="10px";var R=document.createElement("div");function F(t){S=t}function L(t){w=t}function z(t){y=new c.default(0,.1*t)}function D(t){P=t}function O(t){h=t}function G(t){b=t}function U(){E=Math.ceil(m.width/s),M=Math.ceil(m.height/s),console.log(E),console.log(M);for(var t=0;t<E;t++){u[t]=[];for(var e=0;e<M;e++)u[t][e]=[]}}function V(t){!function(){for(var t=0;t<E;t++){u[t]=[];for(var e=0;e<M;e++)u[t][e]=[]}}(),d.forEach((function(e){e.updatePosition(t),function(t){var e=Math.floor(t.pos_curr.x/s),r=Math.floor(t.pos_curr.y/s);e>=0&&e<u.length&&r>=0&&r<u[e].length&&u[e][r].push(t)}(e)}))}function N(t){d.forEach((function(e){var r=t.difference(e.pos_curr),n=r.length();n<w&&n>10&&(r.multiply(100*S),r.divide(n*n),e.accelerate(r))}))}function H(t){l.forEach((function(e){var r=e.pos.difference(t.pos_curr),n=r.length();n<e.radius&&n>10&&(r.multiply(e.force),r.divide(n*n),t.accelerate(r))}))}function Y(t){t.pos_curr.y+t.radius>m.height&&(t.pos_curr.y=m.height-t.radius,t.pos_prev.y=t.pos_curr.y+t.pos_curr.y-t.pos_prev.y),t.pos_curr.y-t.radius<0&&(t.pos_curr.y=t.radius,t.pos_prev.y=t.pos_curr.y+t.pos_curr.y-t.pos_prev.y),t.pos_curr.x-t.radius<0&&(t.pos_curr.x=t.radius,t.pos_prev.x=t.pos_curr.x+t.pos_curr.x-t.pos_prev.x),t.pos_curr.x+t.radius>m.width&&(t.pos_curr.x=m.width-t.radius)}R.style.position="absolute",R.style.top="50px",R.style.left="10px",document.body.appendChild(B),document.body.appendChild(I),document.body.appendChild(R);var W=0,q=.1*performance.now();function X(t){t.stopPropagation(),A=!0,v=(0,o.getPointerFunction)(),t instanceof MouseEvent?(p.x=t.clientX,p.y=t.clientY):t instanceof TouchEvent&&(p.x=t.touches[0].clientX,p.y=t.touches[0].clientY),g.x=p.x,g.y=p.y}function j(t){switch(t.stopPropagation(),A=!1,v){case"field":case"gravity":break;case"throw":var e=g.difference(p);e.multiply(C/60),d.push(new i.default(g.clone(),15,e,K()))}}function K(){return{r:Math.random(),g:Math.random(),b:Math.random()}}function J(t){t.stopPropagation(),A&&(t instanceof MouseEvent?(p.x=t.clientX,p.y=t.clientY):t instanceof TouchEvent&&(p.x=t.touches[0].clientX,p.y=t.touches[0].clientY))}var Q=0,Z=document.getElementById("main_container");window.addEventListener("resize",(function(){m.width=m.getBoundingClientRect().width,m.height=m.getBoundingClientRect().height,x.width=x.getBoundingClientRect().width,x.height=x.getBoundingClientRect().height,_.width=_.getBoundingClientRect().width,_.height=_.getBoundingClientRect().height,(0,a.initParticleShader)(),U(),(0,n.drawGrid)()})),Z.addEventListener("mousedown",X),Z.addEventListener("mouseup",j),Z.addEventListener("mousemove",J),Z.addEventListener("touchstart",X),Z.addEventListener("touchend",j),Z.addEventListener("touchmove",J),Z.addEventListener("click",(function(t){t.stopPropagation(),(0,o.closeMenu)()})),(0,a.initParticleShader)(),U(),(0,n.drawGrid)(),requestAnimationFrame((function t(){switch(function(t){for(var e=P,r=t/e,n=0;n<e;n++){if(0!=y.y&&d.forEach((function(t){t.accelerate(y)})),A)switch(v){case"field":N(p);break;case"gravity":(y=p.difference(g)).divide(200)}u.forEach((function(t){t.forEach((function(t){t.forEach((function(t){Y(t)}))}))})),f=0,d.forEach((function(t){(function(t){for(var e=Math.floor(t.pos_curr.x/s),r=Math.floor(t.pos_curr.y/s),n=[],o=e-1;o<=e+1;o++)for(var i=r-1;i<=r+1;i++)o>=0&&o<u.length&&i>=0&&i<u[o].length&&n.push.apply(n,u[o][i]);return n})(t).forEach((function(e){f++;var r=t.pos_curr.difference(e.pos_curr),n=r.length();if(0!=n&&n<t.radius+e.radius){r.divide(n);var o=t.radius+e.radius-n;r.multiply(.5*o),t.pos_curr.add(r),e.pos_curr.subtract(r)}}))})),V(r)}}(.5/C*60),k.clearRect(0,0,m.width,m.height),(0,n.drawParticles)(),v){case"field":(0,n.drawLasso)();break;case"gravity":(0,n.drawArrow)(g,p);break;case"throw":(0,n.drawTail)(g,p)}var e=.016666*C;Q%Math.floor(2*e)==0&&d.length<h&&Q>120&&(d.push(new i.default(new c.default(200,200),15,new c.default(200*e,-80*e),K())),d.push(new i.default(new c.default(200,260),15,new c.default(180*e,-80*e),K())),d.push(new i.default(new c.default(200,320),15,new c.default(170*e,-80*e),K())),d.push(new i.default(new c.default(200,380),15,new c.default(180*e,-80*e),K())),d.push(new i.default(new c.default(200,440),15,new c.default(170*e,-80*e),K())),(0,n.setGeometry)()),Q++,++W%10==0&&(C=function(){var t=.1*performance.now(),e=t-q,r=Math.round(1e3/e);return q=t,r}(),B.innerText="FPS: ".concat(C),I.innerText="Particles: ".concat(d.length),R.innerText="Collisions: ".concat(f)),requestAnimationFrame(t)}))},"./src/shaders/particleFragmentShader.frag":t=>{t.exports="precision mediump float;\r\n\r\nuniform vec2 u_resolution;\r\n// // Passed in from the vertex shader.\r\n// varying vec3 v_color;\r\nuniform vec3 u_color;\r\nuniform float u_radius;\r\nuniform vec2 u_center;\r\n// float mask(in vec2 _st, in float _radius){\r\n//     vec2 dist = _st-u_center;\r\n//     return 1.-smoothstep(_radius-(_radius*0.01),\r\n//                          _radius+(_radius*0.01),\r\n//                          dot(dist,dist)*4.024);\r\n// }\r\n\r\n// vec3 circle(in vec2 _st, in float _radius, in vec3 color){\r\n//     vec2 dist = _st-u_center;\r\n// \treturn \r\n//     (smoothstep(_radius-(_radius*0.01), _radius +(_radius*0.01),dot(dist, dist)*(4.))) + color * (smoothstep(_radius + (_radius*0.01), _radius -(_radius*0.01),dot(dist, dist)*(4.8)));\r\n// }\r\n// void main(){\r\n// \tvec2 st = gl_FragCoord.xy/u_resolution.xy;\r\n\r\n// \tst.x = mix(0.5, st.x, )\r\n\r\n// \tvec3 shaded = circle(st,u_radius, u_color);\r\n\r\n// \tgl_FragColor = vec4( shaded, mask(st, u_radius));\r\n\t\r\n// }\r\n\r\nvoid main() {\r\n    // gl_FragColor is a special variable a fragment shader\r\n    // is responsible for setting\r\n    gl_FragColor = vec4(u_color, 1.);\r\n  }"},"./src/shaders/particleVertexShader.vert":t=>{t.exports="precision mediump float;\r\n\r\nattribute vec2 a_position;\r\n\r\n// attribute vec3 color;\r\n// varying vec3 v_color;\r\nuniform vec2 u_resolution;\r\nuniform vec2 u_translation;\r\nvoid main() {\r\n    //move the position of the shader\r\n    vec2 position = a_position + u_translation;\r\n\r\n    // convert the position from pixels to 0.0 to 1.0\r\n    vec2 zeroToOne = position / u_resolution;\r\n\r\n    // convert from 0->1 to 0->2\r\n    vec2 zeroToTwo = zeroToOne * 2.0;\r\n\r\n    // convert from 0->2 to -1->+1 (clipspace)\r\n    vec2 clipSpace = zeroToTwo - 1.0;\r\n\r\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\r\n\r\n    // // Pass the vertex color to the fragment shader.\r\n    //  v_color = color;\r\n}"}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r("./src/script.ts"),r("./src/MenuManager.ts")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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OEgsRUFBb0IsbUJBQ01BLEVBQW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi8uL3NyYy9EcmF3ZXIudHMiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi8uL3NyYy9NZW51TWFuYWdlci50cyIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyLy4vc3JjL1BhcnRpY2xlLnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvU2hhZGVySGVscGVyLnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvVmVjMkQudHMiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi8uL3NyYy9zY3JpcHQudHMiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQYXJ0aWNsZSBmcm9tIFwiLi9QYXJ0aWNsZVwiO1xyXG5pbXBvcnQgVmVjMkQgZnJvbSBcIi4vVmVjMkRcIjtcclxuaW1wb3J0IHBhcnRpY2xlRnJhZ21lbnRTaGFkZXIgZnJvbSBcIi4vc2hhZGVycy9wYXJ0aWNsZUZyYWdtZW50U2hhZGVyLmZyYWdcIjtcclxuaW1wb3J0IHBhcnRpY2xlVmVydGV4U2hhZGVyIGZyb20gXCIuL3NoYWRlcnMvcGFydGljbGVWZXJ0ZXhTaGFkZXIudmVydFwiO1xyXG5cclxuaW1wb3J0IHsgYmFja19jdHgsIGN0eCwgZm9yZWdyb3VuZF9jYW52YXMsIHBhcnRpY2xlcywgZ3JpZFNpemUsIHBvaW50ZXJQb3NpdGlvbiwgZmllbGRTaXplLCBjbGlja2VkLCBkcmF3T3V0bGluZSwgZ3Jhdml0eSwgZnBzLCBhcHBseUNvbnN0cmFpbnQsIGFwcGx5QXR0cmFjdG9yRm9yY2VzLCBncmlkIH0gZnJvbSBcIi4vc2NyaXB0XCI7XHJcbmltcG9ydCB7IGNyZWF0ZVByb2dyYW0sIGNyZWF0ZVNoYWRlciwgaW5pdFBhcnRpY2xlU2hhZGVyLCByZXNpemVDYW52YXNUb0Rpc3BsYXlTaXplIH0gZnJvbSBcIi4vU2hhZGVySGVscGVyXCI7XHJcbnZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2ViZ2wtY2FudmFzJykgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbnZhciBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIik7XHJcblxyXG5pZiAoIWdsKSB7XHJcbiAgY29uc29sZS5lcnJvcihcIlVuYWJsZSB0byBpbml0aWFsaXplIFdlYkdMLiBZb3VyIGJyb3dzZXIgbWF5IG5vdCBzdXBwb3J0IGl0LlwiKTtcclxufVxyXG5cclxuLy9lbmFsYmluZyBibGVuZGluZyBmb3IgcHJvcGVyIGFscGhhIG9uIHRoZSBwYXJ0aWNsZXNcclxuZ2wuZW5hYmxlKGdsLkJMRU5EKTtcclxuZ2wuYmxlbmRGdW5jKGdsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSk7XHJcblxyXG4vL2NvbXBpbGluZyB0aGUgc2hhZGVycyB3aXRoIGEgaGVscGVyIGZ1bmN0aW9uXHJcbnZhciB2ZXJ0ZXhTaGFkZXIgPSBjcmVhdGVTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHBhcnRpY2xlVmVydGV4U2hhZGVyKTtcclxudmFyIGZyYWdtZW50U2hhZGVyID0gY3JlYXRlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIHBhcnRpY2xlRnJhZ21lbnRTaGFkZXIpO1xyXG5cclxuLy9jcmVhdGluZyBhIFdlYkdMIHByb2dyYW0gYW5kIGF0dGFjaGluZyB0aGUgc2hhZGVycyB0byBpdCB3aXRoIGEgaGVscGVyIGZ1bmN0aW9uXHJcbnZhciBwcm9ncmFtID0gY3JlYXRlUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlcik7XHJcblxyXG4vL2xvb2tpbmcgdXAgdW5pZm9ybSBsb2NhdGlvbiBhbmQgd2hlcmUgdGhlIHZlcnRleCBkYXRhIG5lZWRzIHRvIGdvXHJcbnZhciBwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgXCJhX3Bvc2l0aW9uXCIpO1xyXG52YXIgcmVzb2x1dGlvblVuaWZvcm1Mb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCBcInVfcmVzb2x1dGlvblwiKTtcclxudmFyIGNvbG9yVW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sIFwidV9jb2xvclwiKTtcclxudmFyIHRyYW5zbGF0aW9uTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgXCJ1X3RyYW5zbGF0aW9uXCIpO1xyXG5nbC51bmlmb3JtMmYocmVzb2x1dGlvblVuaWZvcm1Mb2NhdGlvbiwgZ2wuY2FudmFzLndpZHRoLCBnbC5jYW52YXMuaGVpZ2h0KTtcclxudmFyIHBvc2l0aW9uQnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbmdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBwb3NpdGlvbkJ1ZmZlcik7XHJcblxyXG5mdW5jdGlvbiBzZXRSZWN0YW5nbGUoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgeDpudW1iZXIsIHk6bnVtYmVyLCB3aWR0aDpudW1iZXIsIGhlaWdodDpudW1iZXIpIHtcclxuICB2YXIgeDEgPSB4IC0gd2lkdGggLyAyO1xyXG4gIHZhciB4MiA9IHggKyB3aWR0aCAvIDI7XHJcbiAgdmFyIHkxID0geSAtIGhlaWdodCAvIDI7XHJcbiAgdmFyIHkyID0geSArIGhlaWdodCAvIDI7XHJcbiBcclxuICAvLyBOT1RFOiBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgLi4uKSB3aWxsIGFmZmVjdFxyXG4gIC8vIHdoYXRldmVyIGJ1ZmZlciBpcyBib3VuZCB0byB0aGUgYEFSUkFZX0JVRkZFUmAgYmluZCBwb2ludFxyXG4gIC8vIGJ1dCBzbyBmYXIgd2Ugb25seSBoYXZlIG9uZSBidWZmZXIuIElmIHdlIGhhZCBtb3JlIHRoYW4gb25lXHJcbiAgLy8gYnVmZmVyIHdlJ2Qgd2FudCB0byBiaW5kIHRoYXQgYnVmZmVyIHRvIGBBUlJBWV9CVUZGRVJgIGZpcnN0LlxyXG4gXHJcbiAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoW1xyXG4gICAgIHgxLCB5MSxcclxuICAgICB4MiwgeTEsXHJcbiAgICAgeDEsIHkyLFxyXG4gICAgIHgxLCB5MixcclxuICAgICB4MiwgeTEsXHJcbiAgICAgeDIsIHkyXSksIGdsLlNUQVRJQ19EUkFXKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEdlb21ldHJ5KCl7XHJcbiAgcGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgICBzZXRSZWN0YW5nbGUoXHJcbiAgICAgIGdsLCAwLCAwLCAzMCwgMzApO1xyXG4gIH0pO1xyXG5cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZHJhd1BhcnRpY2xlcygpIHtcclxuICByZXNpemVDYW52YXNUb0Rpc3BsYXlTaXplKGdsLmNhbnZhcyk7XHJcblxyXG4gIC8vIFRlbGwgV2ViR0wgaG93IHRvIGNvbnZlcnQgZnJvbSBjbGlwIHNwYWNlIHRvIHBpeGVsc1xyXG4gIGdsLnZpZXdwb3J0KDAsIDAsIGdsLmNhbnZhcy53aWR0aCwgZ2wuY2FudmFzLmhlaWdodCk7XHJcblxyXG4gIC8vIENsZWFyIHRoZSBjYW52YXNcclxuICBnbC5jbGVhckNvbG9yKDAsIDAsIDAsIDApOyAvLyBDbGVhciB0byB0cmFuc3BhcmVudCBibGFja1xyXG4gIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQpO1xyXG5cclxuICAvLyBUZWxsIGl0IHRvIHVzZSBwcm9ncmFtIChwYWlyIG9mIHNoYWRlcnMpXHJcbiAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcclxuXHJcbiAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbik7XHJcblxyXG4gIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBwb3NpdGlvbkJ1ZmZlcik7XHJcbiAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xyXG5cclxuICAvLyBEcmF3IHRoZSByZWN0YW5nbGUuXHJcbiAgcGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgICAgIGdsLnVuaWZvcm0yZihyZXNvbHV0aW9uVW5pZm9ybUxvY2F0aW9uLCBnbC5jYW52YXMud2lkdGgsIGdsLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICBnbC51bmlmb3JtMmYodHJhbnNsYXRpb25Mb2NhdGlvbiwgcGFydGljbGUucG9zX2N1cnIueCwgcGFydGljbGUucG9zX2N1cnIueSk7XHJcbiAgICAgIGdsLnVuaWZvcm0zZihjb2xvclVuaWZvcm1Mb2NhdGlvbiwgcGFydGljbGUuY29sb3IucixwYXJ0aWNsZS5jb2xvci5nLCBwYXJ0aWNsZS5jb2xvci5iKTtcclxuICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRVMsIDAsIDYpO1xyXG4gIH0pO1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdHcmlkKCkge1xyXG5cclxuICBiYWNrX2N0eC5jbGVhclJlY3QoMCwgMCwgZm9yZWdyb3VuZF9jYW52YXMud2lkdGgsIGZvcmVncm91bmRfY2FudmFzLmhlaWdodCk7XHJcblxyXG4gIGJhY2tfY3R4LnN0cm9rZVN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoJy0tZ3JpZC1jb2xvcicpO1xyXG4gIGJhY2tfY3R4LmxpbmVXaWR0aCA9IDE7XHJcbiAgZm9yIChsZXQgeCA9IGdyaWRTaXplOyB4IDwgZm9yZWdyb3VuZF9jYW52YXMud2lkdGg7IHggKz0gZ3JpZFNpemUpIHtcclxuICAgIGJhY2tfY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgYmFja19jdHgubW92ZVRvKHgsIDApO1xyXG4gICAgYmFja19jdHgubGluZVRvKHgsIGZvcmVncm91bmRfY2FudmFzLmhlaWdodCk7XHJcbiAgICBiYWNrX2N0eC5zdHJva2UoKTtcclxuICB9XHJcbiAgZm9yIChsZXQgeSA9IGdyaWRTaXplOyB5IDwgZm9yZWdyb3VuZF9jYW52YXMuaGVpZ2h0OyB5ICs9IGdyaWRTaXplKSB7XHJcbiAgICBiYWNrX2N0eC5iZWdpblBhdGgoKTtcclxuICAgIGJhY2tfY3R4Lm1vdmVUbygwLCB5KTtcclxuICAgIGJhY2tfY3R4LmxpbmVUbyhmb3JlZ3JvdW5kX2NhbnZhcy53aWR0aCwgeSk7XHJcbiAgICBiYWNrX2N0eC5zdHJva2UoKTtcclxuICB9XHJcbiAgLy9ERUJVR1xyXG4gIC8vICAgZm9yIChsZXQgeCA9IDA7IHggPCBncmlkLmxlbmd0aDsgeCArPSAxKSB7XHJcblxyXG4gIC8vICAgZm9yIChsZXQgeSA9IDA7IHkgPCBncmlkWzBdLmxlbmd0aDsgeSArPSAxKSB7XHJcbiAgLy8gICAgIGJhY2tfY3R4LmZvbnQgPSBcIjEycHggc2VyaWZcIjtcclxuXHJcbiAgLy8gICAgIGJhY2tfY3R4LmZpbGxUZXh0KGAke2dyaWRbeF1beV0ubGVuZ3RofWAsICh4KzEpKmdyaWRTaXplIC0gZ3JpZFNpemUvMiAtIDIsICh5KzEpKmdyaWRTaXplIC1ncmlkU2l6ZS8yICsgNCk7XHJcbiAgLy8gICAgIC8vIGJhY2tfY3R4LmZpbGxUZXh0KGAke3h9ICR7eX1gLCAoeCsxKSpncmlkU2l6ZSAtIGdyaWRTaXplLzIgLSAyLCAoeSsxKSpncmlkU2l6ZSAtZ3JpZFNpemUvMiArIDQpO1xyXG4gIC8vICAgfVxyXG4gIC8vIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdUYWlsKGZyb206IFZlYzJELCB0bzogVmVjMkQpIHtcclxuICBpZiAoY2xpY2tlZCAmJiBmcm9tLnggIT0gdG8ueCAmJiBmcm9tLnkgIT0gdG8ueSkge1xyXG4gICAgY29uc3QgZG90U2l6ZSA9IDU7XHJcbiAgICBjb25zdCBkb3RDb3VudCA9IDg7XHJcbiAgICBjb25zdCBkaXN0YW5jZSA9IGZyb20uZGlmZmVyZW5jZSh0byk7XHJcbiAgICBkcmF3UHJlZGljdGVkUGF0aChmcm9tLmNsb25lKCksIGRpc3RhbmNlLmNsb25lKCkpXHJcbiAgICBkaXN0YW5jZS5kaXZpZGUoZG90Q291bnQpO1xyXG4gICAgdmFyIGFuZ2xlID0gTWF0aC5hdGFuMih0by55IC0gZnJvbS55LCB0by54IC0gZnJvbS54KTtcclxuICAgIHZhciBuZXdfdG8gPSBuZXcgVmVjMkQodG8ueCwgdG8ueSk7XHJcblxyXG4gICAgbmV3X3RvLnggLT0gTWF0aC5jb3MoYW5nbGUpO1xyXG4gICAgbmV3X3RvLnkgLT0gTWF0aC5zaW4oYW5nbGUpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IGRvdENvdW50OyBpKyspIHtcclxuICAgICAgdmFyIGRvdFggPSBmcm9tLnggLSBkaXN0YW5jZS54ICogaTtcclxuICAgICAgdmFyIGRvdFkgPSBmcm9tLnkgLSBkaXN0YW5jZS55ICogaTtcclxuICAgICAgZHJhd0RvdChkb3RYLCBkb3RZLCBkb3RTaXplLCAyNTUpO1xyXG4gICAgfVxyXG5cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYXdQcmVkaWN0ZWRQYXRoKHN0YXJ0UG9zOiBWZWMyRCwgdmVjOiBWZWMyRCkge1xyXG4gIGxldCBkb3RDb3VudCA9IDUxMDtcclxuICBsZXQgcHJlZGljdGVkRG90ID0gbmV3IFBhcnRpY2xlKHN0YXJ0UG9zLCAxNSwgdmVjLCB7cjowLCBnOjAsIGI6MH0pXHJcbiAgZm9yIChsZXQgaSA9IDE7IGkgPD0gZG90Q291bnQ7IGkrKykge1xyXG5cclxuICAgIHByZWRpY3RlZERvdC5hY2NlbGVyYXRlKGdyYXZpdHkpO1xyXG4gICAgYXBwbHlDb25zdHJhaW50KHByZWRpY3RlZERvdCk7XHJcbiAgICBhcHBseUF0dHJhY3RvckZvcmNlcyhwcmVkaWN0ZWREb3QpO1xyXG4gICAgcHJlZGljdGVkRG90LnVwZGF0ZVBvc2l0aW9uKDAuNSAqIDAuMjUpO1xyXG5cclxuICAgIGlmIChpICUgMTUgPT0gMCkge1xyXG4gICAgICBkcmF3RG90KHByZWRpY3RlZERvdC5wb3NfY3Vyci54LCBwcmVkaWN0ZWREb3QucG9zX2N1cnIueSwgNSwgMjU1IC0gaSAvIDIpXHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkcmF3RG90KGRvdFg6IG51bWJlciwgZG90WTogbnVtYmVyLCBkb3RTaXplOiBudW1iZXIsIG9wYWNpdHk6IG51bWJlcikge1xyXG4gIGN0eC5iZWdpblBhdGgoKTtcclxuICBjdHguYXJjKFxyXG4gICAgZG90WCxcclxuICAgIGRvdFksXHJcbiAgICBkb3RTaXplLFxyXG4gICAgMCxcclxuICAgIDIgKiBNYXRoLlBJLFxyXG4gICAgZmFsc2VcclxuICApO1xyXG5cclxuICBjdHguZmlsbFN0eWxlID0gYHJnYmEoMjEwLCAyMTAsIDIxMCwgJHtvcGFjaXR5IC8gMjU1fSlgO1xyXG4gIGN0eC5maWxsKCk7XHJcblxyXG4gIGN0eC5jbG9zZVBhdGgoKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdMYXNzbygpIHtcclxuICBpZiAoY2xpY2tlZCkge1xyXG4gICAgY29uc3QgbGluZVdpZHRoID0gMztcclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5hcmMocG9pbnRlclBvc2l0aW9uLngsIHBvaW50ZXJQb3NpdGlvbi55LCBmaWVsZFNpemUsIDAsIDIgKiBNYXRoLlBJKTtcclxuICAgIGN0eC5saW5lV2lkdGggPSBsaW5lV2lkdGg7XHJcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZSgnLS1ncmlkLWNvbG9yJyk7XHJcbiAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBkcmF3QXJyb3coZnJvbTogVmVjMkQsIHRvOiBWZWMyRCkge1xyXG4gIGlmIChjbGlja2VkICYmIGZyb20ueCAhPSB0by54ICYmIGZyb20ueSAhPSB0by55KSB7XHJcbiAgICB2YXIgYW5nbGUgPSBNYXRoLmF0YW4yKHRvLnkgLSBmcm9tLnksIHRvLnggLSBmcm9tLngpO1xyXG4gICAgY29uc3Qgd2lkdGggPSAxMDtcclxuICAgIHZhciBoZWFkbGVuID0gMTA7XHJcbiAgICB2YXIgbmV3X3RvID0gbmV3IFZlYzJEKHRvLngsIHRvLnkpO1xyXG4gICAgLy8gVGhpcyBtYWtlcyBpdCBzbyB0aGUgZW5kIG9mIHRoZSBhcnJvdyBoZWFkIGlzIGxvY2F0ZWQgYXQgdG94LCB0b3ksIGRvbid0IGFzayB3aGVyZSAxLjE1IGNvbWVzIGZyb21cclxuICAgIG5ld190by54IC09IE1hdGguY29zKGFuZ2xlKSAqICgod2lkdGggKiAxLjE1KSk7XHJcbiAgICBuZXdfdG8ueSAtPSBNYXRoLnNpbihhbmdsZSkgKiAoKHdpZHRoICogMS4xNSkpO1xyXG5cclxuXHJcblxyXG4gICAgLy9zdGFydGluZyBwYXRoIG9mIHRoZSBhcnJvdyBmcm9tIHRoZSBzdGFydCBzcXVhcmUgdG8gdGhlIGVuZCBzcXVhcmUgYW5kIGRyYXdpbmcgdGhlIHN0cm9rZVxyXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgY3R4Lm1vdmVUbyhmcm9tLngsIGZyb20ueSk7XHJcbiAgICBjdHgubGluZVRvKG5ld190by54LCBuZXdfdG8ueSk7XHJcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIiNiYmJiYmJcIjtcclxuICAgIGN0eC5saW5lV2lkdGggPSB3aWR0aDtcclxuICAgIGN0eC5zdHJva2UoKTtcclxuXHJcbiAgICAvL3N0YXJ0aW5nIGEgbmV3IHBhdGggZnJvbSB0aGUgaGVhZCBvZiB0aGUgYXJyb3cgdG8gb25lIG9mIHRoZSBzaWRlcyBvZiB0aGUgcG9pbnRcclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5tb3ZlVG8obmV3X3RvLngsIG5ld190by55KTtcclxuICAgIGN0eC5saW5lVG8obmV3X3RvLnggLSBoZWFkbGVuICogTWF0aC5jb3MoYW5nbGUgLSBNYXRoLlBJIC8gNyksIG5ld190by55IC0gaGVhZGxlbiAqIE1hdGguc2luKGFuZ2xlIC0gTWF0aC5QSSAvIDcpKTtcclxuXHJcbiAgICAvL3BhdGggZnJvbSB0aGUgc2lkZSBwb2ludCBvZiB0aGUgYXJyb3csIHRvIHRoZSBvdGhlciBzaWRlIHBvaW50XHJcbiAgICBjdHgubGluZVRvKG5ld190by54IC0gaGVhZGxlbiAqIE1hdGguY29zKGFuZ2xlICsgTWF0aC5QSSAvIDcpLCBuZXdfdG8ueSAtIGhlYWRsZW4gKiBNYXRoLnNpbihhbmdsZSArIE1hdGguUEkgLyA3KSk7XHJcblxyXG4gICAgLy9wYXRoIGZyb20gdGhlIHNpZGUgcG9pbnQgYmFjayB0byB0aGUgdGlwIG9mIHRoZSBhcnJvdywgYW5kIHRoZW4gYWdhaW4gdG8gdGhlIG9wcG9zaXRlIHNpZGUgcG9pbnRcclxuICAgIGN0eC5saW5lVG8obmV3X3RvLngsIG5ld190by55KTtcclxuICAgIGN0eC5saW5lVG8obmV3X3RvLnggLSBoZWFkbGVuICogTWF0aC5jb3MoYW5nbGUgLSBNYXRoLlBJIC8gNyksIG5ld190by55IC0gaGVhZGxlbiAqIE1hdGguc2luKGFuZ2xlIC0gTWF0aC5QSSAvIDcpKTtcclxuXHJcbiAgICAvL2RyYXdzIHRoZSBwYXRocyBjcmVhdGVkIGFib3ZlXHJcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIiNiYmJiYmJcIjtcclxuICAgIGN0eC5saW5lV2lkdGggPSB3aWR0aDtcclxuICAgIGN0eC5zdHJva2UoKTtcclxuICAgIGN0eC5maWxsU3R5bGUgPSBcIiNiYmJiYmJcIjtcclxuICAgIGN0eC5maWxsKCk7XHJcbiAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgZHJhd0dyaWQgfSBmcm9tIFwiLi9EcmF3ZXJcIjtcclxuaW1wb3J0IHsgc2V0RmllbGRTaXplLCBzZXRGaWVsZFN0cmVuZ3RoLCBzZXRHcmF2aXR5U3RyZW5ndGgsIHNldFN1YnN0ZXBzLCBzZXRQYXJ0aWNsZXNOdW0sIHNldERyYXdPdXRsaW5lfSBmcm9tIFwiLi9zY3JpcHRcIjtcclxuXHJcbmNvbnN0IG1lbnVfYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZW51LWJ1dHRvblwiKTtcclxuY29uc3QgbWVudV9lbGVtZW50czogTm9kZUxpc3RPZjxIVE1MRWxlbWVudD4gPSAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tZW51LWVsZW1lbnRcIik7XHJcblxyXG5tZW51X2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KXtcclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgb3Blbk1lbnUoKTtcclxufSk7XHJcblxyXG5jb25zdCBzd2l0Y2hUaGVtZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IHJvb3RFbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XHJcbiAgICBsZXQgdGhlbWUgPSByb290RWxlbS5nZXRBdHRyaWJ1dGUoJ3RoZW1lJyksXHJcbiAgICAgIG5ld1RoZW1lXHJcbiAgICBuZXdUaGVtZSA9ICh0aGVtZSA9PT0gJ2xpZ2h0JykgPyAnZGFyaycgOiAnbGlnaHQnXHJcbiAgXHJcbiAgICByb290RWxlbS5zZXRBdHRyaWJ1dGUoJ3RoZW1lJywgbmV3VGhlbWUpXHJcbiAgICBkcmF3R3JpZCgpO1xyXG4gICAgLy8gdXBkYXRlQ29sb3IoKTtcclxuICB9XHJcblxyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RoZW1lLXN3aXRjaCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3dpdGNoVGhlbWUpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5NZW51KCkge1xyXG4gICAgaWYgKG1lbnVfYnV0dG9uLmdldEF0dHJpYnV0ZShcIm9wZW5cIikgPT0gXCJmYWxzZVwiKSB7XHJcbiAgICAgICAgLy8gbWVudV9idXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuTWVudSlcclxuICAgICAgICBtZW51X2J1dHRvbi5zZXRBdHRyaWJ1dGUoXCJvcGVuXCIsIFwidHJ1ZVwiKTtcclxuICAgICAgICBtZW51X2J1dHRvbi5zdHlsZS5jdXJzb3IgPSBcImF1dG9cIjtcclxuICAgICAgICAvLyBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyAgICAgbWVudV9lbGVtZW50cy5pdGVtKDApLnN0eWxlLmRpc3BsYXk9IFwiaW5saW5lLWJsb2NrXCI7XHJcbiAgICAgICAgLy8gfSwgMzAwKTtcclxuXHJcbiAgICAgICAgbWVudV9lbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICAgICAgfSwgMzAwKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsb3NlTWVudSgpIHtcclxuICAgIG1lbnVfYnV0dG9uLnNldEF0dHJpYnV0ZShcIm9wZW5cIiwgXCJmYWxzZVwiKTtcclxuICAgIG1lbnVfYnV0dG9uLnN0eWxlLmN1cnNvciA9IFwicG9pbnRlclwiO1xyXG4gICAgbWVudV9lbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfSk7XHJcblxyXG59XHJcblxyXG52YXIgZmllbGRfc2l6ZV9zbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpZWxkLXNpemUtc2xpZGVyXCIpICBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG52YXIgZmllbGRfc3RyZW5ndGhfc2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaWVsZC1zdHJlbmd0aC1zbGlkZXJcIikgIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbnZhciBncmF2aXR5X3N0cmVuZ3RoX3NsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ3Jhdml0eS1zdHJlbmd0aC1zbGlkZXJcIikgIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbnZhciBzdWJzdGVwc19hbW91bnRfZW50cnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1YnN0ZXBzLWFtb3VudC1lbnRyeVwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG52YXIgcGFydGljbGVzX2Ftb3VudF9lbnRyeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFydGljbGVzLWFtb3VudC1lbnRyeVwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG52YXIgb3V0bGluZV9jaGVja2JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZHJhd091dGxpbmVcIikgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHJcbmZpZWxkX3NpemVfc2xpZGVyLm9uaW5wdXQgPSBmdW5jdGlvbigpIHtcclxuICAgIHNldEZpZWxkU2l6ZShwYXJzZUludChmaWVsZF9zaXplX3NsaWRlci52YWx1ZSkpO1xyXG4gIH1cclxuXHJcbmZpZWxkX3N0cmVuZ3RoX3NsaWRlci5vbmlucHV0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBzZXRGaWVsZFN0cmVuZ3RoKHBhcnNlSW50KGZpZWxkX3N0cmVuZ3RoX3NsaWRlci52YWx1ZSkpO1xyXG4gIH1cclxuXHJcbmdyYXZpdHlfc3RyZW5ndGhfc2xpZGVyLm9uaW5wdXQgPSBmdW5jdGlvbigpIHtcclxuICAgIHNldEdyYXZpdHlTdHJlbmd0aChwYXJzZUludChncmF2aXR5X3N0cmVuZ3RoX3NsaWRlci52YWx1ZSkpO1xyXG4gIH1cclxuXHJcbnN1YnN0ZXBzX2Ftb3VudF9lbnRyeS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcclxuICAgIHNldFN1YnN0ZXBzKHBhcnNlSW50KHN1YnN0ZXBzX2Ftb3VudF9lbnRyeS52YWx1ZSkpO1xyXG59KTtcclxuXHJcbnBhcnRpY2xlc19hbW91bnRfZW50cnkuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oKSB7XHJcbiAgICBzZXRQYXJ0aWNsZXNOdW0ocGFyc2VJbnQocGFydGljbGVzX2Ftb3VudF9lbnRyeS52YWx1ZSkpO1xyXG59KTtcclxuXHJcbm91dGxpbmVfY2hlY2tib3gub25pbnB1dCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgc2V0RHJhd091dGxpbmUob3V0bGluZV9jaGVja2JveC5jaGVja2VkKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9pbnRlckZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHJhZGlvQnV0dG9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCdjdXJzb3ItZnVuY3Rpb24nKSBhcyBOb2RlTGlzdE9mPEhUTUxJbnB1dEVsZW1lbnQ+XHJcbiAgXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhZGlvQnV0dG9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAocmFkaW9CdXR0b25zW2ldLmNoZWNrZWQpIHtcclxuICAgICAgICByZXR1cm4gcmFkaW9CdXR0b25zW2ldLnZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuIiwiaW1wb3J0IHsgY3JlYXRlUHJvZ3JhbSwgY3JlYXRlU2hhZGVyIH0gZnJvbSBcIi4vU2hhZGVySGVscGVyXCI7XHJcbmltcG9ydCBWZWMyRCBmcm9tIFwiLi9WZWMyRFwiXHJcbmltcG9ydCB7IGRyYXdPdXRsaW5lLCBncmlkLCBncmlkU2l6ZSB9IGZyb20gXCIuL3NjcmlwdFwiO1xyXG5pbXBvcnQgcGFydGljbGVGcmFnbWVudFNoYWRlciBmcm9tIFwiLi9zaGFkZXJzL3BhcnRpY2xlRnJhZ21lbnRTaGFkZXIuZnJhZ1wiO1xyXG5pbXBvcnQgcGFydGljbGVWZXJ0ZXhTaGFkZXIgZnJvbSBcIi4vc2hhZGVycy9wYXJ0aWNsZVZlcnRleFNoYWRlci52ZXJ0XCI7XHJcbi8vIGJhY2sgYnV0dG9uXHJcbi8vIE51bWJlcnMgaW4gbWVudVxyXG4vLyBncmlkIHNpemUgYWRqXHJcbi8vIGJhbGwgcmFuZG9tbmVzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXJ0aWNsZSB7XHJcbiAgICBzdGF0aWMgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZvcmVncm91bmQtY2FudmFzJykgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICBzdGF0aWMgZ2wgPSBQYXJ0aWNsZS5jYW52YXMhLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgIC8vIHN0YXRpYyB2ZXJ0ZXhTaGFkZXIgPSBjcmVhdGVTaGFkZXIoUGFydGljbGUuZ2wsIFBhcnRpY2xlLmdsLlZFUlRFWF9TSEFERVIsIHBhcnRpY2xlVmVydGV4U2hhZGVyKTtcclxuICAgIC8vIHN0YXRpYyBmcmFnbWVudFNoYWRlciA9IGNyZWF0ZVNoYWRlcihQYXJ0aWNsZS5nbCwgUGFydGljbGUuZ2wuRlJBR01FTlRfU0hBREVSLCBwYXJ0aWNsZUZyYWdtZW50U2hhZGVyKTtcclxuICAgIC8vIHN0YXRpYyBwcm9ncmFtID0gY3JlYXRlUHJvZ3JhbShQYXJ0aWNsZS5nbCwgUGFydGljbGUudmVydGV4U2hhZGVyLCBQYXJ0aWNsZS5mcmFnbWVudFNoYWRlcik7XHJcbiAgICBwb3NfY3VycjogVmVjMkRcclxuICAgIHBvc19wcmV2OiBWZWMyRFxyXG4gICAgYWNjZWxlcmF0aW9uOiBWZWMyRFxyXG4gICAgcmFkaXVzOiBudW1iZXJcclxuICAgIGNvbG9yOiB7cjpudW1iZXIsIGc6bnVtYmVyLCBiOm51bWJlcn1cclxuICAgIGdyaWRDZWxsOiBWZWMyRFxyXG4gICAgXHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBvczogVmVjMkQsIHJhZGl1czogbnVtYmVyLCBhY2M6IFZlYzJELCBjb2xvcjoge3I6bnVtYmVyLCBnOm51bWJlciwgYjpudW1iZXJ9KSB7XHJcbiAgICAgIHRoaXMucG9zX2N1cnIgPSBwb3M7XHJcbiAgICAgIHRoaXMucG9zX3ByZXYgPSB0aGlzLnBvc19jdXJyO1xyXG4gICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcclxuICAgICAgdGhpcy5hY2NlbGVyYXRpb24gPSBhY2M7XHJcbiAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgICAgdGhpcy51cGRhdGVDZWxsKG5ldyBWZWMyRChcclxuICAgICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IodGhpcy5wb3NfY3Vyci54IC8gZ3JpZFNpemUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcih0aGlzLnBvc19jdXJyLnkgLyBncmlkU2l6ZSkpKTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAvLyBsZXQgeHBvczogbnVtYmVyID0gdGhpcy5wb3NfY3Vyci54XHJcbiAgICAgIC8vIGxldCB5cG9zOiBudW1iZXIgPSB0aGlzLnBvc19jdXJyLnlcclxuICAgICAgLy8gUGFydGljbGUuZ2wuYmVnaW5QYXRoKCk7XHJcbiAgICAgIC8vIFBhcnRpY2xlLmdsLmFyYyhcclxuICAgICAgLy8gICB4cG9zLFxyXG4gICAgICAvLyAgIHlwb3MsXHJcbiAgICAgIC8vICAgdGhpcy5yYWRpdXMsXHJcbiAgICAgIC8vICAgMCxcclxuICAgICAgLy8gICAyICogTWF0aC5QSSxcclxuICAgICAgLy8gICBmYWxzZVxyXG4gICAgICAvLyApO1xyXG4gICAgICAvLyBQYXJ0aWNsZS5nbC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAvLyBQYXJ0aWNsZS5nbC5maWxsKCk7XHJcblxyXG4gICAgICAvLyBpZihkcmF3T3V0bGluZSl7XHJcbiAgICAgIC8vICAgUGFydGljbGUuZ2wubGluZVdpZHRoID0gMjtcclxuICAgICAgLy8gICBQYXJ0aWNsZS5nbC5zdHJva2VTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgICAgLy8gICBQYXJ0aWNsZS5nbC5zdHJva2UoKTtcclxuICAgICAgLy8gfVxyXG5cclxuICAgICAgLy8gUGFydGljbGUuZ2wuY2xvc2VQYXRoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlUG9zaXRpb24oZHQ6IG51bWJlcil7XHJcbiAgICAgIGxldCB2ZWxvY2l0eTogVmVjMkQgPSBuZXcgVmVjMkQodGhpcy5wb3NfY3Vyci54IC0gdGhpcy5wb3NfcHJldi54LCB0aGlzLnBvc19jdXJyLnkgLSB0aGlzLnBvc19wcmV2LnkpO1xyXG4gICAgICB0aGlzLnBvc19wcmV2ID0gdGhpcy5wb3NfY3Vyci5jbG9uZSgpXHJcblxyXG4gICAgICB0aGlzLnBvc19jdXJyLmFkZCh2ZWxvY2l0eSlcclxuICAgICAgdGhpcy5hY2NlbGVyYXRpb24ubXVsdGlwbHkoZHQqZHQpXHJcbiAgICAgIHRoaXMucG9zX2N1cnIuYWRkKHRoaXMuYWNjZWxlcmF0aW9uKVxyXG5cclxuICAgICAgdGhpcy5hY2NlbGVyYXRpb24ueCA9IDBcclxuICAgICAgdGhpcy5hY2NlbGVyYXRpb24ueSA9IDBcclxuICAgIH1cclxuXHJcbiAgICBhY2NlbGVyYXRlKGFjYzpWZWMyRCl7XHJcbiAgICAgIHRoaXMuYWNjZWxlcmF0aW9uLmFkZChhY2MpXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ2VsbChncmlkUG9zOiBWZWMyRCl7XHJcbiAgICAgIHRoaXMuZ3JpZENlbGwgPSBncmlkUG9zO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gIH0iLCJpbXBvcnQgcGFydGljbGVGcmFnbWVudFNoYWRlciBmcm9tIFwiLi9zaGFkZXJzL3BhcnRpY2xlRnJhZ21lbnRTaGFkZXIuZnJhZ1wiO1xyXG5pbXBvcnQgcGFydGljbGVWZXJ0ZXhTaGFkZXIgZnJvbSBcIi4vc2hhZGVycy9wYXJ0aWNsZVZlcnRleFNoYWRlci52ZXJ0XCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2hhZGVyKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHR5cGU6IGFueSwgc291cmNlOiBhbnkpIHtcclxuICAgIHZhciBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIodHlwZSk7XHJcbiAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzb3VyY2UpO1xyXG4gICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xyXG4gICAgdmFyIHN1Y2Nlc3MgPSBnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUyk7XHJcbiAgICBpZiAoc3VjY2Vzcykge1xyXG4gICAgICByZXR1cm4gc2hhZGVyO1xyXG4gICAgfVxyXG4gICBcclxuICAgIGNvbnNvbGUubG9nKGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKSk7XHJcbiAgICBnbC5kZWxldGVTaGFkZXIoc2hhZGVyKTtcclxuICB9XHJcblxyXG4gIGV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQcm9ncmFtKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHZlcnRleFNoYWRlcjogV2ViR0xTaGFkZXIsIGZyYWdtZW50U2hhZGVyOiBXZWJHTFNoYWRlcikge1xyXG4gICAgdmFyIHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XHJcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcclxuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XHJcbiAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgIHZhciBzdWNjZXNzID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUyk7XHJcbiAgICBpZiAoc3VjY2Vzcykge1xyXG4gICAgICByZXR1cm4gcHJvZ3JhbTtcclxuICAgIH1cclxuICAgXHJcbiAgICBjb25zb2xlLmxvZyhnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSk7XHJcbiAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xyXG4gIH1cclxuXHJcbiAgZXhwb3J0IGZ1bmN0aW9uIHJlc2l6ZUNhbnZhc1RvRGlzcGxheVNpemUoY2FudmFzOmFueSkge1xyXG4gICAgLy8gTG9va3VwIHRoZSBzaXplIHRoZSBicm93c2VyIGlzIGRpc3BsYXlpbmcgdGhlIGNhbnZhcyBpbiBDU1MgcGl4ZWxzLlxyXG4gICAgY29uc3QgZGlzcGxheVdpZHRoICA9IGNhbnZhcy5jbGllbnRXaWR0aDtcclxuICAgIGNvbnN0IGRpc3BsYXlIZWlnaHQgPSBjYW52YXMuY2xpZW50SGVpZ2h0O1xyXG4gICBcclxuICAgIC8vIENoZWNrIGlmIHRoZSBjYW52YXMgaXMgbm90IHRoZSBzYW1lIHNpemUuXHJcbiAgICBjb25zdCBuZWVkUmVzaXplID0gY2FudmFzLndpZHRoICAhPT0gZGlzcGxheVdpZHRoIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCAhPT0gZGlzcGxheUhlaWdodDtcclxuICAgXHJcbiAgICBpZiAobmVlZFJlc2l6ZSkge1xyXG4gICAgICAvLyBNYWtlIHRoZSBjYW52YXMgdGhlIHNhbWUgc2l6ZVxyXG4gICAgICBjYW52YXMud2lkdGggID0gZGlzcGxheVdpZHRoO1xyXG4gICAgICBjYW52YXMuaGVpZ2h0ID0gZGlzcGxheUhlaWdodDtcclxuICAgIH1cclxuICAgXHJcbiAgICByZXR1cm4gbmVlZFJlc2l6ZTtcclxuXHJcbiAgfVxyXG5cclxuXHJcbiAgZXhwb3J0IGZ1bmN0aW9uIGluaXRQYXJ0aWNsZVNoYWRlcigpe1xyXG5cclxuXHJcbi8vIHZhciB3aWR0aCA9IGdsLmNhbnZhcy53aWR0aDtcclxuLy8gdmFyIGhlaWdodCA9IGdsLmNhbnZhcy5oZWlnaHQ7XHJcbi8vIHZhciBjZW50ZXJYID0gMjAwIC8gd2lkdGg7XHJcbi8vIHZhciBjZW50ZXJZID0gMjAwIC8gaGVpZ2h0O1xyXG4vLyBjb25zb2xlLmxvZyh3aWR0aCk7XHJcbi8vIGNvbnNvbGUubG9nKGhlaWdodCk7XHJcbi8vIGNvbnNvbGUubG9nKGNlbnRlclgpO1xyXG4vLyBjb25zb2xlLmxvZyhjZW50ZXJZKTtcclxuLy8gdmFyIHJhZGl1cyA9IE1hdGgubWluKDIwMCwgMjAwKSAvIDI7XHJcbi8vIHZhciBub3JtQ2VudGVyWCA9IGNlbnRlclgvMjtcclxuLy8gdmFyIG5vcm1DZW50ZXJZID0gY2VudGVyWTtcclxuLy8gdmFyIG5vcm1SYWRpdXMgPSByYWRpdXMgLyB3aWR0aDtcclxuLy8gY29uc29sZS5sb2cobm9ybVJhZGl1cyk7XHJcbi8vIGNvbnNvbGUubG9nKG5vcm1DZW50ZXJYKTtcclxuLy8gY29uc29sZS5sb2cobm9ybUNlbnRlclkpO1xyXG5cclxuXHJcblxyXG4vLyByZXNpemVDYW52YXNUb0Rpc3BsYXlTaXplKGdsLmNhbnZhcyk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vc2V0dGluZyB0aGUgcmVzb2x1dGlvblxyXG4vLyBnbC51bmlmb3JtMmYocmVzb2x1dGlvblVuaWZvcm1Mb2NhdGlvbiwgZ2wuY2FudmFzLndpZHRoLCBnbC5jYW52YXMuaGVpZ2h0KTtcclxuLy8gZ2wudW5pZm9ybTJmKGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCBcInVfY2VudGVyXCIpLCBub3JtQ2VudGVyWCwgbm9ybUNlbnRlclkpO1xyXG4vLyBnbC51bmlmb3JtMWYoZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sIFwidV9yYWRpdXNcIiksIG5vcm1SYWRpdXMpO1xyXG5cclxuXHJcblxyXG4gIH0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBWZWMyRCB7XHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbiAgXHJcbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgICB0aGlzLnggPSB4O1xyXG4gICAgICB0aGlzLnkgPSB5O1xyXG4gICAgfVxyXG4gIFxyXG4gICAgYWRkKG90aGVyOiBWZWMyRCl7XHJcbiAgICAgIHRoaXMueCArPSBvdGhlci54O1xyXG4gICAgICB0aGlzLnkgKz0gb3RoZXIueTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgc3VidHJhY3Qob3RoZXI6IFZlYzJEKXtcclxuICAgICAgdGhpcy54IC09IG90aGVyLng7XHJcbiAgICAgIHRoaXMueSAtPSBvdGhlci55O1xyXG4gICAgfVxyXG4gIFxyXG4gICAgbXVsdGlwbHkoc2NhbGFyOiBudW1iZXIpIHtcclxuICAgICAgdGhpcy54ICo9IHNjYWxhcjtcclxuICAgICAgdGhpcy55ICo9IHNjYWxhcjtcclxuICAgIH1cclxuICBcclxuICAgIGRpdmlkZShzY2FsYXI6IG51bWJlcil7XHJcbiAgICAgIHRoaXMueCAvPSBzY2FsYXI7XHJcbiAgICAgIHRoaXMueSAvPSBzY2FsYXI7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBkb3QodmVjOiBWZWMyRCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLnggKiB2ZWMueCArIHRoaXMueSAqIHZlYy55O1xyXG4gICAgfVxyXG5cclxuICAgIGxlbmd0aCgpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvbmUoKTogVmVjMkR7XHJcbiAgICAgIHJldHVybiBuZXcgVmVjMkQodGhpcy54LCB0aGlzLnkpXHJcbiAgICB9XHJcblxyXG4gICAgZGlmZmVyZW5jZShvdGhlcjogVmVjMkQpOiBWZWMyRHtcclxuICAgICAgcmV0dXJuIG5ldyBWZWMyRCh0aGlzLnggLSBvdGhlci54LCB0aGlzLnkgLSBvdGhlci55KVxyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBBdHRyYWN0b3IgZnJvbSBcIi4vQXR0cmFjdG9yXCI7XHJcbmltcG9ydCB7IGRyYXdBcnJvdywgZHJhd0dyaWQsIGRyYXdMYXNzbywgZHJhd1BhcnRpY2xlcywgZHJhd1RhaWwsIHNldEdlb21ldHJ5IH0gZnJvbSBcIi4vRHJhd2VyXCI7XHJcbmltcG9ydCB7IGNsb3NlTWVudSwgZ2V0UG9pbnRlckZ1bmN0aW9uIH0gZnJvbSBcIi4vTWVudU1hbmFnZXJcIjtcclxuaW1wb3J0IFBhcnRpY2xlIGZyb20gXCIuL1BhcnRpY2xlXCI7XHJcbmltcG9ydCB7IGluaXRQYXJ0aWNsZVNoYWRlciB9IGZyb20gXCIuL1NoYWRlckhlbHBlclwiO1xyXG5pbXBvcnQgVmVjMkQgZnJvbSBcIi4vVmVjMkRcIjtcclxuZXhwb3J0IGNvbnN0IGdyaWRTaXplID0gMzE7XHJcbmV4cG9ydCBjb25zdCBncmlkOiBQYXJ0aWNsZVtdW11bXSA9IFtdO1xyXG5cclxuZXhwb3J0IGNvbnN0IHBhcnRpY2xlczogUGFydGljbGVbXSA9IFtdO1xyXG52YXIgYXR0cmFjdG9yczogQXR0cmFjdG9yW10gPSBbXTtcclxudmFyIHBhcnRpY2xlQ291bnQgPSAxMDA7XHJcbnZhciBudW1iZXJfb2ZfY29sbGlzaW9ucyA9IDA7XHJcbmV4cG9ydCBjb25zdCBwb2ludGVyUG9zaXRpb24gPSBuZXcgVmVjMkQoMCwgMClcclxudmFyIGNsaWNrX3N0YXJ0X3Bvc2l0aW9uID0gbmV3IFZlYzJEKDAsIDApXHJcbnZhciBwb2ludGVyX2Z1bmN0aW9uID0gJ2ZpZWxkJ1xyXG5leHBvcnQgdmFyIGdyYXZpdHkgPSBuZXcgVmVjMkQoMCwgMSlcclxuZXhwb3J0IGNvbnN0IGZvcmVncm91bmRfY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZvcmVncm91bmQtY2FudmFzJykgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbmNvbnN0IGJhY2tncm91bmRfY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhY2tncm91bmQtY2FudmFzJykgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbmNvbnN0IHdlYmdsX2NhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3ZWJnbC1jYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuXHJcbmV4cG9ydCB2YXIgZmllbGRTaXplID0gMVxyXG5leHBvcnQgdmFyIGRyYXdPdXRsaW5lID0gdHJ1ZVxyXG52YXIgZmllbGRTdHJlbmd0aCA9IDEwXHJcbnZhciBzdWJzdGVwc19hbW91bnQgPSA0XHJcbnZhciBncmlkQ29sdW1ucyA9IE1hdGguY2VpbChmb3JlZ3JvdW5kX2NhbnZhcy53aWR0aCAvIGdyaWRTaXplKTtcclxudmFyIGdyaWRSb3dzID0gTWF0aC5jZWlsKGZvcmVncm91bmRfY2FudmFzLmhlaWdodCAvIGdyaWRTaXplKTtcclxuZm9yZWdyb3VuZF9jYW52YXMhLndpZHRoID0gZm9yZWdyb3VuZF9jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbmZvcmVncm91bmRfY2FudmFzIS5oZWlnaHQgPSBmb3JlZ3JvdW5kX2NhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbmJhY2tncm91bmRfY2FudmFzIS53aWR0aCA9IGJhY2tncm91bmRfY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG5iYWNrZ3JvdW5kX2NhbnZhcyEuaGVpZ2h0ID0gYmFja2dyb3VuZF9jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG53ZWJnbF9jYW52YXMhLndpZHRoID0gd2ViZ2xfY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG53ZWJnbF9jYW52YXMhLmhlaWdodCA9IHdlYmdsX2NhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbmV4cG9ydCBjb25zdCBjdHggPSBmb3JlZ3JvdW5kX2NhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4vLyBleHBvcnQgY29uc3QgY3R4ID0gUGFydGljbGUuY2FudmFzIS5nZXRDb250ZXh0KCcyZCcpO1xyXG5leHBvcnQgY29uc3QgYmFja19jdHggPSBiYWNrZ3JvdW5kX2NhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5leHBvcnQgdmFyIGZwcyA9IDYwO1xyXG5leHBvcnQgbGV0IGNsaWNrZWQgPSBmYWxzZVxyXG5sZXQgZnBzQ291bnRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5mcHNDb3VudGVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuZnBzQ291bnRlci5zdHlsZS50b3AgPSAnMTBweCc7XHJcbmZwc0NvdW50ZXIuc3R5bGUubGVmdCA9ICcxMHB4JztcclxuXHJcbmxldCBwYXJ0aWNsZUNvdW50ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxucGFydGljbGVDb3VudGVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxucGFydGljbGVDb3VudGVyLnN0eWxlLnRvcCA9ICczMHB4JztcclxucGFydGljbGVDb3VudGVyLnN0eWxlLmxlZnQgPSAnMTBweCc7XHJcblxyXG5sZXQgY29sbGlzaW9uQ291bnRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5jb2xsaXNpb25Db3VudGVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuY29sbGlzaW9uQ291bnRlci5zdHlsZS50b3AgPSAnNTBweCc7XHJcbmNvbGxpc2lvbkNvdW50ZXIuc3R5bGUubGVmdCA9ICcxMHB4JztcclxuXHJcblxyXG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZwc0NvdW50ZXIpO1xyXG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHBhcnRpY2xlQ291bnRlcik7XHJcbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29sbGlzaW9uQ291bnRlcik7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0RmllbGRTdHJlbmd0aCh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgZmllbGRTdHJlbmd0aCA9IHZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0RmllbGRTaXplKHZhbHVlOiBudW1iZXIpIHtcclxuICBmaWVsZFNpemUgPSB2YWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEdyYXZpdHlTdHJlbmd0aCh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgZ3Jhdml0eSA9IG5ldyBWZWMyRCgwLCB2YWx1ZSAqIDAuMSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRTdWJzdGVwcyh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgc3Vic3RlcHNfYW1vdW50ID0gdmFsdWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRQYXJ0aWNsZXNOdW0odmFsdWU6IG51bWJlcikge1xyXG4gIHBhcnRpY2xlQ291bnQgPSB2YWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldERyYXdPdXRsaW5lKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgZHJhd091dGxpbmUgPSB2YWx1ZTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdGlhbGl6ZUdyaWQoKSB7XHJcbiAgZ3JpZENvbHVtbnMgPSBNYXRoLmNlaWwoZm9yZWdyb3VuZF9jYW52YXMud2lkdGggLyBncmlkU2l6ZSk7XHJcbiAgZ3JpZFJvd3MgPSBNYXRoLmNlaWwoZm9yZWdyb3VuZF9jYW52YXMuaGVpZ2h0IC8gZ3JpZFNpemUpO1xyXG4gIGNvbnNvbGUubG9nKGdyaWRDb2x1bW5zKTtcclxuICBjb25zb2xlLmxvZyhncmlkUm93cyk7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBncmlkQ29sdW1uczsgaSsrKSB7XHJcbiAgICBncmlkW2ldID0gW107XHJcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGdyaWRSb3dzOyBqKyspIHtcclxuICAgICAgZ3JpZFtpXVtqXSA9IFtdO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlRnJvbUdyaWQoKSB7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBncmlkQ29sdW1uczsgaSsrKSB7XHJcbiAgICBncmlkW2ldID0gW107XHJcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGdyaWRSb3dzOyBqKyspIHtcclxuICAgICAgZ3JpZFtpXVtqXSA9IFtdO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYWRkVG9HcmlkKHBhcnRpY2xlOiBQYXJ0aWNsZSkge1xyXG4gIGNvbnN0IGNvbHVtbiA9IE1hdGguZmxvb3IocGFydGljbGUucG9zX2N1cnIueCAvIGdyaWRTaXplKTtcclxuICBjb25zdCByb3cgPSBNYXRoLmZsb29yKHBhcnRpY2xlLnBvc19jdXJyLnkgLyBncmlkU2l6ZSk7XHJcblxyXG4gIGlmIChjb2x1bW4gPj0gMCAmJiBjb2x1bW4gPCBncmlkLmxlbmd0aCAmJiByb3cgPj0gMCAmJiByb3cgPCBncmlkW2NvbHVtbl0ubGVuZ3RoKSB7XHJcbiAgICBncmlkW2NvbHVtbl1bcm93XS5wdXNoKHBhcnRpY2xlKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldE5laWdoYm9yaW5nUGFydGljbGVzKHBhcnRpY2xlOiBQYXJ0aWNsZSk6IFBhcnRpY2xlW10ge1xyXG4gIGNvbnN0IGNvbHVtbiA9IE1hdGguZmxvb3IocGFydGljbGUucG9zX2N1cnIueCAvIGdyaWRTaXplKTtcclxuICBjb25zdCByb3cgPSBNYXRoLmZsb29yKHBhcnRpY2xlLnBvc19jdXJyLnkgLyBncmlkU2l6ZSk7XHJcbiAgY29uc3QgbmVpZ2hib3JpbmdQYXJ0aWNsZXM6IFBhcnRpY2xlW10gPSBbXTtcclxuXHJcbiAgZm9yIChsZXQgaSA9IGNvbHVtbiAtIDE7IGkgPD0gY29sdW1uICsgMTsgaSsrKSB7XHJcbiAgICBmb3IgKGxldCBqID0gcm93IC0gMTsgaiA8PSByb3cgKyAxOyBqKyspIHtcclxuICAgICAgaWYgKGkgPj0gMCAmJiBpIDwgZ3JpZC5sZW5ndGggJiYgaiA+PSAwICYmIGogPCBncmlkW2ldLmxlbmd0aCkge1xyXG4gICAgICAgIG5laWdoYm9yaW5nUGFydGljbGVzLnB1c2goLi4uZ3JpZFtpXVtqXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIG5laWdoYm9yaW5nUGFydGljbGVzO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0aWNrKGR0OiBudW1iZXIpIHtcclxuICB2YXIgc3ViX3N0ZXBzID0gc3Vic3RlcHNfYW1vdW50O1xyXG4gIHZhciBzdWJfZHQgPSBkdCAvIHN1Yl9zdGVwcztcclxuXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdWJfc3RlcHM7IGkrKykge1xyXG4gICAgaWYgKGdyYXZpdHkueSAhPSAwKSB7XHJcbiAgICAgIGFwcGx5R3Jhdml0eSgpO1xyXG4gICAgfVxyXG4gICAgaWYgKGNsaWNrZWQpIHtcclxuICAgICAgc3dpdGNoIChwb2ludGVyX2Z1bmN0aW9uKSB7XHJcbiAgICAgICAgY2FzZSAnZmllbGQnOlxyXG4gICAgICAgICAgYXBwbHlGaWVsZChwb2ludGVyUG9zaXRpb24pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnZ3Jhdml0eSc6XHJcbiAgICAgICAgICBncmF2aXR5ID0gcG9pbnRlclBvc2l0aW9uLmRpZmZlcmVuY2UoY2xpY2tfc3RhcnRfcG9zaXRpb24pXHJcbiAgICAgICAgICBncmF2aXR5LmRpdmlkZSgyMDApXHJcbiAgICAgICAgY2FzZSAndGhyb3cnOlxyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICB9XHJcblxyXG4gICAgfVxyXG4gICAgLy8gYXBwbHlBdHRyYWN0b3JGb3JjZXNUb0FsbCgpO1xyXG4gICAgYXBwbHlDb25zdHJhaW50VG9BbGxFZGdlcygpO1xyXG4gICAgc29sdmVDb2xsaXNpb25zKCk7XHJcbiAgICB1cGRhdGVQb3NpdGlvbnMoc3ViX2R0KTtcclxuICB9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBhcHBseUNvbnN0cmFpbnRUb0FsbEVkZ2VzKCkge1xyXG5cclxuICBncmlkLmZvckVhY2goKHJvdykgPT4ge1xyXG4gICAgcm93LmZvckVhY2goKGdyaWRDZWxsKSA9PiB7XHJcbiAgICAgIGdyaWRDZWxsLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgICAgICAgYXBwbHlDb25zdHJhaW50KHBhcnRpY2xlKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuICAvLyBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCBncmlkLmxlbmd0aDsgY29sKyspIHtcclxuICAvLyAgIGZvciAodmFyIHRoaWNrbmVzcyA9IDA7IHRoaWNrbmVzcyA8IDI7IHRoaWNrbmVzcysrKSB7XHJcbiAgLy8gICAgIGdyaWRbY29sXVt0aGlja25lc3NdLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgLy8gICAgICAgYXBwbHlDb25zdHJhaW50KHBhcnRpY2xlKTtcclxuICAvLyAgICAgfSk7XHJcblxyXG4gIC8vICAgICBncmlkW2NvbF1bZ3JpZFswXS5sZW5ndGggLSB0aGlja25lc3MgLSAxXS5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gIC8vICAgICAgIGFwcGx5Q29uc3RyYWludChwYXJ0aWNsZSk7XHJcbiAgLy8gICAgIH0pO1xyXG4gIC8vICAgfVxyXG4gIC8vIH1cclxuXHJcbiAgLy8gZm9yICh2YXIgcm93ID0gMDsgcm93IDwgZ3JpZFswXS5sZW5ndGg7IHJvdysrKSB7XHJcbiAgLy8gICBmb3IgKHZhciB0aGlja25lc3MgPSAwOyB0aGlja25lc3MgPCAyOyB0aGlja25lc3MrKykge1xyXG4gIC8vICAgICBncmlkW3RoaWNrbmVzc11bcm93XS5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gIC8vICAgICAgIGFwcGx5Q29uc3RyYWludChwYXJ0aWNsZSk7XHJcbiAgLy8gICAgIH0pO1xyXG5cclxuICAvLyAgICAgZ3JpZFtncmlkLmxlbmd0aCAtIHRoaWNrbmVzcyAtIDFdW3Jvd10uZm9yRWFjaCgocGFydGljbGUpID0+IHtcclxuICAvLyAgICAgICBhcHBseUNvbnN0cmFpbnQocGFydGljbGUpO1xyXG4gIC8vICAgICB9KTtcclxuICAvLyAgIH1cclxuICAvLyB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVBvc2l0aW9ucyhkdDogbnVtYmVyKSB7XHJcbiAgcmVtb3ZlRnJvbUdyaWQoKTtcclxuICBwYXJ0aWNsZXMuZm9yRWFjaCgocGFydGljbGUpID0+IHtcclxuXHJcbiAgICBwYXJ0aWNsZS51cGRhdGVQb3NpdGlvbihkdCk7XHJcbiAgICBhZGRUb0dyaWQocGFydGljbGUpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhcHBseUdyYXZpdHkoKSB7XHJcbiAgcGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgICBwYXJ0aWNsZS5hY2NlbGVyYXRlKGdyYXZpdHkpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhcHBseUZpZWxkKGZpZWxkUG9zOiBWZWMyRCkge1xyXG4gIHBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgY29uc3QgcHVsbERpcmVjdGlvbiA9IGZpZWxkUG9zLmRpZmZlcmVuY2UocGFydGljbGUucG9zX2N1cnIpXHJcbiAgICBjb25zdCBkaXN0YW5jZSA9IHB1bGxEaXJlY3Rpb24ubGVuZ3RoKCk7XHJcblxyXG4gICAgaWYgKGRpc3RhbmNlIDwgZmllbGRTaXplICYmIGRpc3RhbmNlID4gMTApIHtcclxuICAgICAgcHVsbERpcmVjdGlvbi5tdWx0aXBseShmaWVsZFN0cmVuZ3RoICogMTAwKTtcclxuICAgICAgcHVsbERpcmVjdGlvbi5kaXZpZGUoZGlzdGFuY2UgKiBkaXN0YW5jZSlcclxuICAgICAgcGFydGljbGUuYWNjZWxlcmF0ZShwdWxsRGlyZWN0aW9uKTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gYXBwbHlBdHRyYWN0b3JGb3JjZXNUb0FsbCgpIHtcclxuICBwYXJ0aWNsZXMuZm9yRWFjaCgocGFydGljbGUpID0+IHtcclxuICAgIGFwcGx5QXR0cmFjdG9yRm9yY2VzKHBhcnRpY2xlKVxyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlBdHRyYWN0b3JGb3JjZXMocGFydGljbGU6IFBhcnRpY2xlKSB7XHJcbiAgYXR0cmFjdG9ycy5mb3JFYWNoKChhdHRyYWN0b3IpID0+IHtcclxuICAgIGNvbnN0IHB1bGxEaXJlY3Rpb24gPSBhdHRyYWN0b3IucG9zLmRpZmZlcmVuY2UocGFydGljbGUucG9zX2N1cnIpXHJcbiAgICBjb25zdCBkaXN0YW5jZSA9IHB1bGxEaXJlY3Rpb24ubGVuZ3RoKCk7XHJcblxyXG4gICAgaWYgKGRpc3RhbmNlIDwgYXR0cmFjdG9yLnJhZGl1cyAmJiBkaXN0YW5jZSA+IDEwKSB7XHJcbiAgICAgIHB1bGxEaXJlY3Rpb24ubXVsdGlwbHkoYXR0cmFjdG9yLmZvcmNlKTtcclxuICAgICAgcHVsbERpcmVjdGlvbi5kaXZpZGUoZGlzdGFuY2UgKiBkaXN0YW5jZSlcclxuICAgICAgcGFydGljbGUuYWNjZWxlcmF0ZShwdWxsRGlyZWN0aW9uKTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc29sdmVDb2xsaXNpb25zKCkge1xyXG4gIG51bWJlcl9vZl9jb2xsaXNpb25zID0gMDtcclxuICBwYXJ0aWNsZXMuZm9yRWFjaCgocGFydGljbGUxKSA9PiB7XHJcbiAgICBjb25zdCBuZWlnaGJvcmluZ1BhcnRpY2xlcyA9IGdldE5laWdoYm9yaW5nUGFydGljbGVzKHBhcnRpY2xlMSk7XHJcblxyXG4gICAgbmVpZ2hib3JpbmdQYXJ0aWNsZXMuZm9yRWFjaCgocGFydGljbGUyKSA9PiB7XHJcbiAgICAgIG51bWJlcl9vZl9jb2xsaXNpb25zKys7XHJcbiAgICAgIGxldCBjb2xsaXNpb25fZGlyZWN0aW9uID0gcGFydGljbGUxLnBvc19jdXJyLmRpZmZlcmVuY2UocGFydGljbGUyLnBvc19jdXJyKVxyXG5cclxuICAgICAgbGV0IGRpc3RhbmNlID0gY29sbGlzaW9uX2RpcmVjdGlvbi5sZW5ndGgoKTtcclxuICAgICAgaWYgKGRpc3RhbmNlICE9IDApIHtcclxuICAgICAgICBpZiAoZGlzdGFuY2UgPCBwYXJ0aWNsZTEucmFkaXVzICsgcGFydGljbGUyLnJhZGl1cykge1xyXG4gICAgICAgICAgY29sbGlzaW9uX2RpcmVjdGlvbi5kaXZpZGUoZGlzdGFuY2UpO1xyXG4gICAgICAgICAgbGV0IGRlbHRhID0gcGFydGljbGUxLnJhZGl1cyArIHBhcnRpY2xlMi5yYWRpdXMgLSBkaXN0YW5jZTtcclxuICAgICAgICAgIGNvbGxpc2lvbl9kaXJlY3Rpb24ubXVsdGlwbHkoZGVsdGEgKiAwLjUpXHJcblxyXG4gICAgICAgICAgcGFydGljbGUxLnBvc19jdXJyLmFkZChjb2xsaXNpb25fZGlyZWN0aW9uKTtcclxuICAgICAgICAgIHBhcnRpY2xlMi5wb3NfY3Vyci5zdWJ0cmFjdChjb2xsaXNpb25fZGlyZWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlDb25zdHJhaW50KHBhcnRpY2xlOiBQYXJ0aWNsZSkge1xyXG4gIC8vIEFwcGx5IGZsb29yIGNvbnN0cmFpbnRcclxuICBpZiAocGFydGljbGUucG9zX2N1cnIueSArIHBhcnRpY2xlLnJhZGl1cyA+IGZvcmVncm91bmRfY2FudmFzLmhlaWdodCkge1xyXG4gICAgcGFydGljbGUucG9zX2N1cnIueSA9IGZvcmVncm91bmRfY2FudmFzLmhlaWdodCAtIHBhcnRpY2xlLnJhZGl1cztcclxuICAgIHBhcnRpY2xlLnBvc19wcmV2LnkgPSBwYXJ0aWNsZS5wb3NfY3Vyci55ICsgcGFydGljbGUucG9zX2N1cnIueSAtIHBhcnRpY2xlLnBvc19wcmV2Lnk7XHJcbiAgfVxyXG5cclxuICAvLyBBcHBseSBDZWlsaW5nIGNvbnN0cmFpbnRcclxuICBpZiAocGFydGljbGUucG9zX2N1cnIueSAtIHBhcnRpY2xlLnJhZGl1cyA8IDApIHtcclxuICAgIHBhcnRpY2xlLnBvc19jdXJyLnkgPSBwYXJ0aWNsZS5yYWRpdXM7XHJcbiAgICBwYXJ0aWNsZS5wb3NfcHJldi55ID0gcGFydGljbGUucG9zX2N1cnIueSArIHBhcnRpY2xlLnBvc19jdXJyLnkgLSBwYXJ0aWNsZS5wb3NfcHJldi55O1xyXG4gIH1cclxuXHJcblxyXG4gIC8vIEFwcGx5IGxlZnQgd2FsbCBjb25zdHJhaW50XHJcbiAgaWYgKHBhcnRpY2xlLnBvc19jdXJyLnggLSBwYXJ0aWNsZS5yYWRpdXMgPCAwKSB7XHJcbiAgICBwYXJ0aWNsZS5wb3NfY3Vyci54ID0gcGFydGljbGUucmFkaXVzO1xyXG4gICAgcGFydGljbGUucG9zX3ByZXYueCA9IHBhcnRpY2xlLnBvc19jdXJyLnggKyBwYXJ0aWNsZS5wb3NfY3Vyci54IC0gcGFydGljbGUucG9zX3ByZXYueDtcclxuICB9XHJcblxyXG4gIC8vIEFwcGx5IHJpZ2h0IHdhbGwgY29uc3RyYWludFxyXG4gIGlmIChwYXJ0aWNsZS5wb3NfY3Vyci54ICsgcGFydGljbGUucmFkaXVzID4gZm9yZWdyb3VuZF9jYW52YXMud2lkdGgpIHtcclxuICAgIHBhcnRpY2xlLnBvc19jdXJyLnggPSBmb3JlZ3JvdW5kX2NhbnZhcy53aWR0aCAtIHBhcnRpY2xlLnJhZGl1cztcclxuXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjbGVhckNhbnZhcygpIHtcclxuICBjdHguY2xlYXJSZWN0KDAsIDAsIGZvcmVncm91bmRfY2FudmFzLndpZHRoLCBmb3JlZ3JvdW5kX2NhbnZhcy5oZWlnaHQpO1xyXG4gIC8vIGJhY2tfY3R4LmNsZWFyUmVjdCgwLCAwLCBmb3JlZ3JvdW5kX2NhbnZhcy53aWR0aCwgZm9yZWdyb3VuZF9jYW52YXMuaGVpZ2h0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlQ2FudmFzU2l6ZSgpIHtcclxuICBmb3JlZ3JvdW5kX2NhbnZhcy53aWR0aCA9IGZvcmVncm91bmRfY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIGZvcmVncm91bmRfY2FudmFzLmhlaWdodCA9IGZvcmVncm91bmRfY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICBiYWNrZ3JvdW5kX2NhbnZhcy53aWR0aCA9IGJhY2tncm91bmRfY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIGJhY2tncm91bmRfY2FudmFzLmhlaWdodCA9IGJhY2tncm91bmRfY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICB3ZWJnbF9jYW52YXMud2lkdGggPSB3ZWJnbF9jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgd2ViZ2xfY2FudmFzLmhlaWdodCA9IHdlYmdsX2NhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgaW5pdFBhcnRpY2xlU2hhZGVyKCk7XHJcbiAgaW5pdGlhbGl6ZUdyaWQoKTtcclxuICBkcmF3R3JpZCgpO1xyXG59XHJcblxyXG5sZXQgZnJhbWVDb3VudCA9IDA7XHJcbmxldCBsYXN0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpICogMC4xO1xyXG5cclxuZnVuY3Rpb24gY2FsY3VsYXRlRlBTKCkge1xyXG4gIGNvbnN0IGN1cnJlbnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgKiAwLjE7XHJcbiAgY29uc3QgdGltZURpZmYgPSBjdXJyZW50VGltZSAtIGxhc3RUaW1lO1xyXG4gIGNvbnN0IGZwcyA9IE1hdGgucm91bmQoMTAwMCAvIHRpbWVEaWZmKTtcclxuICBsYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xyXG4gIHJldHVybiBmcHM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bihldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpIHtcclxuICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxyXG4gIGNsaWNrZWQgPSB0cnVlO1xyXG4gIHBvaW50ZXJfZnVuY3Rpb24gPSBnZXRQb2ludGVyRnVuY3Rpb24oKVxyXG5cclxuICBpZiAoZXZlbnQgaW5zdGFuY2VvZiBNb3VzZUV2ZW50KSB7XHJcbiAgICBwb2ludGVyUG9zaXRpb24ueCA9IGV2ZW50LmNsaWVudFg7XHJcbiAgICBwb2ludGVyUG9zaXRpb24ueSA9IGV2ZW50LmNsaWVudFk7XHJcblxyXG4gIH1cclxuICBlbHNlIGlmIChldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpIHtcclxuICAgIHBvaW50ZXJQb3NpdGlvbi54ID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYO1xyXG4gICAgcG9pbnRlclBvc2l0aW9uLnkgPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFk7XHJcbiAgfVxyXG5cclxuICBjbGlja19zdGFydF9wb3NpdGlvbi54ID0gcG9pbnRlclBvc2l0aW9uLng7XHJcbiAgY2xpY2tfc3RhcnRfcG9zaXRpb24ueSA9IHBvaW50ZXJQb3NpdGlvbi55O1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlTW91c2VVcChldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpIHtcclxuICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxyXG4gIGNsaWNrZWQgPSBmYWxzZTtcclxuXHJcbiAgc3dpdGNoIChwb2ludGVyX2Z1bmN0aW9uKSB7XHJcbiAgICBjYXNlICdmaWVsZCc6XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnZ3Jhdml0eSc6XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAndGhyb3cnOlxyXG4gICAgICBsZXQgbGF1bmNoX2RpciA9IGNsaWNrX3N0YXJ0X3Bvc2l0aW9uLmRpZmZlcmVuY2UocG9pbnRlclBvc2l0aW9uKVxyXG4gICAgICBsYXVuY2hfZGlyLm11bHRpcGx5KGZwcyAvIDYwKVxyXG4gICAgICBwYXJ0aWNsZXMucHVzaChuZXcgUGFydGljbGUoY2xpY2tfc3RhcnRfcG9zaXRpb24uY2xvbmUoKSwgMTUsIGxhdW5jaF9kaXIsIGdldFJhbmRvbUNvbG9yKCkpKTtcclxuICAgICAgYnJlYWs7XHJcblxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0UmFuZG9tQ29sb3IoKTogeyByOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyIH0ge1xyXG4gIHJldHVybiB7XHJcbiAgICByOiBNYXRoLnJhbmRvbSgpLFxyXG4gICAgZzogTWF0aC5yYW5kb20oKSxcclxuICAgIGI6IE1hdGgucmFuZG9tKClcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZU1vdmVFdmVudChldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpIHtcclxuICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxyXG4gIGlmIChjbGlja2VkKSB7XHJcbiAgICBpZiAoZXZlbnQgaW5zdGFuY2VvZiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgIHBvaW50ZXJQb3NpdGlvbi54ID0gZXZlbnQuY2xpZW50WDtcclxuICAgICAgcG9pbnRlclBvc2l0aW9uLnkgPSBldmVudC5jbGllbnRZO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50KSB7XHJcbiAgICAgIHBvaW50ZXJQb3NpdGlvbi54ID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYO1xyXG4gICAgICBwb2ludGVyUG9zaXRpb24ueSA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYXdBdHRyYWN0b3JzKCkge1xyXG4gIGF0dHJhY3RvcnMuZm9yRWFjaCgoYXR0cmFjdG9yKSA9PiB7XHJcbiAgICBhdHRyYWN0b3IuYW5pbWF0ZSgpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gYW5pbWF0ZSgpIHtcclxuICB0aWNrKDAuNSAvIGZwcyAqIDYwKTtcclxuICBjbGVhckNhbnZhcygpO1xyXG4gIGRyYXdQYXJ0aWNsZXMoKTtcclxuICAvLyBkcmF3R3JpZCgpO1xyXG4gIC8vIGRyYXdBdHRyYWN0b3JzKCk7XHJcbiAgc3dpdGNoIChwb2ludGVyX2Z1bmN0aW9uKSB7XHJcbiAgICBjYXNlICdmaWVsZCc6XHJcbiAgICAgIGRyYXdMYXNzbygpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ2dyYXZpdHknOlxyXG4gICAgICBkcmF3QXJyb3coY2xpY2tfc3RhcnRfcG9zaXRpb24sIHBvaW50ZXJQb3NpdGlvbilcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICd0aHJvdyc6XHJcbiAgICAgIGRyYXdUYWlsKGNsaWNrX3N0YXJ0X3Bvc2l0aW9uLCBwb2ludGVyUG9zaXRpb24pXHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICB9XHJcblxyXG4gIGNvbnN0IG11bHQgPSBmcHMgKiAwLjAxNjY2NjtcclxuICBpZiAoaSAlIE1hdGguZmxvb3IoMiAqIG11bHQpID09IDAgJiYgcGFydGljbGVzLmxlbmd0aCA8IHBhcnRpY2xlQ291bnQgJiYgaSA+IDEyMCkge1xyXG4gICAgcGFydGljbGVzLnB1c2gobmV3IFBhcnRpY2xlKG5ldyBWZWMyRCgyMDAsIDIwMCksIDE1LCBuZXcgVmVjMkQoMjAwICogbXVsdCwgLTgwICogbXVsdCksIGdldFJhbmRvbUNvbG9yKCkpKTtcclxuICAgIHBhcnRpY2xlcy5wdXNoKG5ldyBQYXJ0aWNsZShuZXcgVmVjMkQoMjAwLCAyNjApLCAxNSwgbmV3IFZlYzJEKDE4MCAqIG11bHQsIC04MCAqIG11bHQpLCBnZXRSYW5kb21Db2xvcigpKSk7XHJcbiAgICBwYXJ0aWNsZXMucHVzaChuZXcgUGFydGljbGUobmV3IFZlYzJEKDIwMCwgMzIwKSwgMTUsIG5ldyBWZWMyRCgxNzAgKiBtdWx0LCAtODAgKiBtdWx0KSwgZ2V0UmFuZG9tQ29sb3IoKSkpO1xyXG4gICAgcGFydGljbGVzLnB1c2gobmV3IFBhcnRpY2xlKG5ldyBWZWMyRCgyMDAsIDM4MCksIDE1LCBuZXcgVmVjMkQoMTgwICogbXVsdCwgLTgwICogbXVsdCksIGdldFJhbmRvbUNvbG9yKCkpKTtcclxuICAgIHBhcnRpY2xlcy5wdXNoKG5ldyBQYXJ0aWNsZShuZXcgVmVjMkQoMjAwLCA0NDApLCAxNSwgbmV3IFZlYzJEKDE3MCAqIG11bHQsIC04MCAqIG11bHQpLCBnZXRSYW5kb21Db2xvcigpKSk7XHJcbiAgICBzZXRHZW9tZXRyeSgpO1xyXG4gIH1cclxuXHJcbiAgaSsrO1xyXG5cclxuXHJcbiAgZnJhbWVDb3VudCsrO1xyXG4gIGlmIChmcmFtZUNvdW50ICUgMTAgPT09IDApIHtcclxuICAgIGZwcyA9IGNhbGN1bGF0ZUZQUygpO1xyXG4gICAgZnBzQ291bnRlci5pbm5lclRleHQgPSBgRlBTOiAke2Zwc31gO1xyXG4gICAgcGFydGljbGVDb3VudGVyLmlubmVyVGV4dCA9IGBQYXJ0aWNsZXM6ICR7cGFydGljbGVzLmxlbmd0aH1gO1xyXG4gICAgY29sbGlzaW9uQ291bnRlci5pbm5lclRleHQgPSBgQ29sbGlzaW9uczogJHtudW1iZXJfb2ZfY29sbGlzaW9uc31gO1xyXG4gIH1cclxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XHJcbn1cclxuXHJcbmxldCBpID0gMDtcclxuY29uc3QgbWFpbl9ib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW5fY29udGFpbmVyJyk7XHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHVwZGF0ZUNhbnZhc1NpemUpO1xyXG5tYWluX2JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBoYW5kbGVNb3VzZURvd24pO1xyXG5tYWluX2JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgaGFuZGxlTW91c2VVcCk7XHJcbm1haW5fYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGhhbmRsZU1vdmVFdmVudCk7XHJcbm1haW5fYm9keS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBoYW5kbGVNb3VzZURvd24pO1xyXG5tYWluX2JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIGhhbmRsZU1vdXNlVXApO1xyXG5tYWluX2JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCBoYW5kbGVNb3ZlRXZlbnQpO1xyXG5tYWluX2JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gIGNsb3NlTWVudSgpO1xyXG59KTtcclxuaW5pdFBhcnRpY2xlU2hhZGVyKCk7XHJcbmluaXRpYWxpemVHcmlkKCk7XHJcbmRyYXdHcmlkKCk7XHJcblxyXG4vLyBjb25zdCBtdWx0ID0gZnBzICogMC4wMTY2NjY7XHJcbi8vIHBhcnRpY2xlcy5wdXNoKG5ldyBQYXJ0aWNsZShuZXcgVmVjMkQoMjAwLCAyMDApLCAxNSwgbmV3IFZlYzJEKDEwMCAqIG11bHQsIC0xNTAgKiBtdWx0KSwgZ2V0UmFuZG9tQ29sb3IoKSkpO1xyXG5cclxuLy8gYXR0cmFjdG9ycy5wdXNoKG5ldyBBdHRyYWN0b3IobmV3IFZlYzJEKDMwMCwgMzAwKSwgMjAwLCA0MDAsIHRydWUsICdibGFjaycpKVxyXG4vLyBhdHRyYWN0b3JzLnB1c2gobmV3IEF0dHJhY3RvcihuZXcgVmVjMkQoOTAwLCAzMDApLCAyODAsIDQwMCwgdHJ1ZSwgJ3BpbmsnKSlcclxucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxuX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL3NjcmlwdC50c1wiKTtcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL01lbnVNYW5hZ2VyLnRzXCIpO1xuIl0sIm5hbWVzIjpbImdsIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiLCJjb25zb2xlIiwiZXJyb3IiLCJlbmFibGUiLCJCTEVORCIsImJsZW5kRnVuYyIsIlNSQ19BTFBIQSIsIk9ORV9NSU5VU19TUkNfQUxQSEEiLCJ2ZXJ0ZXhTaGFkZXIiLCJjcmVhdGVTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwiZnJhZ21lbnRTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJwcm9ncmFtIiwiY3JlYXRlUHJvZ3JhbSIsInBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24iLCJnZXRBdHRyaWJMb2NhdGlvbiIsInJlc29sdXRpb25Vbmlmb3JtTG9jYXRpb24iLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJjb2xvclVuaWZvcm1Mb2NhdGlvbiIsInRyYW5zbGF0aW9uTG9jYXRpb24iLCJ1bmlmb3JtMmYiLCJjYW52YXMiLCJ3aWR0aCIsImhlaWdodCIsInBvc2l0aW9uQnVmZmVyIiwiY3JlYXRlQnVmZmVyIiwic2V0R2VvbWV0cnkiLCJwYXJ0aWNsZXMiLCJmb3JFYWNoIiwicGFydGljbGUiLCJ4IiwieSIsImJ1ZmZlckRhdGEiLCJBUlJBWV9CVUZGRVIiLCJGbG9hdDMyQXJyYXkiLCJTVEFUSUNfRFJBVyIsInNldFJlY3RhbmdsZSIsImRyYXdQYXJ0aWNsZXMiLCJyZXNpemVDYW52YXNUb0Rpc3BsYXlTaXplIiwidmlld3BvcnQiLCJjbGVhckNvbG9yIiwiY2xlYXIiLCJDT0xPUl9CVUZGRVJfQklUIiwidXNlUHJvZ3JhbSIsImVuYWJsZVZlcnRleEF0dHJpYkFycmF5IiwiYmluZEJ1ZmZlciIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJGTE9BVCIsInBvc19jdXJyIiwidW5pZm9ybTNmIiwiY29sb3IiLCJyIiwiZyIsImIiLCJkcmF3QXJyYXlzIiwiVFJJQU5HTEVTIiwiZHJhd0dyaWQiLCJiYWNrX2N0eCIsImNsZWFyUmVjdCIsImZvcmVncm91bmRfY2FudmFzIiwic3Ryb2tlU3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwiZG9jdW1lbnRFbGVtZW50IiwiZ2V0UHJvcGVydHlWYWx1ZSIsImxpbmVXaWR0aCIsImdyaWRTaXplIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwiZHJhd1RhaWwiLCJmcm9tIiwidG8iLCJjbGlja2VkIiwiZGlzdGFuY2UiLCJkaWZmZXJlbmNlIiwic3RhcnRQb3MiLCJ2ZWMiLCJwcmVkaWN0ZWREb3QiLCJpIiwiYWNjZWxlcmF0ZSIsImdyYXZpdHkiLCJhcHBseUNvbnN0cmFpbnQiLCJhcHBseUF0dHJhY3RvckZvcmNlcyIsInVwZGF0ZVBvc2l0aW9uIiwiZHJhd0RvdCIsImRyYXdQcmVkaWN0ZWRQYXRoIiwiY2xvbmUiLCJkaXZpZGUiLCJhbmdsZSIsIk1hdGgiLCJhdGFuMiIsIm5ld190byIsImNvcyIsInNpbiIsImRvdFgiLCJkb3RZIiwiZG90U2l6ZSIsIm9wYWNpdHkiLCJjdHgiLCJhcmMiLCJQSSIsImZpbGxTdHlsZSIsImZpbGwiLCJjbG9zZVBhdGgiLCJkcmF3TGFzc28iLCJwb2ludGVyUG9zaXRpb24iLCJmaWVsZFNpemUiLCJkcmF3QXJyb3ciLCJoZWFkbGVuIiwibWVudV9idXR0b24iLCJtZW51X2VsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsIm9wZW5NZW51IiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwic3R5bGUiLCJjdXJzb3IiLCJlbGVtZW50Iiwic2V0VGltZW91dCIsImRpc3BsYXkiLCJjbG9zZU1lbnUiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJxdWVyeVNlbGVjdG9yIiwibmV3VGhlbWUiLCJyb290RWxlbSIsImZpZWxkX3NpemVfc2xpZGVyIiwiZmllbGRfc3RyZW5ndGhfc2xpZGVyIiwiZ3Jhdml0eV9zdHJlbmd0aF9zbGlkZXIiLCJzdWJzdGVwc19hbW91bnRfZW50cnkiLCJwYXJ0aWNsZXNfYW1vdW50X2VudHJ5Iiwib3V0bGluZV9jaGVja2JveCIsImdldFBvaW50ZXJGdW5jdGlvbiIsInJhZGlvQnV0dG9ucyIsImdldEVsZW1lbnRzQnlOYW1lIiwibGVuZ3RoIiwiY2hlY2tlZCIsInZhbHVlIiwib25pbnB1dCIsInNldEZpZWxkU2l6ZSIsInBhcnNlSW50Iiwic2V0RmllbGRTdHJlbmd0aCIsInNldEdyYXZpdHlTdHJlbmd0aCIsInNldFN1YnN0ZXBzIiwic2V0UGFydGljbGVzTnVtIiwic2V0RHJhd091dGxpbmUiLCJwb3MiLCJyYWRpdXMiLCJhY2MiLCJ0aGlzIiwicG9zX3ByZXYiLCJhY2NlbGVyYXRpb24iLCJ1cGRhdGVDZWxsIiwiZmxvb3IiLCJkcmF3IiwiZHQiLCJ2ZWxvY2l0eSIsImFkZCIsIm11bHRpcGx5IiwiZ3JpZFBvcyIsImdyaWRDZWxsIiwiUGFydGljbGUiLCJ0eXBlIiwic291cmNlIiwic2hhZGVyIiwic2hhZGVyU291cmNlIiwiY29tcGlsZVNoYWRlciIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwibG9nIiwiZ2V0U2hhZGVySW5mb0xvZyIsImRlbGV0ZVNoYWRlciIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJkZWxldGVQcm9ncmFtIiwiZGlzcGxheVdpZHRoIiwiY2xpZW50V2lkdGgiLCJkaXNwbGF5SGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwibmVlZFJlc2l6ZSIsImluaXRQYXJ0aWNsZVNoYWRlciIsIm90aGVyIiwic3VidHJhY3QiLCJzY2FsYXIiLCJkb3QiLCJzcXJ0IiwiVmVjMkQiLCJncmlkIiwiYXR0cmFjdG9ycyIsInBhcnRpY2xlQ291bnQiLCJudW1iZXJfb2ZfY29sbGlzaW9ucyIsImNsaWNrX3N0YXJ0X3Bvc2l0aW9uIiwicG9pbnRlcl9mdW5jdGlvbiIsImJhY2tncm91bmRfY2FudmFzIiwid2ViZ2xfY2FudmFzIiwiZHJhd091dGxpbmUiLCJmaWVsZFN0cmVuZ3RoIiwic3Vic3RlcHNfYW1vdW50IiwiZ3JpZENvbHVtbnMiLCJjZWlsIiwiZ3JpZFJvd3MiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJmcHMiLCJmcHNDb3VudGVyIiwiY3JlYXRlRWxlbWVudCIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsInBhcnRpY2xlQ291bnRlciIsImNvbGxpc2lvbkNvdW50ZXIiLCJpbml0aWFsaXplR3JpZCIsImoiLCJ1cGRhdGVQb3NpdGlvbnMiLCJyZW1vdmVGcm9tR3JpZCIsImNvbHVtbiIsInJvdyIsInB1c2giLCJhZGRUb0dyaWQiLCJhcHBseUZpZWxkIiwiZmllbGRQb3MiLCJwdWxsRGlyZWN0aW9uIiwiYXR0cmFjdG9yIiwiZm9yY2UiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJmcmFtZUNvdW50IiwibGFzdFRpbWUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsImhhbmRsZU1vdXNlRG93biIsIk1vdXNlRXZlbnQiLCJjbGllbnRYIiwiY2xpZW50WSIsIlRvdWNoRXZlbnQiLCJ0b3VjaGVzIiwiaGFuZGxlTW91c2VVcCIsImxhdW5jaF9kaXIiLCJnZXRSYW5kb21Db2xvciIsInJhbmRvbSIsImhhbmRsZU1vdmVFdmVudCIsIm1haW5fYm9keSIsIndpbmRvdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImFuaW1hdGUiLCJzdWJfc3RlcHMiLCJzdWJfZHQiLCJwYXJ0aWNsZTEiLCJuZWlnaGJvcmluZ1BhcnRpY2xlcyIsImdldE5laWdoYm9yaW5nUGFydGljbGVzIiwicGFydGljbGUyIiwiY29sbGlzaW9uX2RpcmVjdGlvbiIsImRlbHRhIiwidGljayIsIm11bHQiLCJjdXJyZW50VGltZSIsInRpbWVEaWZmIiwicm91bmQiLCJjYWxjdWxhdGVGUFMiLCJpbm5lclRleHQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImQiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyJdLCJzb3VyY2VSb290IjoiIn0=