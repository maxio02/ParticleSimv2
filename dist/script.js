/*! For license information please see script.js.LICENSE.txt */
(()=>{"use strict";var t={"./src/CanvasManager.ts":(t,e,n)=>{n.r(e),n.d(e,{backgroundCanvas:()=>o,backgroundCanvasCtx:()=>c,clearCanvas:()=>u,foregroundCanvas:()=>r,foregroundCanvasCtx:()=>s,updateCanvasSize:()=>d});var i=n("./src/script.ts"),r=document.getElementById("foreground-canvas"),o=document.getElementById("background-canvas"),a=document.getElementById("webgl-canvas");r.width=r.getBoundingClientRect().width,r.height=r.getBoundingClientRect().height,o.width=o.getBoundingClientRect().width,o.height=o.getBoundingClientRect().height,a.width=a.getBoundingClientRect().width,a.height=a.getBoundingClientRect().height;var s=r.getContext("2d"),c=o.getContext("2d");function u(){s.clearRect(0,0,r.width,r.height)}function d(){r.width=r.getBoundingClientRect().width,r.height=r.getBoundingClientRect().height,o.width=o.getBoundingClientRect().width,o.height=o.getBoundingClientRect().height,a.width=a.getBoundingClientRect().width,a.height=a.getBoundingClientRect().height,i.grid.canvas=o,i.grid.updateSize(),i.grid.draw()}window.addEventListener("resize",d)},"./src/Config.ts":(t,e,n)=>{n.r(e),n.d(e,{getFieldSize:()=>p,getFieldStrength:()=>g,getGravityDirection:()=>h,getGridSize:()=>m,getParticleNumber:()=>v,getPhysicsSubstepsAmount:()=>f,getPointerFunction:()=>y,isGyroEnabled:()=>x,setFieldSize:()=>b,setFieldStrength:()=>P,setGravityDirection:()=>C,setIsGyroEnabled:()=>M,setParticleNumber:()=>S,setPhysicsSubstepsAmount:()=>w,setPointerFunction:()=>E});var i=n("./src/Vec2D.ts"),r=10,o=4,a=new i.default(0,1.3),s=100,c=200,u="field",d=26,l=!1;function h(){return a}function f(){return o}function g(){return r}function p(){return s}function v(){return c}function y(){return u}function m(){return d}function x(){return l}function C(t){a=t}function w(t){o=t}function P(t){r=t}function b(t){s=t}function S(t){c=t}function E(t){u=t}function M(t){l=t}},"./src/Grid.ts":(t,e,n)=>{n.r(e),n.d(e,{Grid:()=>r});var i=n("./src/Config.ts"),r=function(){function t(t,e){void 0===e&&(e=i.getGridSize()),this.pixelSize=e,this.canvas=t,this.columns=Math.ceil(this.canvas.width/this.pixelSize),this.rows=Math.ceil(this.canvas.height/this.pixelSize),this.cells=this.initialize(),this.canvasCtx=this.canvas.getContext("2d")}return t.prototype.initialize=function(){for(var t=[],e=0;e<this.columns;e++){t[e]=[];for(var n=0;n<this.rows;n++)t[e][n]=[]}return this.cells=t,t},t.prototype.removeAll=function(){for(var t=0;t<this.columns;t++)for(var e=0;e<this.rows&&null!=this.cells[t];e++)this.cells[t][e]=[]},t.prototype.put=function(t){var e=Math.floor(t.position.x/this.pixelSize),n=Math.floor(t.position.y/this.pixelSize);e>=0&&e<this.cells.length&&n>=0&&n<this.cells[e].length&&this.cells[e][n].push(t)},t.prototype.updateSize=function(){this.columns=Math.ceil(this.canvas.width/this.pixelSize),this.rows=Math.ceil(this.canvas.height/this.pixelSize),this.initialize()},t.prototype.draw=function(){this.canvasCtx.clearRect(0,0,this.canvas.width,this.canvas.height),this.canvasCtx.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--grid-color"),this.canvasCtx.lineWidth=1;for(var t=this.pixelSize;t<this.canvas.width;t+=this.pixelSize)this.canvasCtx.beginPath(),this.canvasCtx.moveTo(t,0),this.canvasCtx.lineTo(t,this.canvas.height),this.canvasCtx.stroke();for(var e=this.pixelSize;e<this.canvas.height;e+=this.pixelSize)this.canvasCtx.beginPath(),this.canvasCtx.moveTo(0,e),this.canvasCtx.lineTo(this.canvas.width,e),this.canvasCtx.stroke()},t}()},"./src/InputHandler.ts":(t,e,n)=>{n.r(e),n.d(e,{InputHandler:()=>u});var i=n("./src/Vec2D.ts"),r=n("./src/Config.ts"),o=n("./src/MenuManager.ts"),a=n("./src/script.ts"),s=n("./src/Utils.ts"),c=n("./src/Particle.ts"),u=function(){function t(){this.clicked=!1,this.pointerPosition=new i.default(0,0),this.clickStartPosition=new i.default(0,0),this.pointerFunction="field"}return t.getInstance=function(){return t.instance||(t.instance=new t,t.instance.initializeEventListeners()),t.instance},t.prototype.initializeEventListeners=function(){var t=document.getElementById("main_container");t&&(t.addEventListener("mousedown",this.handleMouseDown.bind(this)),t.addEventListener("mouseup",this.handleMouseUp.bind(this)),t.addEventListener("mousemove",this.handleMoveEvent.bind(this)),t.addEventListener("touchstart",this.handleMouseDown.bind(this)),t.addEventListener("touchend",this.handleMouseUp.bind(this)),t.addEventListener("touchmove",this.handleMoveEvent.bind(this)),t.addEventListener("click",(function(t){t.stopPropagation(),(0,o.closeMenu)()})))},t.prototype.handleMouseDown=function(t){t.stopPropagation(),this.clicked=!0,t instanceof MouseEvent?(this.pointerPosition.x=t.clientX,this.pointerPosition.y=t.clientY):t instanceof TouchEvent&&(this.pointerPosition.x=t.touches[0].clientX,this.pointerPosition.y=t.touches[0].clientY),this.clickStartPosition.x=this.pointerPosition.x,this.clickStartPosition.y=this.pointerPosition.y},t.prototype.handleMouseUp=function(t){if(t.stopPropagation(),this.clicked=!1,"throw"==r.getPointerFunction()){var e=this.clickStartPosition.clone().difference(this.pointerPosition).multiply(.1);a.particles.push(new c.default(this.clickStartPosition.clone(),r.getGridSize()/2,e,(0,s.getRandomColor)(),a.grid))}},t.prototype.handleMoveEvent=function(t){t.stopPropagation(),this.clicked&&(t instanceof MouseEvent?(this.pointerPosition.x=t.clientX,this.pointerPosition.y=t.clientY):t instanceof TouchEvent&&(this.pointerPosition.x=t.touches[0].clientX,this.pointerPosition.y=t.touches[0].clientY))},t}()},"./src/MenuManager.ts":(t,e,n)=>{n.r(e),n.d(e,{closeMenu:()=>u,openMenu:()=>c,setGravityStrength:()=>x,updatePointerFunction:()=>m});var i=n("./src/Config.ts"),r=n("./src/Vec2D.ts"),o=n("./src/script.ts"),a=document.getElementById("menu-button"),s=document.querySelectorAll(".menu-element");function c(){"false"==a.getAttribute("open")&&(a.setAttribute("open","true"),a.style.cursor="auto",s.forEach((function(t){setTimeout((function(){t.style.display="block"}),300)})))}function u(){a.setAttribute("open","false"),a.style.cursor="pointer",s.forEach((function(t){t.style.display="none"}))}a.addEventListener("click",(function(t){t.stopPropagation(),c()})),document.querySelector("#theme-switch").addEventListener("click",(function(){var t,e=document.documentElement;t="light"===e.getAttribute("theme")?"dark":"light",e.setAttribute("theme",t),o.grid.draw()}));var d=document.getElementById("field-size-slider"),l=document.getElementById("field-strength-slider"),h=document.getElementById("gravity-strength-slider"),f=document.getElementById("substeps-amount-entry"),g=document.getElementById("particles-amount-entry"),p=document.getElementById("gyro-toggle");function v(){p.checked?(i.setIsGyroEnabled(!0),window.addEventListener("devicemotion",y,!0)):(window.removeEventListener("devicemotion",y),i.setIsGyroEnabled(!1),i.setGravityDirection(new r.default(0,1.3)))}function y(t){i.isGyroEnabled()?i.setGravityDirection(new r.default(t.accelerationIncludingGravity.x/5,-t.accelerationIncludingGravity.y/5)):i.setGravityDirection(new r.default(0,1.3))}function m(){for(var t=document.getElementsByName("cursor-function"),e=0;e<t.length;e++)if(t[e].checked)return t[e].value}function x(t){i.setGravityDirection(new r.default(0,.1*t))}document.getElementsByName("cursor-function").forEach((function(t){t.addEventListener("change",(function(){t.checked&&i.setPointerFunction(t.value)}))})),d.oninput=function(){i.setFieldSize(parseInt(d.value))},l.oninput=function(){i.setFieldStrength(parseInt(l.value))},h.oninput=function(){x(parseInt(h.value))},f.addEventListener("change",(function(){i.setPhysicsSubstepsAmount(parseInt(f.value))})),p.oninput=function(){"undefined"!=typeof DeviceMotionEvent&&"function"==typeof DeviceMotionEvent.requestPermission?DeviceMotionEvent.requestPermission().then((function(t){"granted"==t&&v()})).catch(console.error):v()},g.addEventListener("change",(function(){i.setParticleNumber(parseInt(g.value));for(var t=o.particles.length-i.getParticleNumber();t>0;)o.particles.pop(),t--}))},"./src/Particle.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var i=n("./src/Vec2D.ts");const r=function(){function t(t,e,n,r,o){this.position=t,this.velocity=n,this.acceleration=new i.default(0,0),this.radius=e,this.color=r,this.grid=o,this.cell=new i.default(Math.floor(this.position.x/o.pixelSize),Math.floor(this.position.y/o.pixelSize))}return t.prototype.updatePosition=function(t){var e=this.velocity.add(this.acceleration.multiply(t)).clone();e.multiply(t),this.position.add(e),this.acceleration.x=0,this.acceleration.y=0,this.updateCell()},t.prototype.accelerate=function(t){this.acceleration.add(t)},t.prototype.getNeighboringParticles=function(){for(var t=[],e=this.cell.x-1;e<=this.cell.x+1;e++)for(var n=this.cell.y-1;n<=this.cell.y+1;n++)e>=0&&e<this.grid.columns&&n>=0&&n<this.grid.rows&&t.push.apply(t,this.grid.cells[e][n]);return t},t.prototype.updateCell=function(){this.cell=new i.default(Math.floor(this.position.x/this.grid.pixelSize),Math.floor(this.position.y/this.grid.pixelSize))},t.canvas=document.getElementById("foreground-canvas"),t}()},"./src/PhysicsEngine.ts":(t,e,n)=>{n.r(e),n.d(e,{applyAttractorForces:()=>y,applyAttractorForcesToAll:()=>g,applyConstraint:()=>v,tick:()=>p});var i=n("./src/CanvasManager.ts"),r=n("./src/Config.ts"),o=n("./src/InputHandler.ts"),a=n("./src/Vec2D.ts"),s=n("./src/script.ts"),c=o.InputHandler.getInstance(),u=0,d=0;function l(t){s.grid.removeAll(),s.particles.forEach((function(e){e.updatePosition(t),s.grid.put(e)}))}function h(t){s.particles.forEach((function(e){e.position.add(t)}))}function f(t){s.particles.forEach((function(e){var n=t.difference(e.position),i=n.length();i<r.getFieldSize()&&i>10&&(n.multiply(100*r.getFieldStrength()),n.divide(i*i),e.accelerate(n))}))}function g(){s.particles.forEach((function(t){y(t)}))}function p(t){for(var e=t/r.getPhysicsSubstepsAmount(),n=0;n<r.getPhysicsSubstepsAmount();n++){if(0!=r.getGravityDirection().y&&s.particles.forEach((function(t){t.accelerate(r.getGravityDirection())})),c.clicked)switch(r.getPointerFunction()){case"field":f(c.pointerPosition);break;case"gravity":r.setGravityDirection(c.pointerPosition.difference(c.clickStartPosition).divide(400))}var i=window.screenX-u,o=window.screenY-d,g=new a.default(-i,-o);0==i&&0==o||h(g),u=window.screenX,d=window.screenY,s.particles.forEach((function(t){v(t)})),m(),l(e)}}function v(t){t.position.y+t.radius>=i.foregroundCanvas.height&&(t.velocity=new a.default(.992*t.velocity.x,-Math.abs(.6*t.velocity.y)),t.position.y=i.foregroundCanvas.height-t.radius),t.position.y-t.radius<=0&&(t.position.y=t.radius,t.velocity=new a.default(t.velocity.x,Math.abs(.6*t.velocity.y))),t.position.x-t.radius<=0&&(t.position.x=t.radius,t.velocity=new a.default(Math.abs(.6*t.velocity.x),t.velocity.y)),t.position.x+t.radius>=i.foregroundCanvas.width&&(t.velocity=new a.default(-Math.abs(.6*t.velocity.x),t.velocity.y),t.position.x=i.foregroundCanvas.width-t.radius)}function y(t){s.attractors.forEach((function(e){var n=e.position.difference(t.position),i=n.length();i<e.radius&&i>10&&(n.multiply(e.force),n.divide(i*i),t.accelerate(n))}))}function m(){var t=new a.default(0,0),e=0,n=0;s.particles.forEach((function(i){i.getNeighboringParticles().forEach((function(r){if(i!==r&&(t.set(i.position).subtract(r.position),e=t.squaredLength(),n=i.radius+r.radius,e<n*n)){var o=Math.sqrt(e);t.divide(o);var s=n-o;t.multiply(.5*s),i.position.add(t),r.position.subtract(t),i.velocity.add(t).add(new a.default((1-2*Math.random())/1e3,(1-2*Math.random())/1e3)),r.velocity.subtract(t).add(new a.default((1-2*Math.random())/1e3,(1-2*Math.random())/1e3))}}))}))}new a.default(0,0)},"./src/Renderer.ts":(t,e,n)=>{n.r(e),n.d(e,{drawArrow:()=>R,drawCursorFunction:()=>T,drawDot:()=>A,drawDottedLine:()=>k,drawLasso:()=>F,drawParticles:()=>I,drawPredictedPath:()=>z,setGeometry:()=>_});var i=n("./src/Vec2D.ts"),r=n("./src/Config.ts"),o=n("./src/shaders/particleFragmentShader.frag"),a=n("./src/shaders/particleVertexShader.vert"),s=n("./src/ShaderHelper.ts"),c=n("./src/CanvasManager.ts"),u=n("./src/PhysicsEngine.ts"),d=n("./src/InputHandler.ts"),l=n("./src/script.ts"),h=n("./src/Particle.ts"),f=n("./src/UIManager.ts"),g=document.getElementById("webgl-canvas"),p=g.getContext("webgl");g.width=g.getBoundingClientRect().width,g.height=g.getBoundingClientRect().height;var v=d.InputHandler.getInstance();p||console.error("Unable to initialize WebGL. Your browser may not support it."),p.enable(p.BLEND),p.blendFunc(p.SRC_ALPHA,p.ONE_MINUS_SRC_ALPHA);var y=(0,s.createShader)(p,p.VERTEX_SHADER,a),m=(0,s.createShader)(p,p.FRAGMENT_SHADER,o),x=(0,s.createProgram)(p,y,m),C=p.getAttribLocation(x,"a_position"),w=p.getUniformLocation(x,"u_resolution"),P=p.getUniformLocation(x,"u_color"),b=p.getUniformLocation(x,"u_translation"),S=p.getUniformLocation(x,"u_radius"),E=p.getUniformLocation(x,"u_outline_black"),M=p.createBuffer();function _(){l.particles.forEach((function(t){!function(t,e,n,i,r){var o=0-i/2,a=0+i/2,s=0-r/2,c=0+r/2;t.bufferData(t.ARRAY_BUFFER,new Float32Array([o,s,a,s,o,c,o,c,a,s,a,c]),t.STATIC_DRAW)}(p,0,0,r.getGridSize(),r.getGridSize())}))}function I(){(0,s.resizeCanvasToDisplaySize)(p.canvas),p.viewport(0,0,p.canvas.width,p.canvas.height),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),p.useProgram(x),p.enableVertexAttribArray(C),p.bindBuffer(p.ARRAY_BUFFER,M),p.vertexAttribPointer(C,2,p.FLOAT,!1,0,0);var t=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--is-outline-dark")),e=[p.canvas.width,p.canvas.height];l.particles.forEach((function(n){p.uniform2fv(w,e),p.uniform2f(b,n.position.x,n.position.y),p.uniform3f(P,n.color.r,n.color.g,n.color.b),p.uniform1f(S,n.radius),p.uniform1f(E,t),p.drawArrays(p.TRIANGLES,0,6)}))}function k(t,e,n,r){if(void 0===n&&(n=5),void 0===r&&(r=8),v.clicked&&t.x!=e.x&&t.y!=e.y){var o=t.difference(e);z(t.clone(),o.clone().multiply(.1)),o.divide(r);var a=Math.atan2(e.y-t.y,e.x-t.x),s=new i.default(e.x,e.y);s.x-=Math.cos(a),s.y-=Math.sin(a);for(var c=0;c<=r;c++)A(t.x-o.x*c,t.y-o.y*c,n,255)}}function z(t,e){for(var n=new h.default(t,r.getGridSize()/2,e,{r:0,g:0,b:0},l.grid),i=1;i<=127;i++)n.accelerate(r.getGravityDirection()),(0,u.applyConstraint)(n),(0,u.applyAttractorForces)(n),n.updatePosition((0,f.getAverageFrameTime)()/20),i%3==0&&A(n.position.x,n.position.y,5,255-2*i)}function A(t,e,n,i){c.foregroundCanvasCtx.beginPath(),c.foregroundCanvasCtx.arc(t,e,n,0,2*Math.PI,!1),c.foregroundCanvasCtx.fillStyle="rgba(210, 210, 210, ".concat(i/255,")"),c.foregroundCanvasCtx.fill(),c.foregroundCanvasCtx.closePath()}function F(t){void 0===t&&(t=3),v.clicked&&(c.foregroundCanvasCtx.beginPath(),c.foregroundCanvasCtx.arc(v.pointerPosition.x,v.pointerPosition.y,r.getFieldSize(),0,2*Math.PI),c.foregroundCanvasCtx.lineWidth=t,c.foregroundCanvasCtx.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--grid-color"),c.foregroundCanvasCtx.stroke(),c.foregroundCanvasCtx.closePath())}function R(t,e){if(v.clicked&&t.x!=e.x&&t.y!=e.y){var n=Math.atan2(e.y-t.y,e.x-t.x),r=10,o=new i.default(e.x,e.y);o.x-=11.5*Math.cos(n),o.y-=11.5*Math.sin(n),c.foregroundCanvasCtx.beginPath(),c.foregroundCanvasCtx.moveTo(t.x,t.y),c.foregroundCanvasCtx.lineTo(o.x,o.y),c.foregroundCanvasCtx.strokeStyle="#bbbbbb",c.foregroundCanvasCtx.lineWidth=10,c.foregroundCanvasCtx.stroke(),c.foregroundCanvasCtx.beginPath(),c.foregroundCanvasCtx.moveTo(o.x,o.y),c.foregroundCanvasCtx.lineTo(o.x-r*Math.cos(n-Math.PI/7),o.y-r*Math.sin(n-Math.PI/7)),c.foregroundCanvasCtx.lineTo(o.x-r*Math.cos(n+Math.PI/7),o.y-r*Math.sin(n+Math.PI/7)),c.foregroundCanvasCtx.lineTo(o.x,o.y),c.foregroundCanvasCtx.lineTo(o.x-r*Math.cos(n-Math.PI/7),o.y-r*Math.sin(n-Math.PI/7)),c.foregroundCanvasCtx.strokeStyle="#bbbbbb",c.foregroundCanvasCtx.lineWidth=10,c.foregroundCanvasCtx.stroke(),c.foregroundCanvasCtx.fillStyle="#bbbbbb",c.foregroundCanvasCtx.fill(),c.foregroundCanvasCtx.closePath()}}function T(){if(v.clicked)switch(r.getPointerFunction()){case"field":F();break;case"gravity":R(v.clickStartPosition,v.pointerPosition);break;case"throw":k(v.clickStartPosition,v.pointerPosition)}}p.bindBuffer(p.ARRAY_BUFFER,M)},"./src/ShaderHelper.ts":(t,e,n)=>{function i(t,e,n){var i=t.createShader(e);if(t.shaderSource(i,n),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS))return i;console.log(t.getShaderInfoLog(i)),t.deleteShader(i)}function r(t,e,n){var i=t.createProgram();if(t.attachShader(i,e),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS))return i;console.log(t.getProgramInfoLog(i)),t.deleteProgram(i)}function o(t){var e=t.clientWidth,n=t.clientHeight,i=t.width!==e||t.height!==n;return i&&(t.width=e,t.height=n),i}n.r(e),n.d(e,{createProgram:()=>r,createShader:()=>i,resizeCanvasToDisplaySize:()=>o})},"./src/UIManager.ts":(t,e,n)=>{n.r(e),n.d(e,{fps:()=>r,frameTimes:()=>o,getAverageFrameTime:()=>u,updateUI:()=>c});var i=document.createElement("div");i.style.position="absolute",i.style.top="10px",i.style.left="10px",document.body.appendChild(i);var r=60,o=[],a=100,s=performance.now();function c(){var t=function(){var t=performance.now(),e=t-s;o.push(e),o.length>a&&o.shift();var n=o.reduce((function(t,e){return t+e}),0)/o.length;return s=t,1e3/n}();i.innerText="FPS: ".concat(Math.round(t))}function u(){return o.reduce((function(t,e){return t+e}),0)/o.length}},"./src/Utils.ts":(t,e,n)=>{function i(){return{r:Math.random(),g:Math.random(),b:Math.random()}}n.r(e),n.d(e,{getRandomColor:()=>i})},"./src/Vec2D.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});const i=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.set=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.multiply=function(t){return this.x*=t,this.y*=t,this},t.prototype.divide=function(t){return this.x/=t,this.y/=t,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.squaredLength=function(){return this.x*this.x+this.y*this.y},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.difference=function(e){return new t(this.x-e.x,this.y-e.y)},t.prototype.squaredDistanceTo=function(t){return Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2)},t}()},"./src/script.ts":(t,e,n)=>{n.r(e),n.d(e,{attractors:()=>f,grid:()=>p,particles:()=>h});var i=n("./src/Renderer.ts"),r=n("./src/Particle.ts"),o=n("./src/Vec2D.ts"),a=n("./src/UIManager.ts"),s=n("./src/CanvasManager.ts"),c=n("./src/PhysicsEngine.ts"),u=n("./src/Config.ts"),d=n("./src/Grid.ts"),l=n("./src/Utils.ts"),h=[],f=[],g=0,p=new d.Grid(s.backgroundCanvas);p.draw(),requestAnimationFrame((function t(){var e=(0,a.getAverageFrameTime)();(0,c.tick)(e/20),(0,s.clearCanvas)(),(0,i.drawParticles)(),(0,i.drawCursorFunction)(),(0,a.updateUI)(),g%3==0&&h.length<u.getParticleNumber()&&g>120&&(h.push(new r.default(new o.default(200,200),p.pixelSize/2,new o.default(27,-12),(0,l.getRandomColor)(),p)),h.push(new r.default(new o.default(200,260),p.pixelSize/2,new o.default(29,-12),(0,l.getRandomColor)(),p)),h.push(new r.default(new o.default(200,320),p.pixelSize/2,new o.default(24,-12),(0,l.getRandomColor)(),p)),h.push(new r.default(new o.default(200,380),p.pixelSize/2,new o.default(25,-12),(0,l.getRandomColor)(),p)),h.push(new r.default(new o.default(200,440),p.pixelSize/2,new o.default(24,-12),(0,l.getRandomColor)(),p)),(0,i.setGeometry)()),g++,requestAnimationFrame(t)}))},"./src/shaders/particleFragmentShader.frag":t=>{t.exports="precision mediump float;\r\n\r\nuniform vec2 u_resolution;\r\n\r\nuniform vec3 u_color;\r\nuniform float u_radius;\r\nuniform vec2 u_translation;\r\nuniform float u_outline_black;\r\nfloat mask(in vec2 _st, in float _radius){\r\n    vec2 dist = _st;\r\n    return 1.-smoothstep(_radius-(_radius*0.15),\r\n                         _radius+(_radius*0.15),\r\n                         dot(dist,dist)*3.9);\r\n}\r\n\r\n\r\nvec3 circle(in vec2 _st, in float radius, in vec3 color) {\r\n\tvec2 dist = _st;\r\n\treturn smoothstep(\r\n\t\tradius + (radius * 0.15),\r\n\t\tradius -(radius * 0.15),\r\n\t\tdot(dist, dist) * 3.9) * color + u_outline_black * (smoothstep(\r\n\t\tradius - (radius * 0.15),\r\n\t\tradius +(radius * 0.15),\r\n\t\tdot(dist, dist) * 5.3));\r\n}\r\nvoid main(){\r\n \tvec2 st =  (gl_FragCoord.xy - u_translation*vec2(1., -1.) - u_resolution*vec2(0.,1.)) / u_radius; \r\n\r\n\tvec3 color = circle(st,4.0, u_color);\r\n\r\n\tgl_FragColor = vec4(color, mask(st, 4.0));\r\n}"},"./src/shaders/particleVertexShader.vert":t=>{t.exports="precision mediump float;\r\n\r\nattribute vec2 a_position;\r\n\r\n// attribute vec3 color;\r\n// varying vec3 v_color;\r\nuniform vec2 u_resolution;\r\nuniform vec2 u_translation;\r\n\r\nvoid main() {\r\n    //move the position of the shader\r\n    vec2 position = a_position + u_translation ;\r\n\r\n    // convert the position from pixels to 0.0 to 1.0\r\n    vec2 zeroToOne = position / u_resolution;\r\n\r\n    // convert from 0->1 to 0->2\r\n    vec2 zeroToTwo = zeroToOne * 2.0;\r\n\r\n    // convert from 0->2 to -1->+1 (clipspace)\r\n    vec2 clipSpace = zeroToTwo - 1.0;\r\n\r\n    gl_Position = vec4(clipSpace * vec2(1., -1.), 0, 1);\r\n\r\n    // // Pass the vertex color to the fragment shader.\r\n    // v_position = a_position;\r\n}"}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n("./src/script.ts"),n("./src/MenuManager.ts")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBSyxJQUFJLFVBQVMsSUFBSSxVQUFNLElBQUssS0FBTTFELEVBQUtzQyxVQUFVLEVBQUcsSUFBSSxVQUFNLElBQUssS0FBTSxJQUFBdUQsa0JBQWtCN0YsS0FDMUcsSUFBQW9OLGdCQUVGOEcsSUFDQUUsc0JBQXNCQyxFQUN4QixvMERDckNJRSxFQUEyQixDQUFDLEVBR2hDLFNBQVNDLEVBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCxFQUF5QkUsR0FDNUMsUUFBcUJFLElBQWpCRCxFQUNILE9BQU9BLEVBQWFFLFFBR3JCLElBQUlDLEVBQVNOLEVBQXlCRSxHQUFZLENBR2pERyxRQUFTLENBQUMsR0FPWCxPQUhBRSxFQUFvQkwsR0FBVUksRUFBUUEsRUFBT0QsUUFBU0osR0FHL0NLLEVBQU9ELE9BQ2YsQ0NyQkFKLEVBQW9CTyxFQUFJLENBQUNILEVBQVNJLEtBQ2pDLElBQUksSUFBSUMsS0FBT0QsRUFDWFIsRUFBb0JVLEVBQUVGLEVBQVlDLEtBQVNULEVBQW9CVSxFQUFFTixFQUFTSyxJQUM1RUUsT0FBT0MsZUFBZVIsRUFBU0ssRUFBSyxDQUFFSSxZQUFZLEVBQU1DLElBQUtOLEVBQVdDLElBRTFFLEVDTkRULEVBQW9CVSxFQUFJLENBQUNLLEVBQUtDLElBQVVMLE9BQU9NLFVBQVVDLGVBQWVDLEtBQUtKLEVBQUtDLEdDQ2xGaEIsRUFBb0J6RixFQUFLNkYsSUFDSCxvQkFBWGdCLFFBQTBCQSxPQUFPQyxhQUMxQ1YsT0FBT0MsZUFBZVIsRUFBU2dCLE9BQU9DLFlBQWEsQ0FBRWxPLE1BQU8sV0FFN0R3TixPQUFPQyxlQUFlUixFQUFTLGFBQWMsQ0FBRWpOLE9BQU8sR0FBTyxFQ0Y5RDZNLEVBQW9CLG1CQUNNQSxFQUFvQiIsInNvdXJjZXMiOlsid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvQ2FudmFzTWFuYWdlci50cyIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyLy4vc3JjL0NvbmZpZy50cyIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyLy4vc3JjL0dyaWQudHMiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi8uL3NyYy9JbnB1dEhhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi8uL3NyYy9NZW51TWFuYWdlci50cyIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyLy4vc3JjL1BhcnRpY2xlLnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvUGh5c2ljc0VuZ2luZS50cyIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyLy4vc3JjL1JlbmRlcmVyLnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvU2hhZGVySGVscGVyLnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvVUlNYW5hZ2VyLnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvVXRpbHMudHMiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi8uL3NyYy9WZWMyRC50cyIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyLy4vc3JjL3NjcmlwdC50cyIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ3JpZCB9IGZyb20gXCIuL3NjcmlwdFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGZvcmVncm91bmRDYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9yZWdyb3VuZC1jYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuZXhwb3J0IGNvbnN0IGJhY2tncm91bmRDYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFja2dyb3VuZC1jYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuY29uc3Qgd2ViZ2xDYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2ViZ2wtY2FudmFzJykgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcblxyXG5mb3JlZ3JvdW5kQ2FudmFzIS53aWR0aCA9IGZvcmVncm91bmRDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbmZvcmVncm91bmRDYW52YXMhLmhlaWdodCA9IGZvcmVncm91bmRDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG5iYWNrZ3JvdW5kQ2FudmFzIS53aWR0aCA9IGJhY2tncm91bmRDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbmJhY2tncm91bmRDYW52YXMhLmhlaWdodCA9IGJhY2tncm91bmRDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG53ZWJnbENhbnZhcy53aWR0aCA9IHdlYmdsQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG53ZWJnbENhbnZhcy5oZWlnaHQgPSB3ZWJnbENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbmV4cG9ydCBjb25zdCBmb3JlZ3JvdW5kQ2FudmFzQ3R4ID0gZm9yZWdyb3VuZENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5leHBvcnQgY29uc3QgYmFja2dyb3VuZENhbnZhc0N0eCA9IGJhY2tncm91bmRDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB1cGRhdGVDYW52YXNTaXplKTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGVhckNhbnZhcygpIHtcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHguY2xlYXJSZWN0KDAsIDAsIGZvcmVncm91bmRDYW52YXMud2lkdGgsIGZvcmVncm91bmRDYW52YXMuaGVpZ2h0KTtcclxuICB9XHJcbiAgXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVDYW52YXNTaXplKCkge1xyXG4gICAgZm9yZWdyb3VuZENhbnZhcy53aWR0aCA9IGZvcmVncm91bmRDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzLmhlaWdodCA9IGZvcmVncm91bmRDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgYmFja2dyb3VuZENhbnZhcy53aWR0aCA9IGJhY2tncm91bmRDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgICBiYWNrZ3JvdW5kQ2FudmFzLmhlaWdodCA9IGJhY2tncm91bmRDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgd2ViZ2xDYW52YXMud2lkdGggPSB3ZWJnbENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgIHdlYmdsQ2FudmFzLmhlaWdodCA9IHdlYmdsQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgIGdyaWQuY2FudmFzID0gYmFja2dyb3VuZENhbnZhcztcclxuICAgIGdyaWQudXBkYXRlU2l6ZSgpO1xyXG4gICAgZ3JpZC5kcmF3KCk7XHJcbiAgfVxyXG4gICIsImltcG9ydCB7IFBvaW50ZXJGdW5jdGlvblR5cGUgfSBmcm9tIFwiLi9JbnB1dEhhbmRsZXJcIjtcclxuaW1wb3J0IFZlYzJEIGZyb20gXCIuL1ZlYzJEXCI7XHJcblxyXG52YXIgZmllbGRTdHJlbmd0aCA9IDEwO1xyXG52YXIgcGh5c2ljc1N1YnN0ZXBzQW1vdW50ID0gNDtcclxudmFyIGdyYXZpdHlEaXJlY3Rpb24gPSBuZXcgVmVjMkQoMCwgMS4zKTtcclxudmFyIGZpZWxkU2l6ZSA9IDEwMDtcclxudmFyIHBhcnRpY2xlTnVtYmVyID0gMjAwO1xyXG52YXIgcG9pbnRlckZ1bmN0aW9uOiBQb2ludGVyRnVuY3Rpb25UeXBlID0gJ2ZpZWxkJztcclxudmFyIGdyaWRTaXplID0gMjY7XHJcbnZhciBneXJvRW5hYmxlZCA9IGZhbHNlO1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0R3Jhdml0eURpcmVjdGlvbigpIHtcclxuICAgIHJldHVybiBncmF2aXR5RGlyZWN0aW9uO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGh5c2ljc1N1YnN0ZXBzQW1vdW50KCkge1xyXG4gICAgcmV0dXJuIHBoeXNpY3NTdWJzdGVwc0Ftb3VudDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpZWxkU3RyZW5ndGgoKSB7XHJcbiAgICByZXR1cm4gZmllbGRTdHJlbmd0aDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpZWxkU2l6ZSgpIHtcclxuICAgIHJldHVybiBmaWVsZFNpemU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXJ0aWNsZU51bWJlcigpIHtcclxuICAgIHJldHVybiBwYXJ0aWNsZU51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvaW50ZXJGdW5jdGlvbigpIHtcclxuICAgIHJldHVybiBwb2ludGVyRnVuY3Rpb247XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRHcmlkU2l6ZSgpIHtcclxuICAgIHJldHVybiBncmlkU2l6ZTsgICAgXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0d5cm9FbmFibGVkKCkge1xyXG4gICAgcmV0dXJuIGd5cm9FbmFibGVkO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0R3Jhdml0eURpcmVjdGlvbihuZXdHcmF2aXR5RGlyZWN0aW9uOiBWZWMyRCkge1xyXG4gICAgZ3Jhdml0eURpcmVjdGlvbiA9IG5ld0dyYXZpdHlEaXJlY3Rpb247XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRQaHlzaWNzU3Vic3RlcHNBbW91bnQobmV3QW1vdW50OiBudW1iZXIpIHtcclxuICAgIHBoeXNpY3NTdWJzdGVwc0Ftb3VudCA9IG5ld0Ftb3VudDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEZpZWxkU3RyZW5ndGgobmV3ZmllbGRTdHJlbmd0aDogbnVtYmVyKSB7XHJcbiAgICBmaWVsZFN0cmVuZ3RoID0gbmV3ZmllbGRTdHJlbmd0aDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEZpZWxkU2l6ZShuZXdmaWVsZFNpemU6IG51bWJlcikge1xyXG4gICAgZmllbGRTaXplID0gbmV3ZmllbGRTaXplO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0UGFydGljbGVOdW1iZXIobmV3UGFydGljbGVOdW1iZXI6IG51bWJlcikge1xyXG4gICAgcGFydGljbGVOdW1iZXIgPSBuZXdQYXJ0aWNsZU51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldFBvaW50ZXJGdW5jdGlvbihuZXdQb2ludGVyRnVuY3Rpb246IFBvaW50ZXJGdW5jdGlvblR5cGUpIHtcclxuICAgIHBvaW50ZXJGdW5jdGlvbiA9IG5ld1BvaW50ZXJGdW5jdGlvbjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldElzR3lyb0VuYWJsZWQobmV3SXNHeXJvRW5hYmxlZDogYm9vbGVhbikge1xyXG4gICAgZ3lyb0VuYWJsZWQgPSBuZXdJc0d5cm9FbmFibGVkO1xyXG59IiwiaW1wb3J0IHsgYmFja2dyb3VuZENhbnZhc0N0eCB9IGZyb20gXCIuL0NhbnZhc01hbmFnZXJcIjtcclxuaW1wb3J0IFBhcnRpY2xlIGZyb20gXCIuL1BhcnRpY2xlXCI7XHJcbmltcG9ydCB7IGdyaWQgfSBmcm9tIFwiLi9zY3JpcHRcIjtcclxuaW1wb3J0ICogYXMgQ29uZmlnIGZyb20gJy4vQ29uZmlnJztcclxuZXhwb3J0IGNsYXNzIEdyaWQge1xyXG4gICAgcHVibGljIGNlbGxzOiBQYXJ0aWNsZVtdW11bXTtcclxuICAgIHB1YmxpYyBjb2x1bW5zOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcm93czogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHBpeGVsU2l6ZTogbnVtYmVyO1xyXG4gICAgcHVibGljIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGNhbnZhc0N0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gICAgY29uc3RydWN0b3IoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgZ3JpZFBpeGVsU2l6ZTogbnVtYmVyID0gQ29uZmlnLmdldEdyaWRTaXplKCkpIHtcclxuICAgICAgICB0aGlzLnBpeGVsU2l6ZSA9IGdyaWRQaXhlbFNpemU7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICAgICAgdGhpcy5jb2x1bW5zID0gTWF0aC5jZWlsKHRoaXMuY2FudmFzLndpZHRoIC8gdGhpcy5waXhlbFNpemUpO1xyXG4gICAgICAgIHRoaXMucm93cyA9IE1hdGguY2VpbCh0aGlzLmNhbnZhcy5oZWlnaHQgLyB0aGlzLnBpeGVsU2l6ZSk7XHJcbiAgICAgICAgdGhpcy5jZWxscyA9IHRoaXMuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIHRoaXMuY2FudmFzQ3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaW5pdGlhbGl6ZSgpOiBQYXJ0aWNsZVtdW11bXSB7XHJcbiAgICAgICAgY29uc3QgY2VsbHM6IFBhcnRpY2xlW11bXVtdID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbHVtbnM7IGkrKykge1xyXG4gICAgICAgICAgICBjZWxsc1tpXSA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMucm93czsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBjZWxsc1tpXVtqXSA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2VsbHMgID0gY2VsbHM7XHJcbiAgICAgICAgcmV0dXJuIGNlbGxzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVBbGwoKTogdm9pZCB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbHVtbnM7IGkrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMucm93czsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmNlbGxzW2ldPT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNlbGxzW2ldW2pdID0gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHB1dChwYXJ0aWNsZTogUGFydGljbGUpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBjb2x1bW4gPSBNYXRoLmZsb29yKHBhcnRpY2xlLnBvc2l0aW9uLnggLyB0aGlzLnBpeGVsU2l6ZSk7XHJcbiAgICAgICAgY29uc3Qgcm93ID0gTWF0aC5mbG9vcihwYXJ0aWNsZS5wb3NpdGlvbi55IC8gdGhpcy5waXhlbFNpemUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChjb2x1bW4gPj0gMCAmJiBjb2x1bW4gPCB0aGlzLmNlbGxzLmxlbmd0aCAmJiByb3cgPj0gMCAmJiByb3cgPCB0aGlzLmNlbGxzW2NvbHVtbl0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2VsbHNbY29sdW1uXVtyb3ddLnB1c2gocGFydGljbGUpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgJHtjb2x1bW59ICAgJHtyb3d9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVTaXplKCk6dm9pZCB7XHJcbiAgICAgICAgdGhpcy5jb2x1bW5zID0gTWF0aC5jZWlsKHRoaXMuY2FudmFzLndpZHRoIC8gdGhpcy5waXhlbFNpemUpO1xyXG4gICAgICAgIHRoaXMucm93cyA9IE1hdGguY2VpbCh0aGlzLmNhbnZhcy5oZWlnaHQgLyB0aGlzLnBpeGVsU2l6ZSk7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcoKXtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5zdHJva2VTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKCctLWdyaWQtY29sb3InKTtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXNDdHgubGluZVdpZHRoID0gMTtcclxuICAgICAgICAgICAgZm9yIChsZXQgeCA9IHRoaXMucGl4ZWxTaXplOyB4IDwgdGhpcy5jYW52YXMud2lkdGg7IHggKz0gdGhpcy5waXhlbFNpemUpIHtcclxuICAgICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5tb3ZlVG8oeCwgMCk7XHJcbiAgICAgICAgICAgICAgdGhpcy5jYW52YXNDdHgubGluZVRvKHgsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgeSA9IHRoaXMucGl4ZWxTaXplOyB5IDwgdGhpcy5jYW52YXMuaGVpZ2h0OyB5ICs9IHRoaXMucGl4ZWxTaXplKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgdGhpcy5jYW52YXNDdHgubW92ZVRvKDAsIHkpO1xyXG4gICAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LmxpbmVUbyh0aGlzLmNhbnZhcy53aWR0aCwgeSk7XHJcbiAgICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gREVCVUdcclxuICAgICAgICAgICAgLy8gICBmb3IgKGxldCB4ID0gMDsgeCA8IGdyaWQuY29sdW1uczsgeCArPSAxKSB7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gICBmb3IgKGxldCB5ID0gMDsgeSA8IGdyaWQucm93czsgeSArPSAxKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4LmZvbnQgPSBcIjEycHggc2VyaWZcIjtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyAgICAgYmFja2dyb3VuZENhbnZhc0N0eC5maWxsVGV4dChgJHtncmlkLmNlbGxzW3hdW3ldLmxlbmd0aH1gLCAoeCsxKSp0aGlzLnBpeGVsU2l6ZSAtIHRoaXMucGl4ZWxTaXplLzIgLSAyLCAoeSsxKSp0aGlzLnBpeGVsU2l6ZSAtdGhpcy5waXhlbFNpemUvMiArIDQpO1xyXG4gICAgICAgICAgICAgICAgLy8gYmFja19jdHguZmlsbFRleHQoYCR7eH0gJHt5fWAsICh4KzEpKnRoaXMucGl4ZWxTaXplIC0gdGhpcy5waXhlbFNpemUvMiAtIDIsICh5KzEpKnRoaXMucGl4ZWxTaXplIC10aGlzLnBpeGVsU2l6ZS8yICsgNCk7XHJcbiAgICAgICAgICAgIC8vICAgfVxyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICB9XHJcbiAgICB9IiwiaW1wb3J0IFZlYzJEIGZyb20gXCIuL1ZlYzJEXCI7XHJcbmltcG9ydCAqIGFzIENvbmZpZyBmcm9tICcuL0NvbmZpZyc7XHJcbmltcG9ydCB7IGNsb3NlTWVudSwgdXBkYXRlUG9pbnRlckZ1bmN0aW9uIH0gZnJvbSBcIi4vTWVudU1hbmFnZXJcIjtcclxuaW1wb3J0IHsgZnBzIH0gZnJvbSBcIi4vVUlNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IGdyaWQsIHBhcnRpY2xlcyB9IGZyb20gXCIuL3NjcmlwdFwiO1xyXG5pbXBvcnQgeyBnZXRSYW5kb21Db2xvciB9IGZyb20gXCIuL1V0aWxzXCI7XHJcbmltcG9ydCBQYXJ0aWNsZSBmcm9tIFwiLi9QYXJ0aWNsZVwiO1xyXG5leHBvcnQgdHlwZSBQb2ludGVyRnVuY3Rpb25UeXBlID0gJ2ZpZWxkJyB8ICdncmF2aXR5JyB8ICd0aHJvdyc7XHJcblxyXG5leHBvcnQgY2xhc3MgSW5wdXRIYW5kbGVyIHtcclxuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogSW5wdXRIYW5kbGVyO1xyXG4gIHB1YmxpYyBjbGlja2VkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHJpdmF0ZSBwb2ludGVyRnVuY3Rpb246IFBvaW50ZXJGdW5jdGlvblR5cGU7XHJcbiAgcHVibGljIHBvaW50ZXJQb3NpdGlvbiA9IG5ldyBWZWMyRCgwLCAwKVxyXG4gIHB1YmxpYyBjbGlja1N0YXJ0UG9zaXRpb24gPSBuZXcgVmVjMkQoMCwgMClcclxuXHJcblxyXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLnBvaW50ZXJGdW5jdGlvbiA9ICdmaWVsZCc7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IElucHV0SGFuZGxlciB7XHJcbiAgICBpZiAoIUlucHV0SGFuZGxlci5pbnN0YW5jZSkge1xyXG4gICAgICBJbnB1dEhhbmRsZXIuaW5zdGFuY2UgPSBuZXcgSW5wdXRIYW5kbGVyKCk7XHJcbiAgICAgIElucHV0SGFuZGxlci5pbnN0YW5jZS5pbml0aWFsaXplRXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBJbnB1dEhhbmRsZXIuaW5zdGFuY2U7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGluaXRpYWxpemVFdmVudExpc3RlbmVycygpOiB2b2lkIHtcclxuICAgIGNvbnN0IG1haW5fYm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluX2NvbnRhaW5lcicpO1xyXG4gICAgaWYgKCFtYWluX2JvZHkpIHJldHVybjtcclxuXHJcbiAgICBtYWluX2JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLmhhbmRsZU1vdXNlRG93bi5iaW5kKHRoaXMpKTtcclxuICAgIG1haW5fYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLmhhbmRsZU1vdXNlVXAuYmluZCh0aGlzKSk7XHJcbiAgICBtYWluX2JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLmhhbmRsZU1vdmVFdmVudC5iaW5kKHRoaXMpKTtcclxuICAgIG1haW5fYm9keS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0aGlzLmhhbmRsZU1vdXNlRG93bi5iaW5kKHRoaXMpKTtcclxuICAgIG1haW5fYm9keS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgdGhpcy5oYW5kbGVNb3VzZVVwLmJpbmQodGhpcykpO1xyXG4gICAgbWFpbl9ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgdGhpcy5oYW5kbGVNb3ZlRXZlbnQuYmluZCh0aGlzKSk7XHJcbiAgICBtYWluX2JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgY2xvc2VNZW51KCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlTW91c2VEb3duKGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCk6IHZvaWQge1xyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB0aGlzLmNsaWNrZWQgPSB0cnVlO1xyXG4gICAgXHJcblxyXG4gICAgaWYgKGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCkge1xyXG4gICAgICB0aGlzLnBvaW50ZXJQb3NpdGlvbi54ID0gZXZlbnQuY2xpZW50WDtcclxuICAgICAgdGhpcy5wb2ludGVyUG9zaXRpb24ueSA9IGV2ZW50LmNsaWVudFk7XHJcbiAgICB9IGVsc2UgaWYgKGV2ZW50IGluc3RhbmNlb2YgVG91Y2hFdmVudCkge1xyXG4gICAgICB0aGlzLnBvaW50ZXJQb3NpdGlvbi54ID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYO1xyXG4gICAgICB0aGlzLnBvaW50ZXJQb3NpdGlvbi55ID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY2xpY2tTdGFydFBvc2l0aW9uLnggPSB0aGlzLnBvaW50ZXJQb3NpdGlvbi54O1xyXG4gICAgdGhpcy5jbGlja1N0YXJ0UG9zaXRpb24ueSA9IHRoaXMucG9pbnRlclBvc2l0aW9uLnk7XHJcbiAgICBcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlTW91c2VVcChldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpOiB2b2lkIHtcclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgdGhpcy5jbGlja2VkID0gZmFsc2U7XHJcbiAgICBpZihDb25maWcuZ2V0UG9pbnRlckZ1bmN0aW9uKCkgPT0gJ3Rocm93Jyl7XHJcbiAgICAgIGxldCBsYXVuY2hfZGlyID0gdGhpcy5jbGlja1N0YXJ0UG9zaXRpb24uY2xvbmUoKS5kaWZmZXJlbmNlKHRoaXMucG9pbnRlclBvc2l0aW9uKS5tdWx0aXBseSgwLjEpO1xyXG4gICAgcGFydGljbGVzLnB1c2gobmV3IFBhcnRpY2xlKHRoaXMuY2xpY2tTdGFydFBvc2l0aW9uLmNsb25lKCksIENvbmZpZy5nZXRHcmlkU2l6ZSgpLzIsIGxhdW5jaF9kaXIsIGdldFJhbmRvbUNvbG9yKCksIGdyaWQpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlTW92ZUV2ZW50KGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCk6IHZvaWQge1xyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBpZiAodGhpcy5jbGlja2VkKSB7XHJcbiAgICAgIGlmIChldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQpIHtcclxuICAgICAgICB0aGlzLnBvaW50ZXJQb3NpdGlvbi54ID0gZXZlbnQuY2xpZW50WDtcclxuICAgICAgICB0aGlzLnBvaW50ZXJQb3NpdGlvbi55ID0gZXZlbnQuY2xpZW50WTtcclxuICAgICAgfSBlbHNlIGlmIChldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpIHtcclxuICAgICAgICB0aGlzLnBvaW50ZXJQb3NpdGlvbi54ID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYO1xyXG4gICAgICAgIHRoaXMucG9pbnRlclBvc2l0aW9uLnkgPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuXHJcbn0iLCJpbXBvcnQgKiBhcyBDb25maWcgZnJvbSAnLi9Db25maWcnO1xyXG5pbXBvcnQgeyBQb2ludGVyRnVuY3Rpb25UeXBlIH0gZnJvbSAnLi9JbnB1dEhhbmRsZXInO1xyXG5pbXBvcnQgVmVjMkQgZnJvbSBcIi4vVmVjMkRcIjtcclxuaW1wb3J0IHsgZ3JpZCwgcGFydGljbGVzIH0gZnJvbSAnLi9zY3JpcHQnO1xyXG5cclxuY29uc3QgbWVudUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVudS1idXR0b25cIik7XHJcbmNvbnN0IG1lbnVFbGVtZW50czogTm9kZUxpc3RPZjxIVE1MRWxlbWVudD4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1lbnUtZWxlbWVudFwiKTtcclxuXHJcbm1lbnVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICBvcGVuTWVudSgpO1xyXG59KTtcclxuXHJcbmNvbnN0IHN3aXRjaFRoZW1lID0gKCkgPT4ge1xyXG4gIGNvbnN0IHJvb3RFbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XHJcbiAgbGV0IHRoZW1lID0gcm9vdEVsZW0uZ2V0QXR0cmlidXRlKCd0aGVtZScpLCBuZXdUaGVtZTtcclxuICBuZXdUaGVtZSA9ICh0aGVtZSA9PT0gJ2xpZ2h0JykgPyAnZGFyaycgOiAnbGlnaHQnO1xyXG5cclxuICByb290RWxlbS5zZXRBdHRyaWJ1dGUoJ3RoZW1lJywgbmV3VGhlbWUpO1xyXG4gIGdyaWQuZHJhdygpO1xyXG59XHJcblxyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RoZW1lLXN3aXRjaCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3dpdGNoVGhlbWUpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5NZW51KCkge1xyXG4gIGlmIChtZW51QnV0dG9uLmdldEF0dHJpYnV0ZShcIm9wZW5cIikgPT0gXCJmYWxzZVwiKSB7XHJcbiAgICBtZW51QnV0dG9uLnNldEF0dHJpYnV0ZShcIm9wZW5cIiwgXCJ0cnVlXCIpO1xyXG4gICAgbWVudUJ1dHRvbi5zdHlsZS5jdXJzb3IgPSBcImF1dG9cIjtcclxuXHJcbiAgICBtZW51RWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICB9LCAzMDApO1xyXG4gICAgfSk7XHJcblxyXG4gIH1cclxuICBlbHNlIHtcclxuXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VNZW51KCkge1xyXG4gIG1lbnVCdXR0b24uc2V0QXR0cmlidXRlKFwib3BlblwiLCBcImZhbHNlXCIpO1xyXG4gIG1lbnVCdXR0b24uc3R5bGUuY3Vyc29yID0gXCJwb2ludGVyXCI7XHJcbiAgbWVudUVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICB9KTtcclxuXHJcbn1cclxuXHJcbnZhciBmaWVsZFNpemVTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpZWxkLXNpemUtc2xpZGVyXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbnZhciBmaWVsZFN0cmVuZ3RoU2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaWVsZC1zdHJlbmd0aC1zbGlkZXJcIikgYXMgSFRNTElucHV0RWxlbWVudDtcclxudmFyIGdyYXZpdHlTdHJlbmd0aFNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ3Jhdml0eS1zdHJlbmd0aC1zbGlkZXJcIikgYXMgSFRNTElucHV0RWxlbWVudDtcclxudmFyIHN1YnN0ZXBzQW1vdW50RW50cnlCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1YnN0ZXBzLWFtb3VudC1lbnRyeVwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG52YXIgcGFydGljbGVzQW1vdW50RW50cnlCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhcnRpY2xlcy1hbW91bnQtZW50cnlcIikgYXMgSFRNTElucHV0RWxlbWVudDtcclxudmFyIGd5cm9FbmFibGVkQ2hlY2tCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImd5cm8tdG9nZ2xlXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG5jb25zdCByYWRpb0J1dHRvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgnY3Vyc29yLWZ1bmN0aW9uJykgYXMgTm9kZUxpc3RPZjxIVE1MSW5wdXRFbGVtZW50PjtcclxuXHJcbiAgcmFkaW9CdXR0b25zLmZvckVhY2gocmFkaW9CdXR0b24gPT4ge1xyXG4gICAgcmFkaW9CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICBpZiAocmFkaW9CdXR0b24uY2hlY2tlZCkge1xyXG4gICAgICAgIENvbmZpZy5zZXRQb2ludGVyRnVuY3Rpb24ocmFkaW9CdXR0b24udmFsdWUgYXMgUG9pbnRlckZ1bmN0aW9uVHlwZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuZmllbGRTaXplU2xpZGVyLm9uaW5wdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgQ29uZmlnLnNldEZpZWxkU2l6ZShwYXJzZUludChmaWVsZFNpemVTbGlkZXIudmFsdWUpKTtcclxufVxyXG5cclxuZmllbGRTdHJlbmd0aFNsaWRlci5vbmlucHV0ID0gZnVuY3Rpb24gKCkge1xyXG4gIENvbmZpZy5zZXRGaWVsZFN0cmVuZ3RoKHBhcnNlSW50KGZpZWxkU3RyZW5ndGhTbGlkZXIudmFsdWUpKTtcclxufVxyXG5cclxuZ3Jhdml0eVN0cmVuZ3RoU2xpZGVyLm9uaW5wdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgc2V0R3Jhdml0eVN0cmVuZ3RoKHBhcnNlSW50KGdyYXZpdHlTdHJlbmd0aFNsaWRlci52YWx1ZSkpO1xyXG59XHJcblxyXG5zdWJzdGVwc0Ftb3VudEVudHJ5Qm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICBDb25maWcuc2V0UGh5c2ljc1N1YnN0ZXBzQW1vdW50KHBhcnNlSW50KHN1YnN0ZXBzQW1vdW50RW50cnlCb3gudmFsdWUpKTtcclxufSk7XHJcblxyXG5neXJvRW5hYmxlZENoZWNrQm94Lm9uaW5wdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgaWYgKHR5cGVvZiBEZXZpY2VNb3Rpb25FdmVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIChEZXZpY2VNb3Rpb25FdmVudCBhcyBhbnkpLnJlcXVlc3RQZXJtaXNzaW9uID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAoRGV2aWNlTW90aW9uRXZlbnQgYXMgYW55KS5yZXF1ZXN0UGVybWlzc2lvbigpLnRoZW4oKHJlc3BvbnNlOiBzdHJpbmcpID0+IHtcclxuICAgICAgICBpZiAocmVzcG9uc2UgPT0gJ2dyYW50ZWQnKSB7XHJcbiAgICAgICAgICAgIHRvZ2dsZUd5cm8oKTtcclxuICAgICAgICB9XHJcbiAgICB9KS5jYXRjaChjb25zb2xlLmVycm9yKTtcclxufSBlbHNlIHtcclxuICAgIHRvZ2dsZUd5cm8oKTtcclxufVxyXG5cclxuXHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiB0b2dnbGVHeXJvKCl7XHJcbiAgaWYgKGd5cm9FbmFibGVkQ2hlY2tCb3guY2hlY2tlZCkge1xyXG4gICAgQ29uZmlnLnNldElzR3lyb0VuYWJsZWQodHJ1ZSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlbW90aW9uJywgaGFuZGxlTW90aW9uLCB0cnVlKTtcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGV2aWNlbW90aW9uJywgaGFuZGxlTW90aW9uKTtcclxuICAgIENvbmZpZy5zZXRJc0d5cm9FbmFibGVkKGZhbHNlKTtcclxuICAgIENvbmZpZy5zZXRHcmF2aXR5RGlyZWN0aW9uKG5ldyBWZWMyRCgwLCAxLjMpKTtcclxuICB9XHJcbn1cclxuXHJcbnBhcnRpY2xlc0Ftb3VudEVudHJ5Qm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICBDb25maWcuc2V0UGFydGljbGVOdW1iZXIocGFyc2VJbnQocGFydGljbGVzQW1vdW50RW50cnlCb3gudmFsdWUpKTtcclxuICBsZXQgZGlmZiA9IHBhcnRpY2xlcy5sZW5ndGggLSBDb25maWcuZ2V0UGFydGljbGVOdW1iZXIoKTtcclxuICB3aGlsZSggZGlmZiA+IDApe1xyXG4gICBwYXJ0aWNsZXMucG9wKCk7XHJcbiAgIGRpZmYtLTtcclxuICB9XHJcbn0pO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZU1vdGlvbihldmVudDogRGV2aWNlTW90aW9uRXZlbnQpOiB2b2lkIHtcclxuICBpZihDb25maWcuaXNHeXJvRW5hYmxlZCgpKXtcclxuICBDb25maWcuc2V0R3Jhdml0eURpcmVjdGlvbihuZXcgVmVjMkQoZXZlbnQuYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eS54LzUsLWV2ZW50LmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkueS81KSk7XHJcbiAgfSBlbHNle1xyXG4gICAgQ29uZmlnLnNldEdyYXZpdHlEaXJlY3Rpb24obmV3IFZlYzJEKDAsIDEuMykpO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVQb2ludGVyRnVuY3Rpb24oKSB7XHJcbiAgdmFyIHJhZGlvQnV0dG9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCdjdXJzb3ItZnVuY3Rpb24nKSBhcyBOb2RlTGlzdE9mPEhUTUxJbnB1dEVsZW1lbnQ+XHJcblxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmFkaW9CdXR0b25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBpZiAocmFkaW9CdXR0b25zW2ldLmNoZWNrZWQpIHtcclxuICAgICAgcmV0dXJuIHJhZGlvQnV0dG9uc1tpXS52YWx1ZTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRHcmF2aXR5U3RyZW5ndGgodmFsdWU6IG51bWJlcikge1xyXG4gIENvbmZpZy5zZXRHcmF2aXR5RGlyZWN0aW9uKG5ldyBWZWMyRCgwLCB2YWx1ZSAqIDAuMSkpO1xyXG59XHJcbiIsImltcG9ydCB7IEdyaWQgfSBmcm9tIFwiLi9HcmlkXCI7XHJcbmltcG9ydCBWZWMyRCBmcm9tIFwiLi9WZWMyRFwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXJ0aWNsZSB7XHJcbiAgc3RhdGljIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JlZ3JvdW5kLWNhbnZhcycpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG5cclxuICBwdWJsaWMgcG9zaXRpb246IFZlYzJEO1xyXG4gIHB1YmxpYyBhY2NlbGVyYXRpb246IFZlYzJEO1xyXG4gIHB1YmxpYyB2ZWxvY2l0eTogVmVjMkQ7XHJcbiAgcHVibGljIHJhZGl1czogbnVtYmVyO1xyXG4gIHB1YmxpYyBjb2xvcjogeyByOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyIH07XHJcbiAgcHJpdmF0ZSBncmlkOiBHcmlkO1xyXG4gIHByaXZhdGUgY2VsbDogVmVjMkQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBvczogVmVjMkQsIHJhZGl1czogbnVtYmVyLCB2ZWxvY2l0eTogVmVjMkQsIGNvbG9yOiB7IHI6IG51bWJlciwgZzogbnVtYmVyLCBiOiBudW1iZXIgfSwgZ3JpZDogR3JpZCkge1xyXG4gICAgdGhpcy5wb3NpdGlvbiA9IHBvcztcclxuICAgIHRoaXMudmVsb2NpdHkgPSB2ZWxvY2l0eTtcclxuICAgIHRoaXMuYWNjZWxlcmF0aW9uID0gbmV3IFZlYzJEKDAsMCk7XHJcbiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcclxuICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgIHRoaXMuZ3JpZCA9IGdyaWQ7XHJcbiAgICB0aGlzLmNlbGwgPSBuZXcgVmVjMkQoTWF0aC5mbG9vcih0aGlzLnBvc2l0aW9uLnggLyBncmlkLnBpeGVsU2l6ZSksIE1hdGguZmxvb3IodGhpcy5wb3NpdGlvbi55IC8gZ3JpZC5waXhlbFNpemUpKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVBvc2l0aW9uKGR0OiBudW1iZXIpIHtcclxuICAgIC8vIGxldCB2ZWxvY2l0eTogVmVjMkQgPSBuZXcgVmVjMkQodGhpcy5jdXJyZW50UG9zaXRpb24ueCAtIHRoaXMucHJldmlvdXNQb3NpdGlvbi54LCB0aGlzLmN1cnJlbnRQb3NpdGlvbi55IC0gdGhpcy5wcmV2aW91c1Bvc2l0aW9uLnkpO1xyXG5cclxuICAgIC8vbGV0IHNxID0gdGhpcy52ZWxvY2l0eS5zcXVhcmVkTGVuZ3RoKClcclxuICAgIC8vIGxldCBkcmFnID0gdGhpcy52ZWxvY2l0eS5jbG9uZSgpLm11bHRpcGx5KC0xICogc3EgKiAwLjAwMDAwMDUpXHJcbiAgICAvLyB0aGlzLnZlbG9jaXR5LmFkZChkcmFnKVxyXG5cclxuXHJcbiAgICBsZXQgbW92ZURlbHRhID0gdGhpcy52ZWxvY2l0eS5hZGQodGhpcy5hY2NlbGVyYXRpb24ubXVsdGlwbHkoKGR0KSkpLmNsb25lKClcclxuICAgIFxyXG4gICAgbW92ZURlbHRhLm11bHRpcGx5KGR0KVxyXG5cclxuICAgIFxyXG5cclxuXHJcbiAgICB0aGlzLnBvc2l0aW9uLmFkZChtb3ZlRGVsdGEpO1xyXG5cclxuICAgIHRoaXMuYWNjZWxlcmF0aW9uLnggPSAwO1xyXG4gICAgdGhpcy5hY2NlbGVyYXRpb24ueSA9IDA7XHJcblxyXG4gICAgdGhpcy51cGRhdGVDZWxsKCk7XHJcbiAgfVxyXG5cclxuICBhY2NlbGVyYXRlKGFjYzogVmVjMkQpIHtcclxuICAgIHRoaXMuYWNjZWxlcmF0aW9uLmFkZChhY2MpO1xyXG4gIH1cclxuXHJcblxyXG4gIGdldE5laWdoYm9yaW5nUGFydGljbGVzKCk6IFBhcnRpY2xlW10ge1xyXG4gICAgY29uc3QgbmVpZ2hib3JpbmdQYXJ0aWNsZXM6IFBhcnRpY2xlW10gPSBbXTtcclxuICBcclxuICAgIGZvciAobGV0IGkgPSB0aGlzLmNlbGwueCAtIDE7IGkgPD0gdGhpcy5jZWxsLnggKyAxOyBpKyspIHtcclxuICAgICAgZm9yIChsZXQgaiA9IHRoaXMuY2VsbC55IC0gMTsgaiA8PSB0aGlzLmNlbGwueSArIDE7IGorKykge1xyXG4gICAgICAgIGlmIChpID49IDAgJiYgaSA8IHRoaXMuZ3JpZC5jb2x1bW5zICYmIGogPj0gMCAmJiBqIDwgdGhpcy5ncmlkLnJvd3MpIHtcclxuICAgICAgICAgIG5laWdoYm9yaW5nUGFydGljbGVzLnB1c2goLi4udGhpcy5ncmlkLmNlbGxzW2ldW2pdKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBuZWlnaGJvcmluZ1BhcnRpY2xlcztcclxuICB9XHJcbiAgXHJcbiAgdXBkYXRlQ2VsbCgpe1xyXG4gICAgdGhpcy5jZWxsID0gbmV3IFZlYzJEKE1hdGguZmxvb3IodGhpcy5wb3NpdGlvbi54IC8gdGhpcy5ncmlkLnBpeGVsU2l6ZSksIE1hdGguZmxvb3IodGhpcy5wb3NpdGlvbi55IC8gdGhpcy5ncmlkLnBpeGVsU2l6ZSkpO1xyXG4gIH1cclxuXHJcblxyXG5cclxufSIsImltcG9ydCB7IGZvcmVncm91bmRDYW52YXMgfSBmcm9tICcuL0NhbnZhc01hbmFnZXInO1xyXG5pbXBvcnQgKiBhcyBDb25maWcgZnJvbSAnLi9Db25maWcnO1xyXG5pbXBvcnQgeyBJbnB1dEhhbmRsZXIgfSBmcm9tICcuL0lucHV0SGFuZGxlcic7XHJcbmltcG9ydCBQYXJ0aWNsZSBmcm9tICcuL1BhcnRpY2xlJztcclxuaW1wb3J0IFZlYzJEIGZyb20gJy4vVmVjMkQnO1xyXG5pbXBvcnQgeyBhdHRyYWN0b3JzLCBncmlkLCBwYXJ0aWNsZXMgfSBmcm9tICcuL3NjcmlwdCc7XHJcblxyXG5jb25zdCBpbnB1dEhhbmRsZXIgPSBJbnB1dEhhbmRsZXIuZ2V0SW5zdGFuY2UoKTtcclxubGV0IHByZXZpb3VzU2NyZWVuWD0gMCwgcHJldmlvdXNTY3JlZW5ZID0gMCwgcHJldmlvdXNWZWxvY2l0eSA9IG5ldyBWZWMyRCgwLDApXHJcbmZ1bmN0aW9uIHVwZGF0ZVBvc2l0aW9ucyhkdDogbnVtYmVyKSB7XHJcbiAgICBncmlkLnJlbW92ZUFsbCgpO1xyXG4gICAgcGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgXHJcbiAgICAgIHBhcnRpY2xlLnVwZGF0ZVBvc2l0aW9uKGR0KTtcclxuICAgICAgZ3JpZC5wdXQocGFydGljbGUpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFxyXG4gIGZ1bmN0aW9uIGFwcGx5R3Jhdml0eSgpIHtcclxuICAgIHBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgICBwYXJ0aWNsZS5hY2NlbGVyYXRlKENvbmZpZy5nZXRHcmF2aXR5RGlyZWN0aW9uKCkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBhcHBseUFjY2VsZXJhdGlvbihhY2M6IFZlYzJEKXtcclxuICAgIHBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgICBwYXJ0aWNsZS5hY2NlbGVyYXRlKGFjYylcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gbW92ZUFsbFBhcnRpY2xlcyh2ZWM6IFZlYzJEKXtcclxuICAgIHBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgICBwYXJ0aWNsZS5wb3NpdGlvbi5hZGQodmVjKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBhcHBseUZpZWxkKGZpZWxkUG9zOiBWZWMyRCkge1xyXG4gICAgcGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgICAgIGNvbnN0IHB1bGxEaXJlY3Rpb24gPSBmaWVsZFBvcy5kaWZmZXJlbmNlKHBhcnRpY2xlLnBvc2l0aW9uKTtcclxuICAgICAgY29uc3QgZGlzdGFuY2UgPSBwdWxsRGlyZWN0aW9uLmxlbmd0aCgpO1xyXG4gIFxyXG4gICAgICBpZiAoZGlzdGFuY2UgPCBDb25maWcuZ2V0RmllbGRTaXplKCkgJiYgZGlzdGFuY2UgPiAxMCkge1xyXG4gICAgICAgIHB1bGxEaXJlY3Rpb24ubXVsdGlwbHkoQ29uZmlnLmdldEZpZWxkU3RyZW5ndGgoKSAqIDEwMCk7XHJcbiAgICAgICAgcHVsbERpcmVjdGlvbi5kaXZpZGUoZGlzdGFuY2UgKiBkaXN0YW5jZSk7XHJcbiAgICAgICAgcGFydGljbGUuYWNjZWxlcmF0ZShwdWxsRGlyZWN0aW9uKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFxyXG4gIGV4cG9ydCBmdW5jdGlvbiBhcHBseUF0dHJhY3RvckZvcmNlc1RvQWxsKCkge1xyXG4gICAgcGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgICAgIGFwcGx5QXR0cmFjdG9yRm9yY2VzKHBhcnRpY2xlKVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgZXhwb3J0IGZ1bmN0aW9uIHRpY2soZHQ6IG51bWJlcikge1xyXG4gICAgdmFyIHN1Yl9kdCA9IGR0IC8gQ29uZmlnLmdldFBoeXNpY3NTdWJzdGVwc0Ftb3VudCgpO1xyXG4gICAgXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IENvbmZpZy5nZXRQaHlzaWNzU3Vic3RlcHNBbW91bnQoKTsgaSsrKSB7XHJcbiAgICAgIGlmIChDb25maWcuZ2V0R3Jhdml0eURpcmVjdGlvbigpLnkgIT0gMCkge1xyXG4gICAgICAgIGFwcGx5R3Jhdml0eSgpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoaW5wdXRIYW5kbGVyLmNsaWNrZWQpIHtcclxuICAgICAgICBzd2l0Y2ggKENvbmZpZy5nZXRQb2ludGVyRnVuY3Rpb24oKSkge1xyXG4gICAgICAgICAgY2FzZSAnZmllbGQnOlxyXG4gICAgICAgICAgICBhcHBseUZpZWxkKGlucHV0SGFuZGxlci5wb2ludGVyUG9zaXRpb24pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgJ2dyYXZpdHknOlxyXG4gICAgICAgICAgICBDb25maWcuc2V0R3Jhdml0eURpcmVjdGlvbihpbnB1dEhhbmRsZXIucG9pbnRlclBvc2l0aW9uLmRpZmZlcmVuY2UoaW5wdXRIYW5kbGVyLmNsaWNrU3RhcnRQb3NpdGlvbikuZGl2aWRlKDQwMCkpO1xyXG4gICAgICAgICAgY2FzZSAndGhyb3cnOlxyXG4gICAgICAgICAgICBicmVhaztcclxuICBcclxuICAgICAgICB9XHJcbiAgXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGRlbHRhWCA9IHdpbmRvdy5zY3JlZW5YIC0gcHJldmlvdXNTY3JlZW5YO1xyXG4gICAgICBjb25zdCBkZWx0YVkgPSB3aW5kb3cuc2NyZWVuWSAtIHByZXZpb3VzU2NyZWVuWTtcclxuICAgICAgY29uc3Qgc2NyZWVuVmVsb2NpdHkgPSBuZXcgVmVjMkQoLWRlbHRhWCwgLWRlbHRhWSk7XHJcbiAgICAgIGlmIChkZWx0YVggIT0gMCB8fCBkZWx0YVkgIT0gMCl7XHJcbiAgICAgICAgbW92ZUFsbFBhcnRpY2xlcyhzY3JlZW5WZWxvY2l0eSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcblxyXG4gICAgICBwcmV2aW91c1NjcmVlblggPSB3aW5kb3cuc2NyZWVuWDtcclxuICAgICAgcHJldmlvdXNTY3JlZW5ZID0gd2luZG93LnNjcmVlblk7XHJcblxyXG5cclxuICAgICAgLy8gYXBwbHlBdHRyYWN0b3JGb3JjZXNUb0FsbCgpO1xyXG4gICAgICBhcHBseUNvbnN0cmFpbnRUb0FsbEVkZ2VzKCk7XHJcbiAgICAgIHNvbHZlQ29sbGlzaW9ucygpO1xyXG4gICAgICB1cGRhdGVQb3NpdGlvbnMoc3ViX2R0KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGFwcGx5Q29uc3RyYWludFRvQWxsRWRnZXMoKSB7XHJcblxyXG4gICAgcGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgICAgIGFwcGx5Q29uc3RyYWludChwYXJ0aWNsZSk7XHJcbiAgICB9KTtcclxuICAgIC8vIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IGdyaWQubGVuZ3RoOyBjb2wrKykge1xyXG4gICAgLy8gICBmb3IgKHZhciB0aGlja25lc3MgPSAwOyB0aGlja25lc3MgPCAyOyB0aGlja25lc3MrKykge1xyXG4gICAgLy8gICAgIGdyaWRbY29sXVt0aGlja25lc3NdLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgICAvLyAgICAgICBhcHBseUNvbnN0cmFpbnQocGFydGljbGUpO1xyXG4gICAgLy8gICAgIH0pO1xyXG4gIFxyXG4gICAgLy8gICAgIGdyaWRbY29sXVtncmlkWzBdLmxlbmd0aCAtIHRoaWNrbmVzcyAtIDFdLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgICAvLyAgICAgICBhcHBseUNvbnN0cmFpbnQocGFydGljbGUpO1xyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy8gICB9XHJcbiAgICAvLyB9XHJcbiAgXHJcbiAgICAvLyBmb3IgKHZhciByb3cgPSAwOyByb3cgPCBncmlkWzBdLmxlbmd0aDsgcm93KyspIHtcclxuICAgIC8vICAgZm9yICh2YXIgdGhpY2tuZXNzID0gMDsgdGhpY2tuZXNzIDwgMjsgdGhpY2tuZXNzKyspIHtcclxuICAgIC8vICAgICBncmlkW3RoaWNrbmVzc11bcm93XS5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgLy8gICAgICAgYXBwbHlDb25zdHJhaW50KHBhcnRpY2xlKTtcclxuICAgIC8vICAgICB9KTtcclxuICBcclxuICAgIC8vICAgICBncmlkW2dyaWQubGVuZ3RoIC0gdGhpY2tuZXNzIC0gMV1bcm93XS5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgLy8gICAgICAgYXBwbHlDb25zdHJhaW50KHBhcnRpY2xlKTtcclxuICAgIC8vICAgICB9KTtcclxuICAgIC8vICAgfVxyXG4gICAgLy8gfVxyXG4gIH1cclxuXHJcbiAgZXhwb3J0IGZ1bmN0aW9uIGFwcGx5Q29uc3RyYWludChwYXJ0aWNsZTogUGFydGljbGUpIHtcclxuICAgIC8vIEFwcGx5IGZsb29yIGNvbnN0cmFpbnRcclxuICAgIGlmIChwYXJ0aWNsZS5wb3NpdGlvbi55ICsgcGFydGljbGUucmFkaXVzID49IGZvcmVncm91bmRDYW52YXMuaGVpZ2h0KSB7XHJcbiAgICAgIHBhcnRpY2xlLnZlbG9jaXR5ID0gbmV3IFZlYzJEKHBhcnRpY2xlLnZlbG9jaXR5LngqIDAuOTkyLCAtTWF0aC5hYnMocGFydGljbGUudmVsb2NpdHkueSAqIDAuNikpXHJcbiAgICAgIHBhcnRpY2xlLnBvc2l0aW9uLnkgPSBmb3JlZ3JvdW5kQ2FudmFzLmhlaWdodCAtIHBhcnRpY2xlLnJhZGl1cztcclxuXHJcbiAgICB9XHJcbiAgXHJcbiAgICAvLyBBcHBseSBDZWlsaW5nIGNvbnN0cmFpbnRcclxuICAgIGlmIChwYXJ0aWNsZS5wb3NpdGlvbi55IC0gcGFydGljbGUucmFkaXVzIDw9IDApIHtcclxuICAgICAgcGFydGljbGUucG9zaXRpb24ueSA9IHBhcnRpY2xlLnJhZGl1cztcclxuICAgICAgcGFydGljbGUudmVsb2NpdHkgPSBuZXcgVmVjMkQocGFydGljbGUudmVsb2NpdHkueCwgTWF0aC5hYnMocGFydGljbGUudmVsb2NpdHkueSAqIDAuNikpXHJcbiAgICB9XHJcbiAgXHJcbiAgXHJcbiAgICAvLyBBcHBseSBsZWZ0IHdhbGwgY29uc3RyYWludFxyXG4gICAgaWYgKHBhcnRpY2xlLnBvc2l0aW9uLnggLSBwYXJ0aWNsZS5yYWRpdXMgPD0gMCkge1xyXG4gICAgICBwYXJ0aWNsZS5wb3NpdGlvbi54ID0gcGFydGljbGUucmFkaXVzO1xyXG4gICAgICBwYXJ0aWNsZS52ZWxvY2l0eSA9IG5ldyBWZWMyRChNYXRoLmFicyhwYXJ0aWNsZS52ZWxvY2l0eS54ICogMC42KSwgcGFydGljbGUudmVsb2NpdHkueSlcclxuICAgIH1cclxuICBcclxuICAgIC8vIEFwcGx5IHJpZ2h0IHdhbGwgY29uc3RyYWludFxyXG4gICAgaWYgKHBhcnRpY2xlLnBvc2l0aW9uLnggKyBwYXJ0aWNsZS5yYWRpdXMgPj0gZm9yZWdyb3VuZENhbnZhcy53aWR0aCkge1xyXG4gICAgICBwYXJ0aWNsZS52ZWxvY2l0eSA9IG5ldyBWZWMyRCgtTWF0aC5hYnMocGFydGljbGUudmVsb2NpdHkueCAqIDAuNiksIHBhcnRpY2xlLnZlbG9jaXR5LnkpXHJcbiAgICAgIHBhcnRpY2xlLnBvc2l0aW9uLnggPSBmb3JlZ3JvdW5kQ2FudmFzLndpZHRoIC0gcGFydGljbGUucmFkaXVzO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZXhwb3J0IGZ1bmN0aW9uIGFwcGx5QXR0cmFjdG9yRm9yY2VzKHBhcnRpY2xlOiBQYXJ0aWNsZSkge1xyXG4gICAgYXR0cmFjdG9ycy5mb3JFYWNoKChhdHRyYWN0b3IpID0+IHtcclxuICAgICAgY29uc3QgcHVsbERpcmVjdGlvbiA9IGF0dHJhY3Rvci5wb3NpdGlvbi5kaWZmZXJlbmNlKHBhcnRpY2xlLnBvc2l0aW9uKVxyXG4gICAgICBjb25zdCBkaXN0YW5jZSA9IHB1bGxEaXJlY3Rpb24ubGVuZ3RoKCk7XHJcbiAgXHJcbiAgICAgIGlmIChkaXN0YW5jZSA8IGF0dHJhY3Rvci5yYWRpdXMgJiYgZGlzdGFuY2UgPiAxMCkge1xyXG4gICAgICAgIHB1bGxEaXJlY3Rpb24ubXVsdGlwbHkoYXR0cmFjdG9yLmZvcmNlKTtcclxuICAgICAgICBwdWxsRGlyZWN0aW9uLmRpdmlkZShkaXN0YW5jZSAqIGRpc3RhbmNlKVxyXG4gICAgICAgIHBhcnRpY2xlLmFjY2VsZXJhdGUocHVsbERpcmVjdGlvbik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBzb2x2ZUNvbGxpc2lvbnMyKCkge1xyXG4gICAgcGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlMSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG5laWdoYm9yaW5nUGFydGljbGVzID0gcGFydGljbGUxLmdldE5laWdoYm9yaW5nUGFydGljbGVzKCk7XHJcbiAgICAgICAgbmVpZ2hib3JpbmdQYXJ0aWNsZXMuZm9yRWFjaCgocGFydGljbGUyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwYXJ0aWNsZTEgPT09IHBhcnRpY2xlMikgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgbGV0IHNxdWFyZWREaXN0YW5jZSA9IHBhcnRpY2xlMS5wb3NpdGlvbi5zcXVhcmVkRGlzdGFuY2VUbyhwYXJ0aWNsZTIucG9zaXRpb24pO1xyXG5cclxuICAgICAgICAgICAgLy9jaGVjayBpZiB0aGUgY29sbGlzaW9uIG9jY3VycmVkLCBpZiBubywgcmV0dXJuXHJcbiAgICAgICAgICAgIGlmIChzcXVhcmVkRGlzdGFuY2UgPiAocGFydGljbGUxLnJhZGl1cyArIHBhcnRpY2xlMi5yYWRpdXMpKioyKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBsZXQgZGlzdGFuY2UgPSBNYXRoLnNxcnQoc3F1YXJlZERpc3RhbmNlKTtcclxuICAgICAgICAgICAgbGV0IGNvbGxpc2lvbk5vcm1hbCA9IG5ldyBWZWMyRCgocGFydGljbGUyLnBvc2l0aW9uLnggLSBwYXJ0aWNsZTEucG9zaXRpb24ueCkvIGRpc3RhbmNlLCAocGFydGljbGUyLnBvc2l0aW9uLnkgLSBwYXJ0aWNsZTEucG9zaXRpb24ueSkgLyBkaXN0YW5jZSk7XHJcblxyXG4gICAgICAgICAgICAvL25vIG5lZWQgdG8gbXVsdGlwbHkgYnkgMiwgYmVjYXVzZSBtMSsgbTIgaXMgMlxyXG4gICAgICAgICAgICBsZXQgcCA9IChwYXJ0aWNsZTEudmVsb2NpdHkueCAqIGNvbGxpc2lvbk5vcm1hbC54ICsgcGFydGljbGUxLnZlbG9jaXR5LnkgKiBjb2xsaXNpb25Ob3JtYWwueSAtIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWNsZTIudmVsb2NpdHkueCAqIGNvbGxpc2lvbk5vcm1hbC54ICsgcGFydGljbGUyLnZlbG9jaXR5LnkgKiBjb2xsaXNpb25Ob3JtYWwueSk7XHJcbiAgICAgICAgICAgIHBhcnRpY2xlMS52ZWxvY2l0eS5zZXQobmV3IFZlYzJEKHBhcnRpY2xlMS52ZWxvY2l0eS54IC0gcCAqIGNvbGxpc2lvbk5vcm1hbC54LCBwYXJ0aWNsZTEudmVsb2NpdHkueSAtIHAgKiBjb2xsaXNpb25Ob3JtYWwueSkpXHJcbiAgICAgICAgICAgIHBhcnRpY2xlMi52ZWxvY2l0eS5zZXQobmV3IFZlYzJEKHBhcnRpY2xlMi52ZWxvY2l0eS54ICsgcCAqIGNvbGxpc2lvbk5vcm1hbC54LCBwYXJ0aWNsZTIudmVsb2NpdHkueSArIHAgKiBjb2xsaXNpb25Ob3JtYWwueSkpXHJcblxyXG5cclxuICAgICAgICAgICAgLy8gdGVtcENvbGxpc2lvbkRpcmVjdGlvbi5zZXQocGFydGljbGUxLmN1cnJlbnRQb3NpdGlvbikuc3VidHJhY3QocGFydGljbGUyLmN1cnJlbnRQb3NpdGlvbik7XHJcbiAgICAgICAgICAgIC8vIHNxdWFyZWREaXN0YW5jZSA9IHRlbXBDb2xsaXNpb25EaXJlY3Rpb24uc3F1YXJlZExlbmd0aCgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gcmFkaWlTdW0gPSBwYXJ0aWNsZTEucmFkaXVzICsgcGFydGljbGUyLnJhZGl1cztcclxuICAgICAgICAgICAgLy8gc3F1YXJlZFJhZGlpU3VtID0gcmFkaWlTdW0gKiByYWRpaVN1bTtcclxuXHJcbiAgICAgICAgICAgIC8vIGlmIChzcXVhcmVkRGlzdGFuY2UgPCBzcXVhcmVkUmFkaWlTdW0gJiYgc3F1YXJlZERpc3RhbmNlICE9PSAwKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBudW1iZXJPZkNvbGxpc2lvbnMrKztcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyAgICAgbGV0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KHNxdWFyZWREaXN0YW5jZSk7XHJcbiAgICAgICAgICAgIC8vICAgICBsZXQgbm9ybWFsID0gdGVtcENvbGxpc2lvbkRpcmVjdGlvbi5kaXZpZGUoZGlzdGFuY2UpO1xyXG4gICAgICAgICAgICAvLyAgICAgbGV0IGRlbHRhID0gcmFkaWlTdW0gLSBkaXN0YW5jZTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBNb3ZlIHBhcnRpY2xlcyBhcGFydCBiYXNlZCBvbiB0aGVpciBvdmVybGFwXHJcbiAgICAgICAgICAgIC8vIGxldCBkaXNwbGFjZW1lbnQgPSBub3JtYWwubXVsdGlwbHkoZGVsdGEgKiAwLjUpO1xyXG4gICAgICAgICAgICAvLyBwYXJ0aWNsZTEuY3VycmVudFBvc2l0aW9uLmFkZChkaXNwbGFjZW1lbnQpO1xyXG4gICAgICAgICAgICAvLyBwYXJ0aWNsZTIuY3VycmVudFBvc2l0aW9uLnN1YnRyYWN0KGRpc3BsYWNlbWVudCk7XHJcbiAgICAgICAgICAgIGxldCBkZWx0YSA9IChwYXJ0aWNsZTEucmFkaXVzICsgcGFydGljbGUyLnJhZGl1cykgLSBkaXN0YW5jZTtcclxuICAgICAgICAgICAgY29sbGlzaW9uTm9ybWFsLm11bHRpcGx5KGRlbHRhICogMC42KVxyXG5cclxuICAgICAgICAgICAgcGFydGljbGUxLnBvc2l0aW9uLnN1YnRyYWN0KGNvbGxpc2lvbk5vcm1hbCk7XHJcbiAgICAgICAgICAgIHBhcnRpY2xlMi5wb3NpdGlvbi5hZGQoY29sbGlzaW9uTm9ybWFsKTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIC8vIGNvbnNvbGUubG9nKG51bWJlck9mQ29sbGlzaW9ucyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNvbHZlQ29sbGlzaW9ucygpIHtcclxuICB2YXIgbnVtYmVyT2ZDb2xsaXNpb25zID0gMDtcclxuXHJcblxyXG4gIGxldCB0ZW1wQ29sbGlzaW9uRGlyZWN0aW9uID0gbmV3IFZlYzJEKDAsIDApO1xyXG4gIGxldCBzcXVhcmVkRGlzdGFuY2UgPSAwO1xyXG4gIGxldCByYWRpaVN1bSA9IDA7XHJcbiAgbGV0IHNxdWFyZWRSYWRpaVN1bSA9IDA7XHJcblxyXG4gIHBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZTEpID0+IHtcclxuICAgIGNvbnN0IG5laWdoYm9yaW5nUGFydGljbGVzID0gcGFydGljbGUxLmdldE5laWdoYm9yaW5nUGFydGljbGVzKCk7XHJcbiAgICBuZWlnaGJvcmluZ1BhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZTIpID0+IHtcclxuICAgICAgaWYgKHBhcnRpY2xlMSA9PT0gcGFydGljbGUyKSByZXR1cm47XHJcblxyXG4gICAgICB0ZW1wQ29sbGlzaW9uRGlyZWN0aW9uLnNldChwYXJ0aWNsZTEucG9zaXRpb24pLnN1YnRyYWN0KHBhcnRpY2xlMi5wb3NpdGlvbik7XHJcbiAgICAgIHNxdWFyZWREaXN0YW5jZSA9IHRlbXBDb2xsaXNpb25EaXJlY3Rpb24uc3F1YXJlZExlbmd0aCgpO1xyXG4gICAgICBcclxuICAgICAgcmFkaWlTdW0gPSBwYXJ0aWNsZTEucmFkaXVzICsgcGFydGljbGUyLnJhZGl1cztcclxuICAgICAgc3F1YXJlZFJhZGlpU3VtID0gcmFkaWlTdW0gKiByYWRpaVN1bTtcclxuXHJcbiAgICAgIGlmIChzcXVhcmVkRGlzdGFuY2UgPCBzcXVhcmVkUmFkaWlTdW0pIHtcclxuICAgICAgICBudW1iZXJPZkNvbGxpc2lvbnMrKztcclxuICAgICAgICBcclxuICAgICAgICAgIGxldCBkaXN0YW5jZSA9IE1hdGguc3FydChzcXVhcmVkRGlzdGFuY2UpO1xyXG4gICAgICAgICAgdGVtcENvbGxpc2lvbkRpcmVjdGlvbi5kaXZpZGUoZGlzdGFuY2UpO1xyXG4gICAgICBcclxuICAgICAgICAgIGxldCBkZWx0YSA9IHJhZGlpU3VtIC0gZGlzdGFuY2U7XHJcbiAgICAgICAgICB0ZW1wQ29sbGlzaW9uRGlyZWN0aW9uLm11bHRpcGx5KGRlbHRhICogMC41KTtcclxuICAgICAgXHJcbiAgICAgICAgICBwYXJ0aWNsZTEucG9zaXRpb24uYWRkKHRlbXBDb2xsaXNpb25EaXJlY3Rpb24pO1xyXG4gICAgICAgICAgcGFydGljbGUyLnBvc2l0aW9uLnN1YnRyYWN0KHRlbXBDb2xsaXNpb25EaXJlY3Rpb24pO1xyXG4gICAgICAgICAgLy8gcGFydGljbGUxLnZlbG9jaXR5ID0gbmV3IFZlYzJEICgwLDApXHJcbiAgICAgICAgICAvLyBwYXJ0aWNsZTIudmVsb2NpdHkgPSBuZXcgVmVjMkQgKDAsMClcclxuICAgICAgICAgIHBhcnRpY2xlMS52ZWxvY2l0eS5hZGQodGVtcENvbGxpc2lvbkRpcmVjdGlvbikuYWRkKG5ldyBWZWMyRCAoKDEgLSBNYXRoLnJhbmRvbSgpKjIpLzEwMDAsICgxIC0gTWF0aC5yYW5kb20oKSoyKS8xMDAwKSk7XHJcbiAgICAgICAgICBwYXJ0aWNsZTIudmVsb2NpdHkuc3VidHJhY3QodGVtcENvbGxpc2lvbkRpcmVjdGlvbikuYWRkKG5ldyBWZWMyRCAoKDEgLSBNYXRoLnJhbmRvbSgpKjIpLzEwMDAsICgxIC0gTWF0aC5yYW5kb20oKSoyKS8xMDAwKSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG4gIC8vIGNvbnNvbGUubG9nKG51bWJlck9mQ29sbGlzaW9ucyk7XHJcbn1cclxuXHJcbiIsImltcG9ydCBWZWMyRCBmcm9tIFwiLi9WZWMyRFwiO1xyXG5pbXBvcnQgKiBhcyBDb25maWcgZnJvbSAnLi9Db25maWcnO1xyXG5pbXBvcnQgcGFydGljbGVGcmFnbWVudFNoYWRlciBmcm9tIFwiLi9zaGFkZXJzL3BhcnRpY2xlRnJhZ21lbnRTaGFkZXIuZnJhZ1wiO1xyXG5pbXBvcnQgcGFydGljbGVWZXJ0ZXhTaGFkZXIgZnJvbSBcIi4vc2hhZGVycy9wYXJ0aWNsZVZlcnRleFNoYWRlci52ZXJ0XCI7XHJcbmltcG9ydCB7IGNyZWF0ZVByb2dyYW0sIGNyZWF0ZVNoYWRlciwgcmVzaXplQ2FudmFzVG9EaXNwbGF5U2l6ZSB9IGZyb20gXCIuL1NoYWRlckhlbHBlclwiO1xyXG5pbXBvcnQgQXR0cmFjdG9yIGZyb20gXCIuL0F0dHJhY3RvclwiO1xyXG5pbXBvcnQgeyBiYWNrZ3JvdW5kQ2FudmFzQ3R4LCBmb3JlZ3JvdW5kQ2FudmFzLCBmb3JlZ3JvdW5kQ2FudmFzQ3R4IH0gZnJvbSBcIi4vQ2FudmFzTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBhcHBseUF0dHJhY3RvckZvcmNlcywgYXBwbHlDb25zdHJhaW50IH0gZnJvbSBcIi4vUGh5c2ljc0VuZ2luZVwiO1xyXG5pbXBvcnQgeyBJbnB1dEhhbmRsZXIgfSBmcm9tIFwiLi9JbnB1dEhhbmRsZXJcIjtcclxuaW1wb3J0IHsgZ3JpZCwgcGFydGljbGVzIH0gZnJvbSBcIi4vc2NyaXB0XCI7XHJcbmltcG9ydCBQYXJ0aWNsZSBmcm9tIFwiLi9QYXJ0aWNsZVwiO1xyXG5pbXBvcnQgeyBnZXRBdmVyYWdlRnJhbWVUaW1lIH0gZnJvbSBcIi4vVUlNYW5hZ2VyXCI7XHJcblxyXG5cclxudmFyIHdlYmdsQ2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dlYmdsLWNhbnZhcycpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG52YXIgZ2wgPSB3ZWJnbENhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIik7XHJcbndlYmdsQ2FudmFzIS53aWR0aCA9IHdlYmdsQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG53ZWJnbENhbnZhcyEuaGVpZ2h0ID0gd2ViZ2xDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG5cclxuY29uc3QgaW5wdXRIYW5kbGVyID0gSW5wdXRIYW5kbGVyLmdldEluc3RhbmNlKCk7XHJcblxyXG5pZiAoIWdsKSB7XHJcbiAgY29uc29sZS5lcnJvcihcIlVuYWJsZSB0byBpbml0aWFsaXplIFdlYkdMLiBZb3VyIGJyb3dzZXIgbWF5IG5vdCBzdXBwb3J0IGl0LlwiKTtcclxufVxyXG5cclxuLy9lbmFsYmluZyBibGVuZGluZyBmb3IgcHJvcGVyIGFscGhhIG9uIHRoZSBwYXJ0aWNsZXNcclxuZ2wuZW5hYmxlKGdsLkJMRU5EKTtcclxuZ2wuYmxlbmRGdW5jKGdsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSk7XHJcblxyXG4vL2NvbXBpbGluZyB0aGUgc2hhZGVycyB3aXRoIGEgaGVscGVyIGZ1bmN0aW9uXHJcbnZhciB2ZXJ0ZXhTaGFkZXIgPSBjcmVhdGVTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHBhcnRpY2xlVmVydGV4U2hhZGVyKTtcclxudmFyIGZyYWdtZW50U2hhZGVyID0gY3JlYXRlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIHBhcnRpY2xlRnJhZ21lbnRTaGFkZXIpO1xyXG5cclxuLy9jcmVhdGluZyBhIFdlYkdMIHByb2dyYW0gYW5kIGF0dGFjaGluZyB0aGUgc2hhZGVycyB0byBpdCB3aXRoIGEgaGVscGVyIGZ1bmN0aW9uXHJcbnZhciBwcm9ncmFtID0gY3JlYXRlUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlcik7XHJcblxyXG4vL2xvb2tpbmcgdXAgdW5pZm9ybSBsb2NhdGlvbiBhbmQgd2hlcmUgdGhlIHZlcnRleCBkYXRhIG5lZWRzIHRvIGdvXHJcbnZhciBwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgXCJhX3Bvc2l0aW9uXCIpO1xyXG52YXIgcmVzb2x1dGlvblVuaWZvcm1Mb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCBcInVfcmVzb2x1dGlvblwiKTtcclxudmFyIGNvbG9yVW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sIFwidV9jb2xvclwiKTtcclxudmFyIHRyYW5zbGF0aW9uTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgXCJ1X3RyYW5zbGF0aW9uXCIpO1xyXG52YXIgcmFkaXVzVW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sIFwidV9yYWRpdXNcIik7XHJcbnZhciBvdXRsaW5lVW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sIFwidV9vdXRsaW5lX2JsYWNrXCIpO1xyXG52YXIgcG9zaXRpb25CdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHBvc2l0aW9uQnVmZmVyKTtcclxuXHJcbmZ1bmN0aW9uIHNldFJlY3RhbmdsZShnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCB4Om51bWJlciwgeTpudW1iZXIsIHdpZHRoOm51bWJlciwgaGVpZ2h0Om51bWJlcikge1xyXG4gIHZhciB4MSA9IHggLSB3aWR0aCAvIDI7XHJcbiAgdmFyIHgyID0geCArIHdpZHRoIC8gMjtcclxuICB2YXIgeTEgPSB5IC0gaGVpZ2h0IC8gMjtcclxuICB2YXIgeTIgPSB5ICsgaGVpZ2h0IC8gMjtcclxuIFxyXG4gIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KFtcclxuICAgICB4MSwgeTEsXHJcbiAgICAgeDIsIHkxLFxyXG4gICAgIHgxLCB5MixcclxuICAgICB4MSwgeTIsXHJcbiAgICAgeDIsIHkxLFxyXG4gICAgIHgyLCB5Ml0pLCBnbC5TVEFUSUNfRFJBVyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRHZW9tZXRyeSgpe1xyXG4gIHBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgc2V0UmVjdGFuZ2xlKFxyXG4gICAgICBnbCwgMCwgMCwgQ29uZmlnLmdldEdyaWRTaXplKCksIENvbmZpZy5nZXRHcmlkU2l6ZSgpKTtcclxuICB9KTtcclxuXHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdQYXJ0aWNsZXMoKSB7XHJcbiAgcmVzaXplQ2FudmFzVG9EaXNwbGF5U2l6ZShnbC5jYW52YXMpO1xyXG5cclxuICAvLyBUZWxsIFdlYkdMIGhvdyB0byBjb252ZXJ0IGZyb20gY2xpcCBzcGFjZSB0byBwaXhlbHNcclxuICBnbC52aWV3cG9ydCgwLCAwLCBnbC5jYW52YXMud2lkdGgsIGdsLmNhbnZhcy5oZWlnaHQpO1xyXG5cclxuICAvLyBDbGVhciB0aGUgY2FudmFzXHJcbiAgZ2wuY2xlYXJDb2xvcigwLCAwLCAwLCAwKTsgLy8gQ2xlYXIgdG8gdHJhbnNwYXJlbnQgYmxhY2tcclxuICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUKTtcclxuXHJcbiAgLy8gVGVsbCBpdCB0byB1c2UgcHJvZ3JhbSAocGFpciBvZiBzaGFkZXJzKVxyXG4gIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XHJcblxyXG4gIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24pO1xyXG5cclxuICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcG9zaXRpb25CdWZmZXIpO1xyXG4gIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIocG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbiwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcclxuICB2YXIgb3V0bGluZUNvbG9yID0gcGFyc2VGbG9hdChnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZSgnLS1pcy1vdXRsaW5lLWRhcmsnKSk7XHJcbiAgdmFyIHJlc29sdXRpb24gPSBbZ2wuY2FudmFzLndpZHRoLCBnbC5jYW52YXMuaGVpZ2h0XVxyXG4gIC8vIERyYXcgdGhlIHJlY3RhbmdsZS5cclxuICBwYXJ0aWNsZXMuZm9yRWFjaCgocGFydGljbGUpID0+IHtcclxuICAgICAgZ2wudW5pZm9ybTJmdihyZXNvbHV0aW9uVW5pZm9ybUxvY2F0aW9uLCByZXNvbHV0aW9uKTtcclxuICAgICAgZ2wudW5pZm9ybTJmKHRyYW5zbGF0aW9uTG9jYXRpb24sIHBhcnRpY2xlLnBvc2l0aW9uLngsIHBhcnRpY2xlLnBvc2l0aW9uLnkpO1xyXG4gICAgICBnbC51bmlmb3JtM2YoY29sb3JVbmlmb3JtTG9jYXRpb24sIHBhcnRpY2xlLmNvbG9yLnIscGFydGljbGUuY29sb3IuZywgcGFydGljbGUuY29sb3IuYik7XHJcbiAgICAgIGdsLnVuaWZvcm0xZihyYWRpdXNVbmlmb3JtTG9jYXRpb24sIHBhcnRpY2xlLnJhZGl1cylcclxuICAgICAgZ2wudW5pZm9ybTFmKG91dGxpbmVVbmlmb3JtTG9jYXRpb24sIG91dGxpbmVDb2xvcik7XHJcbiAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVTLCAwLCA2KTtcclxuICB9KTtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYXdBdHRyYWN0b3JzKGF0dHJhY3RvcnM6IEF0dHJhY3RvcltdKSB7XHJcbiAgYXR0cmFjdG9ycy5mb3JFYWNoKChhdHRyYWN0b3IpID0+IHtcclxuICAgIGF0dHJhY3Rvci5hbmltYXRlKCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZHJhd0RvdHRlZExpbmUoZnJvbTogVmVjMkQsIHRvOiBWZWMyRCwgcmFkaXVzOiBudW1iZXIgPSA1LCBkb3RDb3VudDogbnVtYmVyID0gOCkge1xyXG4gIGlmIChpbnB1dEhhbmRsZXIuY2xpY2tlZCAmJiBmcm9tLnggIT0gdG8ueCAmJiBmcm9tLnkgIT0gdG8ueSkge1xyXG4gICAgY29uc3QgZGlzdGFuY2UgPSBmcm9tLmRpZmZlcmVuY2UodG8pO1xyXG4gICAgZHJhd1ByZWRpY3RlZFBhdGgoZnJvbS5jbG9uZSgpLCBkaXN0YW5jZS5jbG9uZSgpLm11bHRpcGx5KDAuMSkpXHJcbiAgICBkaXN0YW5jZS5kaXZpZGUoZG90Q291bnQpO1xyXG4gICAgdmFyIGFuZ2xlID0gTWF0aC5hdGFuMih0by55IC0gZnJvbS55LCB0by54IC0gZnJvbS54KTtcclxuICAgIHZhciBuZXdfdG8gPSBuZXcgVmVjMkQodG8ueCwgdG8ueSk7XHJcblxyXG4gICAgbmV3X3RvLnggLT0gTWF0aC5jb3MoYW5nbGUpO1xyXG4gICAgbmV3X3RvLnkgLT0gTWF0aC5zaW4oYW5nbGUpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IGRvdENvdW50OyBpKyspIHtcclxuICAgICAgdmFyIGRvdFggPSBmcm9tLnggLSBkaXN0YW5jZS54ICogaTtcclxuICAgICAgdmFyIGRvdFkgPSBmcm9tLnkgLSBkaXN0YW5jZS55ICogaTtcclxuICAgICAgZHJhd0RvdChkb3RYLCBkb3RZLCByYWRpdXMsIDI1NSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdQcmVkaWN0ZWRQYXRoKHN0YXJ0UG9zOiBWZWMyRCwgQWNjZWxlcmF0aW9uVmVjdG9yOiBWZWMyRCkge1xyXG4gIGxldCBkb3RDb3VudCA9IDEyNztcclxuICBsZXQgcHJlZGljdGVkRG90ID0gbmV3IFBhcnRpY2xlKHN0YXJ0UG9zLCBDb25maWcuZ2V0R3JpZFNpemUoKS8yLCBBY2NlbGVyYXRpb25WZWN0b3IsIHtyOjAsIGc6MCwgYjowfSxncmlkKVxyXG4gIGZvciAobGV0IGkgPSAxOyBpIDw9IGRvdENvdW50OyBpKyspIHtcclxuXHJcbiAgICBwcmVkaWN0ZWREb3QuYWNjZWxlcmF0ZShDb25maWcuZ2V0R3Jhdml0eURpcmVjdGlvbigpKTtcclxuICAgIGFwcGx5Q29uc3RyYWludChwcmVkaWN0ZWREb3QpO1xyXG4gICAgYXBwbHlBdHRyYWN0b3JGb3JjZXMocHJlZGljdGVkRG90KTtcclxuICAgIHByZWRpY3RlZERvdC51cGRhdGVQb3NpdGlvbihnZXRBdmVyYWdlRnJhbWVUaW1lKCkvMjApO1xyXG4gICAgaWYgKGkgJSAzID09IDApIHtcclxuICAgICAgZHJhd0RvdChwcmVkaWN0ZWREb3QucG9zaXRpb24ueCwgcHJlZGljdGVkRG90LnBvc2l0aW9uLnksIDUsIDI1NSAtIGkqMilcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdEb3QoZG90WDogbnVtYmVyLCBkb3RZOiBudW1iZXIsIGRvdFNpemU6IG51bWJlciwgb3BhY2l0eTogbnVtYmVyKSB7XHJcbiAgZm9yZWdyb3VuZENhbnZhc0N0eC5iZWdpblBhdGgoKTtcclxuICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmFyYyhcclxuICAgIGRvdFgsXHJcbiAgICBkb3RZLFxyXG4gICAgZG90U2l6ZSxcclxuICAgIDAsXHJcbiAgICAyICogTWF0aC5QSSxcclxuICAgIGZhbHNlXHJcbiAgKTtcclxuXHJcbiAgZm9yZWdyb3VuZENhbnZhc0N0eC5maWxsU3R5bGUgPSBgcmdiYSgyMTAsIDIxMCwgMjEwLCAke29wYWNpdHkgLyAyNTV9KWA7XHJcbiAgZm9yZWdyb3VuZENhbnZhc0N0eC5maWxsKCk7XHJcblxyXG4gIGZvcmVncm91bmRDYW52YXNDdHguY2xvc2VQYXRoKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkcmF3TGFzc28obGluZVdpZHRoOiBudW1iZXIgPSAzKSB7XHJcbiAgaWYgKGlucHV0SGFuZGxlci5jbGlja2VkKSB7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5hcmMoaW5wdXRIYW5kbGVyLnBvaW50ZXJQb3NpdGlvbi54LCBpbnB1dEhhbmRsZXIucG9pbnRlclBvc2l0aW9uLnksIENvbmZpZy5nZXRGaWVsZFNpemUoKSwgMCwgMiAqIE1hdGguUEkpO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5saW5lV2lkdGggPSBsaW5lV2lkdGg7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LnN0cm9rZVN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoJy0tZ3JpZC1jb2xvcicpO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5zdHJva2UoKTtcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHguY2xvc2VQYXRoKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZHJhd0Fycm93KGZyb206IFZlYzJELCB0bzogVmVjMkQpIHtcclxuICBpZiAoaW5wdXRIYW5kbGVyLmNsaWNrZWQgJiYgZnJvbS54ICE9IHRvLnggJiYgZnJvbS55ICE9IHRvLnkpIHtcclxuICAgIHZhciBhbmdsZSA9IE1hdGguYXRhbjIodG8ueSAtIGZyb20ueSwgdG8ueCAtIGZyb20ueCk7XHJcbiAgICBjb25zdCB3aWR0aCA9IDEwO1xyXG4gICAgdmFyIGhlYWRsZW4gPSAxMDtcclxuICAgIHZhciBuZXdfdG8gPSBuZXcgVmVjMkQodG8ueCwgdG8ueSk7XHJcbiAgICAvLyBUaGlzIG1ha2VzIGl0IHNvIHRoZSBlbmQgb2YgdGhlIGFycm93IGhlYWQgaXMgbG9jYXRlZCBhdCB0b3gsIHRveSwgZG9uJ3QgYXNrIHdoZXJlIDEuMTUgY29tZXMgZnJvbVxyXG4gICAgbmV3X3RvLnggLT0gTWF0aC5jb3MoYW5nbGUpICogKCh3aWR0aCAqIDEuMTUpKTtcclxuICAgIG5ld190by55IC09IE1hdGguc2luKGFuZ2xlKSAqICgod2lkdGggKiAxLjE1KSk7XHJcblxyXG5cclxuXHJcbiAgICAvL3N0YXJ0aW5nIHBhdGggb2YgdGhlIGFycm93IGZyb20gdGhlIHN0YXJ0IHNxdWFyZSB0byB0aGUgZW5kIHNxdWFyZSBhbmQgZHJhd2luZyB0aGUgc3Ryb2tlXHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5tb3ZlVG8oZnJvbS54LCBmcm9tLnkpO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5saW5lVG8obmV3X3RvLngsIG5ld190by55KTtcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHguc3Ryb2tlU3R5bGUgPSBcIiNiYmJiYmJcIjtcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHgubGluZVdpZHRoID0gd2lkdGg7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LnN0cm9rZSgpO1xyXG5cclxuICAgIC8vc3RhcnRpbmcgYSBuZXcgcGF0aCBmcm9tIHRoZSBoZWFkIG9mIHRoZSBhcnJvdyB0byBvbmUgb2YgdGhlIHNpZGVzIG9mIHRoZSBwb2ludFxyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5iZWdpblBhdGgoKTtcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHgubW92ZVRvKG5ld190by54LCBuZXdfdG8ueSk7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmxpbmVUbyhuZXdfdG8ueCAtIGhlYWRsZW4gKiBNYXRoLmNvcyhhbmdsZSAtIE1hdGguUEkgLyA3KSwgbmV3X3RvLnkgLSBoZWFkbGVuICogTWF0aC5zaW4oYW5nbGUgLSBNYXRoLlBJIC8gNykpO1xyXG5cclxuICAgIC8vcGF0aCBmcm9tIHRoZSBzaWRlIHBvaW50IG9mIHRoZSBhcnJvdywgdG8gdGhlIG90aGVyIHNpZGUgcG9pbnRcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHgubGluZVRvKG5ld190by54IC0gaGVhZGxlbiAqIE1hdGguY29zKGFuZ2xlICsgTWF0aC5QSSAvIDcpLCBuZXdfdG8ueSAtIGhlYWRsZW4gKiBNYXRoLnNpbihhbmdsZSArIE1hdGguUEkgLyA3KSk7XHJcblxyXG4gICAgLy9wYXRoIGZyb20gdGhlIHNpZGUgcG9pbnQgYmFjayB0byB0aGUgdGlwIG9mIHRoZSBhcnJvdywgYW5kIHRoZW4gYWdhaW4gdG8gdGhlIG9wcG9zaXRlIHNpZGUgcG9pbnRcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHgubGluZVRvKG5ld190by54LCBuZXdfdG8ueSk7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmxpbmVUbyhuZXdfdG8ueCAtIGhlYWRsZW4gKiBNYXRoLmNvcyhhbmdsZSAtIE1hdGguUEkgLyA3KSwgbmV3X3RvLnkgLSBoZWFkbGVuICogTWF0aC5zaW4oYW5nbGUgLSBNYXRoLlBJIC8gNykpO1xyXG5cclxuICAgIC8vZHJhd3MgdGhlIHBhdGhzIGNyZWF0ZWQgYWJvdmVcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHguc3Ryb2tlU3R5bGUgPSBcIiNiYmJiYmJcIjtcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHgubGluZVdpZHRoID0gd2lkdGg7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LnN0cm9rZSgpO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5maWxsU3R5bGUgPSBcIiNiYmJiYmJcIjtcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHguZmlsbCgpO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5jbG9zZVBhdGgoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkcmF3Q3Vyc29yRnVuY3Rpb24oKSB7XHJcbiAgaWYgKGlucHV0SGFuZGxlci5jbGlja2VkKSB7XHJcbnN3aXRjaCAoQ29uZmlnLmdldFBvaW50ZXJGdW5jdGlvbigpKSB7XHJcbiAgY2FzZSAnZmllbGQnOlxyXG4gICAgZHJhd0xhc3NvKCk7XHJcbiAgICBicmVhaztcclxuICBjYXNlICdncmF2aXR5JzpcclxuICAgIGRyYXdBcnJvdyhpbnB1dEhhbmRsZXIuY2xpY2tTdGFydFBvc2l0aW9uLCBpbnB1dEhhbmRsZXIucG9pbnRlclBvc2l0aW9uKVxyXG4gICAgYnJlYWs7XHJcbiAgY2FzZSAndGhyb3cnOlxyXG4gICAgZHJhd0RvdHRlZExpbmUoaW5wdXRIYW5kbGVyLmNsaWNrU3RhcnRQb3NpdGlvbiwgaW5wdXRIYW5kbGVyLnBvaW50ZXJQb3NpdGlvbilcclxuICAgIGJyZWFrO1xyXG59XHJcbiAgfVxyXG59IiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNoYWRlcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCB0eXBlOiBhbnksIHNvdXJjZTogYW55KSB7XHJcbiAgICB2YXIgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xyXG4gICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc291cmNlKTtcclxuICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcclxuICAgIHZhciBzdWNjZXNzID0gZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpO1xyXG4gICAgaWYgKHN1Y2Nlc3MpIHtcclxuICAgICAgcmV0dXJuIHNoYWRlcjtcclxuICAgIH1cclxuICAgXHJcbiAgICBjb25zb2xlLmxvZyhnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpO1xyXG4gICAgZ2wuZGVsZXRlU2hhZGVyKHNoYWRlcik7XHJcbiAgfVxyXG5cclxuICBleHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvZ3JhbShnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCB2ZXJ0ZXhTaGFkZXI6IFdlYkdMU2hhZGVyLCBmcmFnbWVudFNoYWRlcjogV2ViR0xTaGFkZXIpIHtcclxuICAgIHZhciBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xyXG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZlcnRleFNoYWRlcik7XHJcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xyXG4gICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XHJcbiAgICB2YXIgc3VjY2VzcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpO1xyXG4gICAgaWYgKHN1Y2Nlc3MpIHtcclxuICAgICAgcmV0dXJuIHByb2dyYW07XHJcbiAgICB9XHJcbiAgIFxyXG4gICAgY29uc29sZS5sb2coZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkpO1xyXG4gICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcclxuICB9XHJcblxyXG4gIGV4cG9ydCBmdW5jdGlvbiByZXNpemVDYW52YXNUb0Rpc3BsYXlTaXplKGNhbnZhczphbnkpIHtcclxuICAgIC8vIExvb2t1cCB0aGUgc2l6ZSB0aGUgYnJvd3NlciBpcyBkaXNwbGF5aW5nIHRoZSBjYW52YXMgaW4gQ1NTIHBpeGVscy5cclxuICAgIGNvbnN0IGRpc3BsYXlXaWR0aCAgPSBjYW52YXMuY2xpZW50V2lkdGg7XHJcbiAgICBjb25zdCBkaXNwbGF5SGVpZ2h0ID0gY2FudmFzLmNsaWVudEhlaWdodDtcclxuICAgXHJcbiAgICAvLyBDaGVjayBpZiB0aGUgY2FudmFzIGlzIG5vdCB0aGUgc2FtZSBzaXplLlxyXG4gICAgY29uc3QgbmVlZFJlc2l6ZSA9IGNhbnZhcy53aWR0aCAgIT09IGRpc3BsYXlXaWR0aCB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgIT09IGRpc3BsYXlIZWlnaHQ7XHJcbiAgIFxyXG4gICAgaWYgKG5lZWRSZXNpemUpIHtcclxuICAgICAgLy8gTWFrZSB0aGUgY2FudmFzIHRoZSBzYW1lIHNpemVcclxuICAgICAgY2FudmFzLndpZHRoICA9IGRpc3BsYXlXaWR0aDtcclxuICAgICAgY2FudmFzLmhlaWdodCA9IGRpc3BsYXlIZWlnaHQ7XHJcbiAgICB9XHJcbiAgIFxyXG4gICAgcmV0dXJuIG5lZWRSZXNpemU7XHJcblxyXG4gIH0iLCJpbXBvcnQgKiBhcyBDb25maWcgZnJvbSAnLi9Db25maWcnO1xyXG5cclxubGV0IGZwc0NvdW50ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuZnBzQ291bnRlci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbmZwc0NvdW50ZXIuc3R5bGUudG9wID0gJzEwcHgnO1xyXG5mcHNDb3VudGVyLnN0eWxlLmxlZnQgPSAnMTBweCc7XHJcblxyXG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZwc0NvdW50ZXIpO1xyXG5cclxuZXhwb3J0IHZhciBmcHMgPSA2MDtcclxuZXhwb3J0IHZhciBmcmFtZVRpbWVzOm51bWJlcltdID0gW107XHJcbmNvbnN0IG1heEZyYW1lcyA9IDEwMDsgXHJcblxyXG5sZXQgbGFzdFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVVSSgpIHtcclxuICAgIGxldCBhdmVyYWdlZEZQUyA9IGNhbGN1bGF0ZUZQUygpO1xyXG4gICAgZnBzQ291bnRlci5pbm5lclRleHQgPSBgRlBTOiAke01hdGgucm91bmQoYXZlcmFnZWRGUFMpfWA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNhbGN1bGF0ZUZQUygpIHtcclxuICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XHJcbiAgICBjb25zdCB0aW1lRGlmZiA9IGN1cnJlbnRUaW1lIC0gbGFzdFRpbWU7XHJcbiAgICBmcmFtZVRpbWVzLnB1c2godGltZURpZmYpO1xyXG5cclxuICAgIGlmIChmcmFtZVRpbWVzLmxlbmd0aCA+IG1heEZyYW1lcykge1xyXG4gICAgICAgIGZyYW1lVGltZXMuc2hpZnQoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgY29uc3QgYXZlcmFnZUZQUyA9IGZyYW1lVGltZXMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyBmcmFtZVRpbWVzLmxlbmd0aDtcclxuXHJcbiAgICBsYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xyXG5cclxuICAgIHJldHVybiAxMDAwIC8gYXZlcmFnZUZQUztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEF2ZXJhZ2VGcmFtZVRpbWUoKXtcclxuICAgIHJldHVybiBmcmFtZVRpbWVzLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApIC8gZnJhbWVUaW1lcy5sZW5ndGg7XHJcbn1cclxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUNvbG9yKCk6IHsgcjogbnVtYmVyLCBnOiBudW1iZXIsIGI6IG51bWJlciB9IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHI6IE1hdGgucmFuZG9tKCksXHJcbiAgICAgIGc6IE1hdGgucmFuZG9tKCksXHJcbiAgICAgIGI6IE1hdGgucmFuZG9tKClcclxuICAgIH1cclxuICB9XHJcbiAgIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVjMkQge1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG4gIFxyXG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgICAgdGhpcy54ID0geDtcclxuICAgICAgdGhpcy55ID0geTtcclxuICAgIH1cclxuICBcclxuICAgIGFkZChvdGhlcjogVmVjMkQpe1xyXG4gICAgICB0aGlzLnggKz0gb3RoZXIueDtcclxuICAgICAgdGhpcy55ICs9IG90aGVyLnk7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHNldChvdGhlcjogVmVjMkQpe1xyXG4gICAgICB0aGlzLnggPSBvdGhlci54O1xyXG4gICAgICB0aGlzLnkgPSBvdGhlci55O1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIFxyXG4gICAgc3VidHJhY3Qob3RoZXI6IFZlYzJEKXtcclxuICAgICAgdGhpcy54IC09IG90aGVyLng7XHJcbiAgICAgIHRoaXMueSAtPSBvdGhlci55O1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICBcclxuICAgIG11bHRpcGx5KHNjYWxhcjogbnVtYmVyKSB7XHJcbiAgICAgIHRoaXMueCAqPSBzY2FsYXI7XHJcbiAgICAgIHRoaXMueSAqPSBzY2FsYXI7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgZGl2aWRlKHNjYWxhcjogbnVtYmVyKXtcclxuICAgICAgdGhpcy54IC89IHNjYWxhcjtcclxuICAgICAgdGhpcy55IC89IHNjYWxhcjtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBkb3QodmVjOiBWZWMyRCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLnggKiB2ZWMueCArIHRoaXMueSAqIHZlYy55O1xyXG4gICAgfVxyXG5cclxuICAgIGxlbmd0aCgpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3F1YXJlZExlbmd0aCgpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55O1xyXG4gICAgfVxyXG5cclxuICAgIGNsb25lKCk6IFZlYzJEe1xyXG4gICAgICByZXR1cm4gbmV3IFZlYzJEKHRoaXMueCwgdGhpcy55KVxyXG4gICAgfVxyXG5cclxuICAgIGRpZmZlcmVuY2Uob3RoZXI6IFZlYzJEKTogVmVjMkR7XHJcbiAgICAgIHJldHVybiBuZXcgVmVjMkQodGhpcy54IC0gb3RoZXIueCwgdGhpcy55IC0gb3RoZXIueSlcclxuICAgIH1cclxuXHJcbiAgICBzcXVhcmVkRGlzdGFuY2VUbyhvdGhlcjpWZWMyRCl7XHJcbiAgICAgIHJldHVybiAodGhpcy54IC0gb3RoZXIueCkqKjIgKyAodGhpcy55IC0gb3RoZXIueSkqKjI7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IEF0dHJhY3RvciBmcm9tIFwiLi9BdHRyYWN0b3JcIjtcclxuaW1wb3J0IHsgZHJhd0Fycm93LCBkcmF3TGFzc28sIGRyYXdQYXJ0aWNsZXMsIGRyYXdEb3R0ZWRMaW5lLCBzZXRHZW9tZXRyeSwgZHJhd0N1cnNvckZ1bmN0aW9uIH0gZnJvbSBcIi4vUmVuZGVyZXJcIjtcclxuaW1wb3J0IHsgY2xvc2VNZW51LCB1cGRhdGVQb2ludGVyRnVuY3Rpb24gfSBmcm9tIFwiLi9NZW51TWFuYWdlclwiO1xyXG5pbXBvcnQgUGFydGljbGUgZnJvbSBcIi4vUGFydGljbGVcIjtcclxuaW1wb3J0IFZlYzJEIGZyb20gXCIuL1ZlYzJEXCI7XHJcbmltcG9ydCB7IGZwcywgZ2V0QXZlcmFnZUZyYW1lVGltZSwgdXBkYXRlVUkgfSBmcm9tIFwiLi9VSU1hbmFnZXJcIjtcclxuaW1wb3J0IHsgYmFja2dyb3VuZENhbnZhcywgY2xlYXJDYW52YXMsIGZvcmVncm91bmRDYW52YXMgfSBmcm9tIFwiLi9DYW52YXNNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IHRpY2sgfSBmcm9tIFwiLi9QaHlzaWNzRW5naW5lXCI7XHJcbmltcG9ydCAqIGFzIENvbmZpZyBmcm9tICcuL0NvbmZpZyc7XHJcbmltcG9ydCB7IEdyaWQgfSBmcm9tIFwiLi9HcmlkXCI7XHJcbmltcG9ydCB7IGdldFJhbmRvbUNvbG9yIH0gZnJvbSBcIi4vVXRpbHNcIjtcclxuXHJcbmV4cG9ydCB2YXIgcGFydGljbGVzOiBQYXJ0aWNsZVtdID0gW107XHJcbmV4cG9ydCB2YXIgYXR0cmFjdG9yczogQXR0cmFjdG9yW10gPSBbXTtcclxuXHJcbmxldCBmcmFtZUNvdW50ID0gMDtcclxuZXhwb3J0IGxldCBncmlkID0gbmV3IEdyaWQoYmFja2dyb3VuZENhbnZhcyk7XHJcbmZ1bmN0aW9uIGFuaW1hdGUoKSB7XHJcbiAgbGV0IGZyYW1lVGltZSA9IGdldEF2ZXJhZ2VGcmFtZVRpbWUoKVxyXG4gIHRpY2soZnJhbWVUaW1lLzIwKTtcclxuXHJcbiAgY2xlYXJDYW52YXMoKTtcclxuICBkcmF3UGFydGljbGVzKCk7XHJcbiAgZHJhd0N1cnNvckZ1bmN0aW9uKCk7XHJcbiAgLy8gZHJhd0dyaWQoKTtcclxuICAvLyBkcmF3QXR0cmFjdG9ycygpO1xyXG4gIHVwZGF0ZVVJKCk7XHJcblxyXG4gIGlmIChmcmFtZUNvdW50ICUgMyA9PT0gMCAmJiBwYXJ0aWNsZXMubGVuZ3RoIDwgQ29uZmlnLmdldFBhcnRpY2xlTnVtYmVyKCkgJiYgZnJhbWVDb3VudCA+IDEyMCkge1xyXG4gICAgcGFydGljbGVzLnB1c2gobmV3IFBhcnRpY2xlKG5ldyBWZWMyRCgyMDAsIDIwMCksIGdyaWQucGl4ZWxTaXplLzIsIG5ldyBWZWMyRCgyNyAsIC0xMiksIGdldFJhbmRvbUNvbG9yKCksIGdyaWQpKTtcclxuICAgIHBhcnRpY2xlcy5wdXNoKG5ldyBQYXJ0aWNsZShuZXcgVmVjMkQoMjAwLCAyNjApLCBncmlkLnBpeGVsU2l6ZS8yLCBuZXcgVmVjMkQoMjkgLCAtMTIpLCBnZXRSYW5kb21Db2xvcigpLCBncmlkKSk7XHJcbiAgICBwYXJ0aWNsZXMucHVzaChuZXcgUGFydGljbGUobmV3IFZlYzJEKDIwMCwgMzIwKSwgZ3JpZC5waXhlbFNpemUvMiwgbmV3IFZlYzJEKDI0ICwgLTEyKSwgZ2V0UmFuZG9tQ29sb3IoKSwgZ3JpZCkpO1xyXG4gICAgcGFydGljbGVzLnB1c2gobmV3IFBhcnRpY2xlKG5ldyBWZWMyRCgyMDAsIDM4MCksIGdyaWQucGl4ZWxTaXplLzIsIG5ldyBWZWMyRCgyNSAsIC0xMiksIGdldFJhbmRvbUNvbG9yKCksIGdyaWQpKTtcclxuICAgIHBhcnRpY2xlcy5wdXNoKG5ldyBQYXJ0aWNsZShuZXcgVmVjMkQoMjAwLCA0NDApLCBncmlkLnBpeGVsU2l6ZS8yLCBuZXcgVmVjMkQoMjQsIC0xMiApLCBnZXRSYW5kb21Db2xvcigpLCBncmlkKSk7XHJcbiAgICBzZXRHZW9tZXRyeSgpO1xyXG4gIH1cclxuICBmcmFtZUNvdW50Kys7XHJcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xyXG59XHJcblxyXG5ncmlkLmRyYXcoKTtcclxucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxuX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL3NjcmlwdC50c1wiKTtcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL01lbnVNYW5hZ2VyLnRzXCIpO1xuIl0sIm5hbWVzIjpbImZvcmVncm91bmRDYW52YXMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiYmFja2dyb3VuZENhbnZhcyIsIndlYmdsQ2FudmFzIiwid2lkdGgiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJoZWlnaHQiLCJmb3JlZ3JvdW5kQ2FudmFzQ3R4IiwiZ2V0Q29udGV4dCIsImJhY2tncm91bmRDYW52YXNDdHgiLCJjbGVhckNhbnZhcyIsImNsZWFyUmVjdCIsInVwZGF0ZUNhbnZhc1NpemUiLCJncmlkIiwiY2FudmFzIiwidXBkYXRlU2l6ZSIsImRyYXciLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZmllbGRTdHJlbmd0aCIsInBoeXNpY3NTdWJzdGVwc0Ftb3VudCIsImdyYXZpdHlEaXJlY3Rpb24iLCJmaWVsZFNpemUiLCJwYXJ0aWNsZU51bWJlciIsInBvaW50ZXJGdW5jdGlvbiIsImdyaWRTaXplIiwiZ3lyb0VuYWJsZWQiLCJnZXRHcmF2aXR5RGlyZWN0aW9uIiwiZ2V0UGh5c2ljc1N1YnN0ZXBzQW1vdW50IiwiZ2V0RmllbGRTdHJlbmd0aCIsImdldEZpZWxkU2l6ZSIsImdldFBhcnRpY2xlTnVtYmVyIiwiZ2V0UG9pbnRlckZ1bmN0aW9uIiwiZ2V0R3JpZFNpemUiLCJpc0d5cm9FbmFibGVkIiwic2V0R3Jhdml0eURpcmVjdGlvbiIsIm5ld0dyYXZpdHlEaXJlY3Rpb24iLCJzZXRQaHlzaWNzU3Vic3RlcHNBbW91bnQiLCJuZXdBbW91bnQiLCJzZXRGaWVsZFN0cmVuZ3RoIiwibmV3ZmllbGRTdHJlbmd0aCIsInNldEZpZWxkU2l6ZSIsIm5ld2ZpZWxkU2l6ZSIsInNldFBhcnRpY2xlTnVtYmVyIiwibmV3UGFydGljbGVOdW1iZXIiLCJzZXRQb2ludGVyRnVuY3Rpb24iLCJuZXdQb2ludGVyRnVuY3Rpb24iLCJzZXRJc0d5cm9FbmFibGVkIiwibmV3SXNHeXJvRW5hYmxlZCIsImdyaWRQaXhlbFNpemUiLCJ0aGlzIiwicGl4ZWxTaXplIiwiY29sdW1ucyIsIk1hdGgiLCJjZWlsIiwicm93cyIsImNlbGxzIiwiaW5pdGlhbGl6ZSIsImNhbnZhc0N0eCIsImkiLCJqIiwicmVtb3ZlQWxsIiwicHV0IiwicGFydGljbGUiLCJjb2x1bW4iLCJmbG9vciIsInBvc2l0aW9uIiwieCIsInJvdyIsInkiLCJsZW5ndGgiLCJwdXNoIiwic3Ryb2tlU3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwiZG9jdW1lbnRFbGVtZW50IiwiZ2V0UHJvcGVydHlWYWx1ZSIsImxpbmVXaWR0aCIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsImNsaWNrZWQiLCJwb2ludGVyUG9zaXRpb24iLCJjbGlja1N0YXJ0UG9zaXRpb24iLCJnZXRJbnN0YW5jZSIsIklucHV0SGFuZGxlciIsImluc3RhbmNlIiwiaW5pdGlhbGl6ZUV2ZW50TGlzdGVuZXJzIiwibWFpbl9ib2R5IiwiaGFuZGxlTW91c2VEb3duIiwiYmluZCIsImhhbmRsZU1vdXNlVXAiLCJoYW5kbGVNb3ZlRXZlbnQiLCJldmVudCIsInN0b3BQcm9wYWdhdGlvbiIsImNsb3NlTWVudSIsIk1vdXNlRXZlbnQiLCJjbGllbnRYIiwiY2xpZW50WSIsIlRvdWNoRXZlbnQiLCJ0b3VjaGVzIiwibGF1bmNoX2RpciIsImNsb25lIiwiZGlmZmVyZW5jZSIsIm11bHRpcGx5IiwicGFydGljbGVzIiwiZ2V0UmFuZG9tQ29sb3IiLCJtZW51QnV0dG9uIiwibWVudUVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsIm9wZW5NZW51IiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwic3R5bGUiLCJjdXJzb3IiLCJmb3JFYWNoIiwiZWxlbWVudCIsInNldFRpbWVvdXQiLCJkaXNwbGF5IiwicXVlcnlTZWxlY3RvciIsIm5ld1RoZW1lIiwicm9vdEVsZW0iLCJmaWVsZFNpemVTbGlkZXIiLCJmaWVsZFN0cmVuZ3RoU2xpZGVyIiwiZ3Jhdml0eVN0cmVuZ3RoU2xpZGVyIiwic3Vic3RlcHNBbW91bnRFbnRyeUJveCIsInBhcnRpY2xlc0Ftb3VudEVudHJ5Qm94IiwiZ3lyb0VuYWJsZWRDaGVja0JveCIsInRvZ2dsZUd5cm8iLCJjaGVja2VkIiwiaGFuZGxlTW90aW9uIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkiLCJ1cGRhdGVQb2ludGVyRnVuY3Rpb24iLCJyYWRpb0J1dHRvbnMiLCJnZXRFbGVtZW50c0J5TmFtZSIsInZhbHVlIiwic2V0R3Jhdml0eVN0cmVuZ3RoIiwicmFkaW9CdXR0b24iLCJvbmlucHV0IiwicGFyc2VJbnQiLCJEZXZpY2VNb3Rpb25FdmVudCIsInJlcXVlc3RQZXJtaXNzaW9uIiwidGhlbiIsInJlc3BvbnNlIiwiY2F0Y2giLCJjb25zb2xlIiwiZXJyb3IiLCJkaWZmIiwicG9wIiwicG9zIiwicmFkaXVzIiwidmVsb2NpdHkiLCJjb2xvciIsImFjY2VsZXJhdGlvbiIsImNlbGwiLCJ1cGRhdGVQb3NpdGlvbiIsImR0IiwibW92ZURlbHRhIiwiYWRkIiwidXBkYXRlQ2VsbCIsImFjY2VsZXJhdGUiLCJhY2MiLCJnZXROZWlnaGJvcmluZ1BhcnRpY2xlcyIsIm5laWdoYm9yaW5nUGFydGljbGVzIiwiaW5wdXRIYW5kbGVyIiwicHJldmlvdXNTY3JlZW5YIiwicHJldmlvdXNTY3JlZW5ZIiwidXBkYXRlUG9zaXRpb25zIiwibW92ZUFsbFBhcnRpY2xlcyIsInZlYyIsImFwcGx5RmllbGQiLCJmaWVsZFBvcyIsInB1bGxEaXJlY3Rpb24iLCJkaXN0YW5jZSIsImRpdmlkZSIsImFwcGx5QXR0cmFjdG9yRm9yY2VzVG9BbGwiLCJhcHBseUF0dHJhY3RvckZvcmNlcyIsInRpY2siLCJzdWJfZHQiLCJkZWx0YVgiLCJzY3JlZW5YIiwiZGVsdGFZIiwic2NyZWVuWSIsInNjcmVlblZlbG9jaXR5IiwiYXBwbHlDb25zdHJhaW50Iiwic29sdmVDb2xsaXNpb25zIiwiYWJzIiwiYXR0cmFjdG9ycyIsImF0dHJhY3RvciIsImZvcmNlIiwidGVtcENvbGxpc2lvbkRpcmVjdGlvbiIsInNxdWFyZWREaXN0YW5jZSIsInJhZGlpU3VtIiwicGFydGljbGUxIiwicGFydGljbGUyIiwic2V0Iiwic3VidHJhY3QiLCJzcXVhcmVkTGVuZ3RoIiwic3FydCIsImRlbHRhIiwicmFuZG9tIiwiZ2wiLCJlbmFibGUiLCJCTEVORCIsImJsZW5kRnVuYyIsIlNSQ19BTFBIQSIsIk9ORV9NSU5VU19TUkNfQUxQSEEiLCJ2ZXJ0ZXhTaGFkZXIiLCJjcmVhdGVTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwiZnJhZ21lbnRTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJwcm9ncmFtIiwiY3JlYXRlUHJvZ3JhbSIsInBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24iLCJnZXRBdHRyaWJMb2NhdGlvbiIsInJlc29sdXRpb25Vbmlmb3JtTG9jYXRpb24iLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJjb2xvclVuaWZvcm1Mb2NhdGlvbiIsInRyYW5zbGF0aW9uTG9jYXRpb24iLCJyYWRpdXNVbmlmb3JtTG9jYXRpb24iLCJvdXRsaW5lVW5pZm9ybUxvY2F0aW9uIiwicG9zaXRpb25CdWZmZXIiLCJjcmVhdGVCdWZmZXIiLCJzZXRHZW9tZXRyeSIsIngxIiwieDIiLCJ5MSIsInkyIiwiYnVmZmVyRGF0YSIsIkFSUkFZX0JVRkZFUiIsIkZsb2F0MzJBcnJheSIsIlNUQVRJQ19EUkFXIiwic2V0UmVjdGFuZ2xlIiwiZHJhd1BhcnRpY2xlcyIsInJlc2l6ZUNhbnZhc1RvRGlzcGxheVNpemUiLCJ2aWV3cG9ydCIsImNsZWFyQ29sb3IiLCJjbGVhciIsIkNPTE9SX0JVRkZFUl9CSVQiLCJ1c2VQcm9ncmFtIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJiaW5kQnVmZmVyIiwidmVydGV4QXR0cmliUG9pbnRlciIsIkZMT0FUIiwib3V0bGluZUNvbG9yIiwicGFyc2VGbG9hdCIsInJlc29sdXRpb24iLCJ1bmlmb3JtMmZ2IiwidW5pZm9ybTJmIiwidW5pZm9ybTNmIiwiciIsImciLCJiIiwidW5pZm9ybTFmIiwiZHJhd0FycmF5cyIsIlRSSUFOR0xFUyIsImRyYXdEb3R0ZWRMaW5lIiwiZnJvbSIsInRvIiwiZG90Q291bnQiLCJkcmF3UHJlZGljdGVkUGF0aCIsImFuZ2xlIiwiYXRhbjIiLCJuZXdfdG8iLCJjb3MiLCJzaW4iLCJkcmF3RG90Iiwic3RhcnRQb3MiLCJBY2NlbGVyYXRpb25WZWN0b3IiLCJwcmVkaWN0ZWREb3QiLCJnZXRBdmVyYWdlRnJhbWVUaW1lIiwiZG90WCIsImRvdFkiLCJkb3RTaXplIiwib3BhY2l0eSIsImFyYyIsIlBJIiwiZmlsbFN0eWxlIiwiZmlsbCIsImNsb3NlUGF0aCIsImRyYXdMYXNzbyIsImRyYXdBcnJvdyIsImhlYWRsZW4iLCJkcmF3Q3Vyc29yRnVuY3Rpb24iLCJ0eXBlIiwic291cmNlIiwic2hhZGVyIiwic2hhZGVyU291cmNlIiwiY29tcGlsZVNoYWRlciIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwibG9nIiwiZ2V0U2hhZGVySW5mb0xvZyIsImRlbGV0ZVNoYWRlciIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJkZWxldGVQcm9ncmFtIiwiZGlzcGxheVdpZHRoIiwiY2xpZW50V2lkdGgiLCJkaXNwbGF5SGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwibmVlZFJlc2l6ZSIsImZwc0NvdW50ZXIiLCJjcmVhdGVFbGVtZW50IiwidG9wIiwibGVmdCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImZwcyIsImZyYW1lVGltZXMiLCJtYXhGcmFtZXMiLCJsYXN0VGltZSIsInBlcmZvcm1hbmNlIiwibm93IiwidXBkYXRlVUkiLCJhdmVyYWdlZEZQUyIsImN1cnJlbnRUaW1lIiwidGltZURpZmYiLCJzaGlmdCIsImF2ZXJhZ2VGUFMiLCJyZWR1Y2UiLCJhIiwiY2FsY3VsYXRlRlBTIiwiaW5uZXJUZXh0Iiwicm91bmQiLCJvdGhlciIsInNjYWxhciIsImRvdCIsIlZlYzJEIiwic3F1YXJlZERpc3RhbmNlVG8iLCJmcmFtZUNvdW50IiwiR3JpZCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImFuaW1hdGUiLCJmcmFtZVRpbWUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImQiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyJdLCJzb3VyY2VSb290IjoiIn0=