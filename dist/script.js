/*! For license information please see script.js.LICENSE.txt */
(()=>{"use strict";var t={"./src/Drawer.ts":(t,e,r)=>{r.r(e),r.d(e,{drawArrow:()=>k,drawDot:()=>E,drawGrid:()=>S,drawLasso:()=>M,drawParticles:()=>b,drawTail:()=>P,setGeometry:()=>w});var n=r("./src/Particle.ts"),o=r("./src/Vec2D.ts"),i=r("./src/shaders/particleFragmentShader.frag"),a=r("./src/shaders/particleVertexShader.vert"),c=r("./src/script.ts"),s=r("./src/ShaderHelper.ts"),u=r("./src/MenuManager.ts"),d=document.getElementById("webgl-canvas").getContext("webgl");d||console.error("Unable to initialize WebGL. Your browser may not support it."),d.enable(d.BLEND),d.blendFunc(d.SRC_ALPHA,d.ONE_MINUS_SRC_ALPHA);var l=(0,s.createShader)(d,d.VERTEX_SHADER,a),h=(0,s.createShader)(d,d.FRAGMENT_SHADER,i),f=(0,s.createProgram)(d,l,h),p=d.getAttribLocation(f,"a_position"),g=d.getUniformLocation(f,"u_resolution"),v=d.getUniformLocation(f,"u_color"),y=d.getUniformLocation(f,"u_translation"),m=d.getUniformLocation(f,"u_radius"),x=d.getUniformLocation(f,"u_outline_black");d.uniform2f(g,d.canvas.width,d.canvas.height);var _=d.createBuffer();function w(){c.particles.forEach((function(t){!function(t,e,r,n,o){var i=0-n/2,a=0+n/2,c=0-o/2,s=0+o/2;t.bufferData(t.ARRAY_BUFFER,new Float32Array([i,c,a,c,i,s,i,s,a,c,a,s]),t.STATIC_DRAW)}(d,0,0,c.gridSize,c.gridSize)}))}function b(){(0,s.resizeCanvasToDisplaySize)(d.canvas),d.viewport(0,0,d.canvas.width,d.canvas.height),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.useProgram(f),d.enableVertexAttribArray(p),d.bindBuffer(d.ARRAY_BUFFER,_),d.vertexAttribPointer(p,2,d.FLOAT,!1,0,0),c.particles.forEach((function(t){d.uniform2f(g,d.canvas.width,d.canvas.height),d.uniform2f(y,t.pos_curr.x,t.pos_curr.y),d.uniform3f(v,t.color.r,t.color.g,t.color.b),d.uniform1f(m,c.gridSize/2),d.uniform1f(x,u.particle_outline),d.drawArrays(d.TRIANGLES,0,6)}))}function S(){c.back_ctx.clearRect(0,0,c.foreground_canvas.width,c.foreground_canvas.height),c.back_ctx.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--grid-color"),c.back_ctx.lineWidth=1;for(var t=c.gridSize;t<c.foreground_canvas.width;t+=c.gridSize)c.back_ctx.beginPath(),c.back_ctx.moveTo(t,0),c.back_ctx.lineTo(t,c.foreground_canvas.height),c.back_ctx.stroke();for(var e=c.gridSize;e<c.foreground_canvas.height;e+=c.gridSize)c.back_ctx.beginPath(),c.back_ctx.moveTo(0,e),c.back_ctx.lineTo(c.foreground_canvas.width,e),c.back_ctx.stroke()}function P(t,e){if(c.clicked&&t.x!=e.x&&t.y!=e.y){var r=t.difference(e);!function(t,e){for(var r=new n.default(t,15,e,{r:0,g:0,b:0}),o=1;o<=510;o++)r.accelerate(c.gravity),(0,c.applyConstraint)(r),(0,c.applyAttractorForces)(r),r.updatePosition(.125),o%15==0&&E(r.pos_curr.x,r.pos_curr.y,5,255-o/2)}(t.clone(),r.clone()),r.divide(8);var i=Math.atan2(e.y-t.y,e.x-t.x),a=new o.default(e.x,e.y);a.x-=Math.cos(i),a.y-=Math.sin(i);for(var s=0;s<=8;s++)E(t.x-r.x*s,t.y-r.y*s,5,255)}}function E(t,e,r,n){c.ctx.beginPath(),c.ctx.arc(t,e,r,0,2*Math.PI,!1),c.ctx.fillStyle="rgba(210, 210, 210, ".concat(n/255,")"),c.ctx.fill(),c.ctx.closePath()}function M(){c.clicked&&(c.ctx.beginPath(),c.ctx.arc(c.pointerPosition.x,c.pointerPosition.y,c.fieldSize,0,2*Math.PI),c.ctx.lineWidth=3,c.ctx.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--grid-color"),c.ctx.stroke(),c.ctx.closePath())}function k(t,e){if(c.clicked&&t.x!=e.x&&t.y!=e.y){var r=Math.atan2(e.y-t.y,e.x-t.x),n=10,i=new o.default(e.x,e.y);i.x-=11.5*Math.cos(r),i.y-=11.5*Math.sin(r),c.ctx.beginPath(),c.ctx.moveTo(t.x,t.y),c.ctx.lineTo(i.x,i.y),c.ctx.strokeStyle="#bbbbbb",c.ctx.lineWidth=10,c.ctx.stroke(),c.ctx.beginPath(),c.ctx.moveTo(i.x,i.y),c.ctx.lineTo(i.x-n*Math.cos(r-Math.PI/7),i.y-n*Math.sin(r-Math.PI/7)),c.ctx.lineTo(i.x-n*Math.cos(r+Math.PI/7),i.y-n*Math.sin(r+Math.PI/7)),c.ctx.lineTo(i.x,i.y),c.ctx.lineTo(i.x-n*Math.cos(r-Math.PI/7),i.y-n*Math.sin(r-Math.PI/7)),c.ctx.strokeStyle="#bbbbbb",c.ctx.lineWidth=10,c.ctx.stroke(),c.ctx.fillStyle="#bbbbbb",c.ctx.fill(),c.ctx.closePath()}}d.bindBuffer(d.ARRAY_BUFFER,_)},"./src/MenuManager.ts":(t,e,r)=>{r.r(e),r.d(e,{closeMenu:()=>u,getPointerFunction:()=>g,openMenu:()=>s,particle_outline:()=>c});var n=r("./src/Drawer.ts"),o=r("./src/script.ts"),i=document.getElementById("menu-button"),a=document.querySelectorAll(".menu-element"),c=1;function s(){"false"==i.getAttribute("open")&&(i.setAttribute("open","true"),i.style.cursor="auto",a.forEach((function(t){setTimeout((function(){t.style.display="block"}),300)})))}function u(){i.setAttribute("open","false"),i.style.cursor="pointer",a.forEach((function(t){t.style.display="none"}))}i.addEventListener("click",(function(t){t.stopPropagation(),s()})),document.querySelector("#theme-switch").addEventListener("click",(function(){var t,e=document.documentElement;t="light"===e.getAttribute("theme")?"dark":"light",e.setAttribute("theme",t),(0,n.drawGrid)(),c=1==c?-1:1}));var d=document.getElementById("field-size-slider"),l=document.getElementById("field-strength-slider"),h=document.getElementById("gravity-strength-slider"),f=document.getElementById("substeps-amount-entry"),p=document.getElementById("particles-amount-entry");function g(){for(var t=document.getElementsByName("cursor-function"),e=0;e<t.length;e++)if(t[e].checked)return t[e].value}d.oninput=function(){(0,o.setFieldSize)(parseInt(d.value))},l.oninput=function(){(0,o.setFieldStrength)(parseInt(l.value))},h.oninput=function(){(0,o.setGravityStrength)(parseInt(h.value))},f.addEventListener("change",(function(){(0,o.setSubsteps)(parseInt(f.value))})),p.addEventListener("change",(function(){(0,o.setParticlesNum)(parseInt(p.value))}))},"./src/Particle.ts":(t,e,r)=>{r.r(e),r.d(e,{default:()=>i});var n=r("./src/Vec2D.ts"),o=r("./src/script.ts");const i=function(){function t(t,e,r,i){this.pos_curr=t,this.pos_prev=this.pos_curr,this.radius=e,this.acceleration=r,this.color=i,this.updateCell(new n.default(Math.floor(this.pos_curr.x/o.gridSize),Math.floor(this.pos_curr.y/o.gridSize)))}return t.prototype.updatePosition=function(t){var e=new n.default(this.pos_curr.x-this.pos_prev.x,this.pos_curr.y-this.pos_prev.y);this.pos_prev=this.pos_curr.clone(),this.pos_curr.add(e),this.acceleration.multiply(t*t),this.pos_curr.add(this.acceleration),this.acceleration.x=0,this.acceleration.y=0},t.prototype.accelerate=function(t){this.acceleration.add(t)},t.prototype.updateCell=function(t){this.gridCell=t},t.canvas=document.getElementById("foreground-canvas"),t.gl=t.canvas.getContext("2d"),t}()},"./src/ShaderHelper.ts":(t,e,r)=>{function n(t,e,r){var n=t.createShader(e);if(t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS))return n;console.log(t.getShaderInfoLog(n)),t.deleteShader(n)}function o(t,e,r){var n=t.createProgram();if(t.attachShader(n,e),t.attachShader(n,r),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS))return n;console.log(t.getProgramInfoLog(n)),t.deleteProgram(n)}function i(t){var e=t.clientWidth,r=t.clientHeight,n=t.width!==e||t.height!==r;return n&&(t.width=e,t.height=r),n}function a(){}r.r(e),r.d(e,{createProgram:()=>o,createShader:()=>n,initParticleShader:()=>a,resizeCanvasToDisplaySize:()=>i})},"./src/Vec2D.ts":(t,e,r)=>{r.r(e),r.d(e,{default:()=>n});const n=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.add=function(t){this.x+=t.x,this.y+=t.y},t.prototype.set=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.subtract=function(t){this.x-=t.x,this.y-=t.y},t.prototype.multiply=function(t){this.x*=t,this.y*=t},t.prototype.divide=function(t){this.x/=t,this.y/=t},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.squaredLength=function(){return this.x*this.x+this.y*this.y},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.difference=function(e){return new t(this.x-e.x,this.y-e.y)},t}()},"./src/script.ts":(t,e,r)=>{r.r(e),r.d(e,{applyAttractorForces:()=>q,applyConstraint:()=>Y,back_ctx:()=>T,clicked:()=>C,ctx:()=>k,drawOutline:()=>b,fieldSize:()=>w,foreground_canvas:()=>m,fps:()=>A,gravity:()=>y,grid:()=>u,gridSize:()=>s,particles:()=>d,pointerPosition:()=>p,setDrawOutline:()=>U,setFieldSize:()=>F,setFieldStrength:()=>R,setGravityStrength:()=>z,setParticlesNum:()=>O,setSubsteps:()=>D});var n=r("./src/Drawer.ts"),o=r("./src/MenuManager.ts"),i=r("./src/Particle.ts"),a=r("./src/ShaderHelper.ts"),c=r("./src/Vec2D.ts"),s=26,u=[],d=[],l=[],h=500,f=0,p=new c.default(0,0),g=new c.default(0,0),v="field",y=new c.default(0,1),m=document.getElementById("foreground-canvas"),x=document.getElementById("background-canvas"),_=document.getElementById("webgl-canvas"),w=100,b=!0,S=10,P=4,E=Math.ceil(m.width/s),M=Math.ceil(m.height/s);m.width=m.getBoundingClientRect().width,m.height=m.getBoundingClientRect().height,x.width=x.getBoundingClientRect().width,x.height=x.getBoundingClientRect().height,_.width=_.getBoundingClientRect().width,_.height=_.getBoundingClientRect().height;var k=m.getContext("2d"),T=x.getContext("2d"),A=60,C=!1,B=document.createElement("div");B.style.position="absolute",B.style.top="10px",B.style.left="10px";var I=document.createElement("div");I.style.position="absolute",I.style.top="30px",I.style.left="10px";var L=document.createElement("div");function R(t){S=t}function F(t){w=t}function z(t){y=new c.default(0,.1*t)}function D(t){P=t}function O(t){h=t}function U(t){b=t}function G(){E=Math.ceil(m.width/s),M=Math.ceil(m.height/s),console.log(E),console.log(M);for(var t=0;t<E;t++){u[t]=[];for(var e=0;e<M;e++)u[t][e]=[]}}function V(t){!function(){for(var t=0;t<E;t++){u[t]=[];for(var e=0;e<M;e++)u[t][e]=[]}}(),d.forEach((function(e){e.updatePosition(t),function(t){var e=Math.floor(t.pos_curr.x/s),r=Math.floor(t.pos_curr.y/s);e>=0&&e<u.length&&r>=0&&r<u[e].length&&u[e][r].push(t)}(e)}))}function N(t){d.forEach((function(e){var r=t.difference(e.pos_curr),n=r.length();n<w&&n>10&&(r.multiply(100*S),r.divide(n*n),e.accelerate(r))}))}function q(t){l.forEach((function(e){var r=e.pos.difference(t.pos_curr),n=r.length();n<e.radius&&n>10&&(r.multiply(e.force),r.divide(n*n),t.accelerate(r))}))}function H(){f=0;var t=new c.default(0,0),e=0,r=0;d.forEach((function(n){(function(t){for(var e=Math.floor(t.pos_curr.x/s),r=Math.floor(t.pos_curr.y/s),n=[],o=e-1;o<=e+1;o++)for(var i=r-1;i<=r+1;i++)o>=0&&o<u.length&&i>=0&&i<u[o].length&&n.push.apply(n,u[o][i]);return n})(n).forEach((function(o){if(n!==o&&(t.set(n.pos_curr).subtract(o.pos_curr),e=t.squaredLength(),r=n.radius+o.radius,e<r*r&&0!=e)){f++;var i=Math.sqrt(e);t.divide(i);var a=r-i;t.multiply(.5*a),n.pos_curr.add(t),o.pos_curr.subtract(t)}}))}))}function Y(t){t.pos_curr.y+t.radius>m.height&&(t.pos_curr.y=m.height-t.radius,t.pos_prev.y=t.pos_curr.y+t.pos_curr.y-t.pos_prev.y),t.pos_curr.y-t.radius<0&&(t.pos_curr.y=t.radius,t.pos_prev.y=t.pos_curr.y+t.pos_curr.y-t.pos_prev.y),t.pos_curr.x-t.radius<0&&(t.pos_curr.x=t.radius,t.pos_prev.x=t.pos_curr.x+t.pos_curr.x-t.pos_prev.x),t.pos_curr.x+t.radius>m.width&&(t.pos_curr.x=m.width-t.radius)}L.style.position="absolute",L.style.top="50px",L.style.left="10px",document.body.appendChild(B),document.body.appendChild(I),document.body.appendChild(L);var W=0,X=.1*performance.now();function j(t){t.stopPropagation(),C=!0,v=(0,o.getPointerFunction)(),t instanceof MouseEvent?(p.x=t.clientX,p.y=t.clientY):t instanceof TouchEvent&&(p.x=t.touches[0].clientX,p.y=t.touches[0].clientY),g.x=p.x,g.y=p.y}function K(t){switch(t.stopPropagation(),C=!1,v){case"field":case"gravity":break;case"throw":var e=g.difference(p);e.multiply(A/60),d.push(new i.default(g.clone(),15,e,J()))}}function J(){return{r:Math.random(),g:Math.random(),b:Math.random()}}function Q(t){t.stopPropagation(),C&&(t instanceof MouseEvent?(p.x=t.clientX,p.y=t.clientY):t instanceof TouchEvent&&(p.x=t.touches[0].clientX,p.y=t.touches[0].clientY))}var Z=0,$=document.getElementById("main_container");window.addEventListener("resize",(function(){m.width=m.getBoundingClientRect().width,m.height=m.getBoundingClientRect().height,x.width=x.getBoundingClientRect().width,x.height=x.getBoundingClientRect().height,_.width=_.getBoundingClientRect().width,_.height=_.getBoundingClientRect().height,(0,a.initParticleShader)(),G(),(0,n.drawGrid)()})),$.addEventListener("mousedown",j),$.addEventListener("mouseup",K),$.addEventListener("mousemove",Q),$.addEventListener("touchstart",j),$.addEventListener("touchend",K),$.addEventListener("touchmove",Q),$.addEventListener("click",(function(t){t.stopPropagation(),(0,o.closeMenu)()})),(0,a.initParticleShader)(),G(),(0,n.drawGrid)(),requestAnimationFrame((function t(){switch(function(t){for(var e=P,r=t/e,n=0;n<e;n++){if(0!=y.y&&d.forEach((function(t){t.accelerate(y)})),C)switch(v){case"field":N(p);break;case"gravity":(y=p.difference(g)).divide(200)}d.forEach((function(t){Y(t)})),H(),V(r)}}(.5/A*60),k.clearRect(0,0,m.width,m.height),(0,n.drawParticles)(),v){case"field":(0,n.drawLasso)();break;case"gravity":(0,n.drawArrow)(g,p);break;case"throw":(0,n.drawTail)(g,p)}var e=.016666*A;Z%Math.floor(2*e)==0&&d.length<h&&Z>120&&(d.push(new i.default(new c.default(200,200),s/2,new c.default(200*e,-80*e),J())),d.push(new i.default(new c.default(200,260),s/2,new c.default(180*e,-80*e),J())),d.push(new i.default(new c.default(200,320),s/2,new c.default(170*e,-80*e),J())),d.push(new i.default(new c.default(200,380),s/2,new c.default(180*e,-80*e),J())),d.push(new i.default(new c.default(200,440),s/2,new c.default(170*e,-80*e),J())),(0,n.setGeometry)()),Z++,++W%10==0&&(A=function(){var t=.1*performance.now(),e=t-X,r=Math.round(1e3/e);return X=t,r}(),B.innerText="FPS: ".concat(A),I.innerText="Particles: ".concat(d.length),L.innerText="Collisions: ".concat(f)),requestAnimationFrame(t)}))},"./src/shaders/particleFragmentShader.frag":t=>{t.exports="precision mediump float;\r\n\r\nuniform vec2 u_resolution;\r\n\r\nuniform vec3 u_color;\r\nuniform float u_radius;\r\nuniform vec2 u_translation;\r\nuniform float u_outline_black;\r\nfloat mask(in vec2 _st, in float _radius){\r\n    vec2 dist = _st;\r\n    return 1.-smoothstep(_radius-(_radius*0.15),\r\n                         _radius+(_radius*0.15),\r\n                         dot(dist,dist)*3.9);\r\n}\r\n\r\n\r\nvec3 circle(in vec2 _st, in float radius, in vec3 color) {\r\n\tvec2 dist = _st;\r\n\treturn smoothstep(\r\n\t\tradius + (radius * 0.15),\r\n\t\tradius -(radius * 0.15),\r\n\t\tdot(dist, dist) * 3.9) * color + u_outline_black * (smoothstep(\r\n\t\tradius - (radius * 0.15),\r\n\t\tradius +(radius * 0.15),\r\n\t\tdot(dist, dist) * 5.3));\r\n}\r\nvoid main(){\r\n \tvec2 st =  (gl_FragCoord.xy - u_translation*vec2(1., -1.) - u_resolution*vec2(0.,1.)) / u_radius; \r\n\r\n\tvec3 color = circle(st,4.0, u_color);\r\n\r\n\tgl_FragColor = vec4(color, mask(st, 4.0));\r\n}"},"./src/shaders/particleVertexShader.vert":t=>{t.exports="precision mediump float;\r\n\r\nattribute vec2 a_position;\r\n\r\n// attribute vec3 color;\r\n// varying vec3 v_color;\r\nuniform vec2 u_resolution;\r\nuniform vec2 u_translation;\r\n\r\nvoid main() {\r\n    //move the position of the shader\r\n    vec2 position = a_position + u_translation ;\r\n\r\n    // convert the position from pixels to 0.0 to 1.0\r\n    vec2 zeroToOne = position / u_resolution;\r\n\r\n    // convert from 0->1 to 0->2\r\n    vec2 zeroToTwo = zeroToOne * 2.0;\r\n\r\n    // convert from 0->2 to -1->+1 (clipspace)\r\n    vec2 clipSpace = zeroToTwo - 1.0;\r\n\r\n    gl_Position = vec4(clipSpace * vec2(1., -1.), 0, 1);\r\n\r\n    // // Pass the vertex color to the fragment shader.\r\n    // v_position = a_position;\r\n}"}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r("./src/script.ts"),r("./src/MenuManager.ts")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWFFLFFBR3JCLElBQUlDLEVBQVNOLEVBQXlCRSxHQUFZLENBR2pERyxRQUFTLENBQUMsR0FPWCxPQUhBRSxFQUFvQkwsR0FBVUksRUFBUUEsRUFBT0QsUUFBU0osR0FHL0NLLEVBQU9ELE9BQ2YsQ0NyQkFKLEVBQW9CTyxFQUFJLENBQUNILEVBQVNJLEtBQ2pDLElBQUksSUFBSUMsS0FBT0QsRUFDWFIsRUFBb0JVLEVBQUVGLEVBQVlDLEtBQVNULEVBQW9CVSxFQUFFTixFQUFTSyxJQUM1RUUsT0FBT0MsZUFBZVIsRUFBU0ssRUFBSyxDQUFFSSxZQUFZLEVBQU1DLElBQUtOLEVBQVdDLElBRTFFLEVDTkRULEVBQW9CVSxFQUFJLENBQUNLLEVBQUtDLElBQVVMLE9BQU9NLFVBQVVDLGVBQWVDLEtBQUtKLEVBQUtDLEdDQ2xGaEIsRUFBb0IxTixFQUFLOE4sSUFDSCxvQkFBWGdCLFFBQTBCQSxPQUFPQyxhQUMxQ1YsT0FBT0MsZUFBZVIsRUFBU2dCLE9BQU9DLFlBQWEsQ0FBRXZKLE1BQU8sV0FFN0Q2SSxPQUFPQyxlQUFlUixFQUFTLGFBQWMsQ0FBRXRJLE9BQU8sR0FBTyxFQ0Y5RGtJLEVBQW9CLG1CQUNNQSxFQUFvQiIsInNvdXJjZXMiOlsid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvRHJhd2VyLnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvTWVudU1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi8uL3NyYy9QYXJ0aWNsZS50cyIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyLy4vc3JjL1NoYWRlckhlbHBlci50cyIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyLy4vc3JjL1ZlYzJELnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvc2NyaXB0LnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUGFydGljbGUgZnJvbSBcIi4vUGFydGljbGVcIjtcclxuaW1wb3J0IFZlYzJEIGZyb20gXCIuL1ZlYzJEXCI7XHJcbmltcG9ydCBwYXJ0aWNsZUZyYWdtZW50U2hhZGVyIGZyb20gXCIuL3NoYWRlcnMvcGFydGljbGVGcmFnbWVudFNoYWRlci5mcmFnXCI7XHJcbmltcG9ydCBwYXJ0aWNsZVZlcnRleFNoYWRlciBmcm9tIFwiLi9zaGFkZXJzL3BhcnRpY2xlVmVydGV4U2hhZGVyLnZlcnRcIjtcclxuXHJcbmltcG9ydCB7IGJhY2tfY3R4LCBjdHgsIGZvcmVncm91bmRfY2FudmFzLCBwYXJ0aWNsZXMsIGdyaWRTaXplLCBwb2ludGVyUG9zaXRpb24sIGZpZWxkU2l6ZSwgY2xpY2tlZCwgZHJhd091dGxpbmUsIGdyYXZpdHksIGZwcywgYXBwbHlDb25zdHJhaW50LCBhcHBseUF0dHJhY3RvckZvcmNlcywgZ3JpZCB9IGZyb20gXCIuL3NjcmlwdFwiO1xyXG5pbXBvcnQgeyBjcmVhdGVQcm9ncmFtLCBjcmVhdGVTaGFkZXIsIGluaXRQYXJ0aWNsZVNoYWRlciwgcmVzaXplQ2FudmFzVG9EaXNwbGF5U2l6ZSB9IGZyb20gXCIuL1NoYWRlckhlbHBlclwiO1xyXG5pbXBvcnQgeyBwYXJ0aWNsZV9vdXRsaW5lIH0gZnJvbSBcIi4vTWVudU1hbmFnZXJcIjtcclxuXHJcblxyXG52YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dlYmdsLWNhbnZhcycpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG52YXIgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dChcIndlYmdsXCIpO1xyXG5cclxuaWYgKCFnbCkge1xyXG4gIGNvbnNvbGUuZXJyb3IoXCJVbmFibGUgdG8gaW5pdGlhbGl6ZSBXZWJHTC4gWW91ciBicm93c2VyIG1heSBub3Qgc3VwcG9ydCBpdC5cIik7XHJcbn1cclxuXHJcbi8vZW5hbGJpbmcgYmxlbmRpbmcgZm9yIHByb3BlciBhbHBoYSBvbiB0aGUgcGFydGljbGVzXHJcbmdsLmVuYWJsZShnbC5CTEVORCk7XHJcbmdsLmJsZW5kRnVuYyhnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEpO1xyXG5cclxuLy9jb21waWxpbmcgdGhlIHNoYWRlcnMgd2l0aCBhIGhlbHBlciBmdW5jdGlvblxyXG52YXIgdmVydGV4U2hhZGVyID0gY3JlYXRlU2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCBwYXJ0aWNsZVZlcnRleFNoYWRlcik7XHJcbnZhciBmcmFnbWVudFNoYWRlciA9IGNyZWF0ZVNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBwYXJ0aWNsZUZyYWdtZW50U2hhZGVyKTtcclxuXHJcbi8vY3JlYXRpbmcgYSBXZWJHTCBwcm9ncmFtIGFuZCBhdHRhY2hpbmcgdGhlIHNoYWRlcnMgdG8gaXQgd2l0aCBhIGhlbHBlciBmdW5jdGlvblxyXG52YXIgcHJvZ3JhbSA9IGNyZWF0ZVByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIpO1xyXG5cclxuLy9sb29raW5nIHVwIHVuaWZvcm0gbG9jYXRpb24gYW5kIHdoZXJlIHRoZSB2ZXJ0ZXggZGF0YSBuZWVkcyB0byBnb1xyXG52YXIgcG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIFwiYV9wb3NpdGlvblwiKTtcclxudmFyIHJlc29sdXRpb25Vbmlmb3JtTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgXCJ1X3Jlc29sdXRpb25cIik7XHJcbnZhciBjb2xvclVuaWZvcm1Mb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCBcInVfY29sb3JcIik7XHJcbnZhciB0cmFuc2xhdGlvbkxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sIFwidV90cmFuc2xhdGlvblwiKTtcclxudmFyIHJhZGl1c1VuaWZvcm1Mb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCBcInVfcmFkaXVzXCIpO1xyXG52YXIgb3V0bGluZVVuaWZvcm1Mb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCBcInVfb3V0bGluZV9ibGFja1wiKTtcclxuZ2wudW5pZm9ybTJmKHJlc29sdXRpb25Vbmlmb3JtTG9jYXRpb24sIGdsLmNhbnZhcy53aWR0aCwgZ2wuY2FudmFzLmhlaWdodCk7XHJcbnZhciBwb3NpdGlvbkJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG5nbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcG9zaXRpb25CdWZmZXIpO1xyXG5cclxuZnVuY3Rpb24gc2V0UmVjdGFuZ2xlKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHg6bnVtYmVyLCB5Om51bWJlciwgd2lkdGg6bnVtYmVyLCBoZWlnaHQ6bnVtYmVyKSB7XHJcbiAgdmFyIHgxID0geCAtIHdpZHRoIC8gMjtcclxuICB2YXIgeDIgPSB4ICsgd2lkdGggLyAyO1xyXG4gIHZhciB5MSA9IHkgLSBoZWlnaHQgLyAyO1xyXG4gIHZhciB5MiA9IHkgKyBoZWlnaHQgLyAyO1xyXG4gXHJcbiAgLy8gTk9URTogZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIC4uLikgd2lsbCBhZmZlY3RcclxuICAvLyB3aGF0ZXZlciBidWZmZXIgaXMgYm91bmQgdG8gdGhlIGBBUlJBWV9CVUZGRVJgIGJpbmQgcG9pbnRcclxuICAvLyBidXQgc28gZmFyIHdlIG9ubHkgaGF2ZSBvbmUgYnVmZmVyLiBJZiB3ZSBoYWQgbW9yZSB0aGFuIG9uZVxyXG4gIC8vIGJ1ZmZlciB3ZSdkIHdhbnQgdG8gYmluZCB0aGF0IGJ1ZmZlciB0byBgQVJSQVlfQlVGRkVSYCBmaXJzdC5cclxuIFxyXG4gIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KFtcclxuICAgICB4MSwgeTEsXHJcbiAgICAgeDIsIHkxLFxyXG4gICAgIHgxLCB5MixcclxuICAgICB4MSwgeTIsXHJcbiAgICAgeDIsIHkxLFxyXG4gICAgIHgyLCB5Ml0pLCBnbC5TVEFUSUNfRFJBVyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRHZW9tZXRyeSgpe1xyXG4gIHBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgc2V0UmVjdGFuZ2xlKFxyXG4gICAgICBnbCwgMCwgMCwgZ3JpZFNpemUsIGdyaWRTaXplKTtcclxuICB9KTtcclxuXHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdQYXJ0aWNsZXMoKSB7XHJcbiAgcmVzaXplQ2FudmFzVG9EaXNwbGF5U2l6ZShnbC5jYW52YXMpO1xyXG5cclxuICAvLyBUZWxsIFdlYkdMIGhvdyB0byBjb252ZXJ0IGZyb20gY2xpcCBzcGFjZSB0byBwaXhlbHNcclxuICBnbC52aWV3cG9ydCgwLCAwLCBnbC5jYW52YXMud2lkdGgsIGdsLmNhbnZhcy5oZWlnaHQpO1xyXG5cclxuICAvLyBDbGVhciB0aGUgY2FudmFzXHJcbiAgZ2wuY2xlYXJDb2xvcigwLCAwLCAwLCAwKTsgLy8gQ2xlYXIgdG8gdHJhbnNwYXJlbnQgYmxhY2tcclxuICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUKTtcclxuXHJcbiAgLy8gVGVsbCBpdCB0byB1c2UgcHJvZ3JhbSAocGFpciBvZiBzaGFkZXJzKVxyXG4gIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XHJcblxyXG4gIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24pO1xyXG5cclxuICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcG9zaXRpb25CdWZmZXIpO1xyXG4gIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIocG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbiwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcclxuXHJcbiAgLy8gRHJhdyB0aGUgcmVjdGFuZ2xlLlxyXG4gIHBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgICBnbC51bmlmb3JtMmYocmVzb2x1dGlvblVuaWZvcm1Mb2NhdGlvbiwgZ2wuY2FudmFzLndpZHRoLCBnbC5jYW52YXMuaGVpZ2h0KTtcclxuICAgICAgZ2wudW5pZm9ybTJmKHRyYW5zbGF0aW9uTG9jYXRpb24sIHBhcnRpY2xlLnBvc19jdXJyLngsIHBhcnRpY2xlLnBvc19jdXJyLnkpO1xyXG4gICAgICBnbC51bmlmb3JtM2YoY29sb3JVbmlmb3JtTG9jYXRpb24sIHBhcnRpY2xlLmNvbG9yLnIscGFydGljbGUuY29sb3IuZywgcGFydGljbGUuY29sb3IuYik7XHJcbiAgICAgIGdsLnVuaWZvcm0xZihyYWRpdXNVbmlmb3JtTG9jYXRpb24sIGdyaWRTaXplLzIpXHJcbiAgICAgIGdsLnVuaWZvcm0xZihvdXRsaW5lVW5pZm9ybUxvY2F0aW9uLCBwYXJ0aWNsZV9vdXRsaW5lKTtcclxuICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRVMsIDAsIDYpO1xyXG4gIH0pO1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdHcmlkKCkge1xyXG5cclxuICBiYWNrX2N0eC5jbGVhclJlY3QoMCwgMCwgZm9yZWdyb3VuZF9jYW52YXMud2lkdGgsIGZvcmVncm91bmRfY2FudmFzLmhlaWdodCk7XHJcblxyXG4gIGJhY2tfY3R4LnN0cm9rZVN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoJy0tZ3JpZC1jb2xvcicpO1xyXG4gIGJhY2tfY3R4LmxpbmVXaWR0aCA9IDE7XHJcbiAgZm9yIChsZXQgeCA9IGdyaWRTaXplOyB4IDwgZm9yZWdyb3VuZF9jYW52YXMud2lkdGg7IHggKz0gZ3JpZFNpemUpIHtcclxuICAgIGJhY2tfY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgYmFja19jdHgubW92ZVRvKHgsIDApO1xyXG4gICAgYmFja19jdHgubGluZVRvKHgsIGZvcmVncm91bmRfY2FudmFzLmhlaWdodCk7XHJcbiAgICBiYWNrX2N0eC5zdHJva2UoKTtcclxuICB9XHJcbiAgZm9yIChsZXQgeSA9IGdyaWRTaXplOyB5IDwgZm9yZWdyb3VuZF9jYW52YXMuaGVpZ2h0OyB5ICs9IGdyaWRTaXplKSB7XHJcbiAgICBiYWNrX2N0eC5iZWdpblBhdGgoKTtcclxuICAgIGJhY2tfY3R4Lm1vdmVUbygwLCB5KTtcclxuICAgIGJhY2tfY3R4LmxpbmVUbyhmb3JlZ3JvdW5kX2NhbnZhcy53aWR0aCwgeSk7XHJcbiAgICBiYWNrX2N0eC5zdHJva2UoKTtcclxuICB9XHJcbiAgLy9ERUJVR1xyXG4gIC8vICAgZm9yIChsZXQgeCA9IDA7IHggPCBncmlkLmxlbmd0aDsgeCArPSAxKSB7XHJcblxyXG4gIC8vICAgZm9yIChsZXQgeSA9IDA7IHkgPCBncmlkWzBdLmxlbmd0aDsgeSArPSAxKSB7XHJcbiAgLy8gICAgIGJhY2tfY3R4LmZvbnQgPSBcIjEycHggc2VyaWZcIjtcclxuXHJcbiAgLy8gICAgIGJhY2tfY3R4LmZpbGxUZXh0KGAke2dyaWRbeF1beV0ubGVuZ3RofWAsICh4KzEpKmdyaWRTaXplIC0gZ3JpZFNpemUvMiAtIDIsICh5KzEpKmdyaWRTaXplIC1ncmlkU2l6ZS8yICsgNCk7XHJcbiAgLy8gICAgIC8vIGJhY2tfY3R4LmZpbGxUZXh0KGAke3h9ICR7eX1gLCAoeCsxKSpncmlkU2l6ZSAtIGdyaWRTaXplLzIgLSAyLCAoeSsxKSpncmlkU2l6ZSAtZ3JpZFNpemUvMiArIDQpO1xyXG4gIC8vICAgfVxyXG4gIC8vIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdUYWlsKGZyb206IFZlYzJELCB0bzogVmVjMkQpIHtcclxuICBpZiAoY2xpY2tlZCAmJiBmcm9tLnggIT0gdG8ueCAmJiBmcm9tLnkgIT0gdG8ueSkge1xyXG4gICAgY29uc3QgZG90U2l6ZSA9IDU7XHJcbiAgICBjb25zdCBkb3RDb3VudCA9IDg7XHJcbiAgICBjb25zdCBkaXN0YW5jZSA9IGZyb20uZGlmZmVyZW5jZSh0byk7XHJcbiAgICBkcmF3UHJlZGljdGVkUGF0aChmcm9tLmNsb25lKCksIGRpc3RhbmNlLmNsb25lKCkpXHJcbiAgICBkaXN0YW5jZS5kaXZpZGUoZG90Q291bnQpO1xyXG4gICAgdmFyIGFuZ2xlID0gTWF0aC5hdGFuMih0by55IC0gZnJvbS55LCB0by54IC0gZnJvbS54KTtcclxuICAgIHZhciBuZXdfdG8gPSBuZXcgVmVjMkQodG8ueCwgdG8ueSk7XHJcblxyXG4gICAgbmV3X3RvLnggLT0gTWF0aC5jb3MoYW5nbGUpO1xyXG4gICAgbmV3X3RvLnkgLT0gTWF0aC5zaW4oYW5nbGUpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IGRvdENvdW50OyBpKyspIHtcclxuICAgICAgdmFyIGRvdFggPSBmcm9tLnggLSBkaXN0YW5jZS54ICogaTtcclxuICAgICAgdmFyIGRvdFkgPSBmcm9tLnkgLSBkaXN0YW5jZS55ICogaTtcclxuICAgICAgZHJhd0RvdChkb3RYLCBkb3RZLCBkb3RTaXplLCAyNTUpO1xyXG4gICAgfVxyXG5cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYXdQcmVkaWN0ZWRQYXRoKHN0YXJ0UG9zOiBWZWMyRCwgdmVjOiBWZWMyRCkge1xyXG4gIGxldCBkb3RDb3VudCA9IDUxMDtcclxuICBsZXQgcHJlZGljdGVkRG90ID0gbmV3IFBhcnRpY2xlKHN0YXJ0UG9zLCAxNSwgdmVjLCB7cjowLCBnOjAsIGI6MH0pXHJcbiAgZm9yIChsZXQgaSA9IDE7IGkgPD0gZG90Q291bnQ7IGkrKykge1xyXG5cclxuICAgIHByZWRpY3RlZERvdC5hY2NlbGVyYXRlKGdyYXZpdHkpO1xyXG4gICAgYXBwbHlDb25zdHJhaW50KHByZWRpY3RlZERvdCk7XHJcbiAgICBhcHBseUF0dHJhY3RvckZvcmNlcyhwcmVkaWN0ZWREb3QpO1xyXG4gICAgcHJlZGljdGVkRG90LnVwZGF0ZVBvc2l0aW9uKDAuNSAqIDAuMjUpO1xyXG5cclxuICAgIGlmIChpICUgMTUgPT0gMCkge1xyXG4gICAgICBkcmF3RG90KHByZWRpY3RlZERvdC5wb3NfY3Vyci54LCBwcmVkaWN0ZWREb3QucG9zX2N1cnIueSwgNSwgMjU1IC0gaSAvIDIpXHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkcmF3RG90KGRvdFg6IG51bWJlciwgZG90WTogbnVtYmVyLCBkb3RTaXplOiBudW1iZXIsIG9wYWNpdHk6IG51bWJlcikge1xyXG4gIGN0eC5iZWdpblBhdGgoKTtcclxuICBjdHguYXJjKFxyXG4gICAgZG90WCxcclxuICAgIGRvdFksXHJcbiAgICBkb3RTaXplLFxyXG4gICAgMCxcclxuICAgIDIgKiBNYXRoLlBJLFxyXG4gICAgZmFsc2VcclxuICApO1xyXG5cclxuICBjdHguZmlsbFN0eWxlID0gYHJnYmEoMjEwLCAyMTAsIDIxMCwgJHtvcGFjaXR5IC8gMjU1fSlgO1xyXG4gIGN0eC5maWxsKCk7XHJcblxyXG4gIGN0eC5jbG9zZVBhdGgoKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdMYXNzbygpIHtcclxuICBpZiAoY2xpY2tlZCkge1xyXG4gICAgY29uc3QgbGluZVdpZHRoID0gMztcclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5hcmMocG9pbnRlclBvc2l0aW9uLngsIHBvaW50ZXJQb3NpdGlvbi55LCBmaWVsZFNpemUsIDAsIDIgKiBNYXRoLlBJKTtcclxuICAgIGN0eC5saW5lV2lkdGggPSBsaW5lV2lkdGg7XHJcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZSgnLS1ncmlkLWNvbG9yJyk7XHJcbiAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBkcmF3QXJyb3coZnJvbTogVmVjMkQsIHRvOiBWZWMyRCkge1xyXG4gIGlmIChjbGlja2VkICYmIGZyb20ueCAhPSB0by54ICYmIGZyb20ueSAhPSB0by55KSB7XHJcbiAgICB2YXIgYW5nbGUgPSBNYXRoLmF0YW4yKHRvLnkgLSBmcm9tLnksIHRvLnggLSBmcm9tLngpO1xyXG4gICAgY29uc3Qgd2lkdGggPSAxMDtcclxuICAgIHZhciBoZWFkbGVuID0gMTA7XHJcbiAgICB2YXIgbmV3X3RvID0gbmV3IFZlYzJEKHRvLngsIHRvLnkpO1xyXG4gICAgLy8gVGhpcyBtYWtlcyBpdCBzbyB0aGUgZW5kIG9mIHRoZSBhcnJvdyBoZWFkIGlzIGxvY2F0ZWQgYXQgdG94LCB0b3ksIGRvbid0IGFzayB3aGVyZSAxLjE1IGNvbWVzIGZyb21cclxuICAgIG5ld190by54IC09IE1hdGguY29zKGFuZ2xlKSAqICgod2lkdGggKiAxLjE1KSk7XHJcbiAgICBuZXdfdG8ueSAtPSBNYXRoLnNpbihhbmdsZSkgKiAoKHdpZHRoICogMS4xNSkpO1xyXG5cclxuXHJcblxyXG4gICAgLy9zdGFydGluZyBwYXRoIG9mIHRoZSBhcnJvdyBmcm9tIHRoZSBzdGFydCBzcXVhcmUgdG8gdGhlIGVuZCBzcXVhcmUgYW5kIGRyYXdpbmcgdGhlIHN0cm9rZVxyXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgY3R4Lm1vdmVUbyhmcm9tLngsIGZyb20ueSk7XHJcbiAgICBjdHgubGluZVRvKG5ld190by54LCBuZXdfdG8ueSk7XHJcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIiNiYmJiYmJcIjtcclxuICAgIGN0eC5saW5lV2lkdGggPSB3aWR0aDtcclxuICAgIGN0eC5zdHJva2UoKTtcclxuXHJcbiAgICAvL3N0YXJ0aW5nIGEgbmV3IHBhdGggZnJvbSB0aGUgaGVhZCBvZiB0aGUgYXJyb3cgdG8gb25lIG9mIHRoZSBzaWRlcyBvZiB0aGUgcG9pbnRcclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5tb3ZlVG8obmV3X3RvLngsIG5ld190by55KTtcclxuICAgIGN0eC5saW5lVG8obmV3X3RvLnggLSBoZWFkbGVuICogTWF0aC5jb3MoYW5nbGUgLSBNYXRoLlBJIC8gNyksIG5ld190by55IC0gaGVhZGxlbiAqIE1hdGguc2luKGFuZ2xlIC0gTWF0aC5QSSAvIDcpKTtcclxuXHJcbiAgICAvL3BhdGggZnJvbSB0aGUgc2lkZSBwb2ludCBvZiB0aGUgYXJyb3csIHRvIHRoZSBvdGhlciBzaWRlIHBvaW50XHJcbiAgICBjdHgubGluZVRvKG5ld190by54IC0gaGVhZGxlbiAqIE1hdGguY29zKGFuZ2xlICsgTWF0aC5QSSAvIDcpLCBuZXdfdG8ueSAtIGhlYWRsZW4gKiBNYXRoLnNpbihhbmdsZSArIE1hdGguUEkgLyA3KSk7XHJcblxyXG4gICAgLy9wYXRoIGZyb20gdGhlIHNpZGUgcG9pbnQgYmFjayB0byB0aGUgdGlwIG9mIHRoZSBhcnJvdywgYW5kIHRoZW4gYWdhaW4gdG8gdGhlIG9wcG9zaXRlIHNpZGUgcG9pbnRcclxuICAgIGN0eC5saW5lVG8obmV3X3RvLngsIG5ld190by55KTtcclxuICAgIGN0eC5saW5lVG8obmV3X3RvLnggLSBoZWFkbGVuICogTWF0aC5jb3MoYW5nbGUgLSBNYXRoLlBJIC8gNyksIG5ld190by55IC0gaGVhZGxlbiAqIE1hdGguc2luKGFuZ2xlIC0gTWF0aC5QSSAvIDcpKTtcclxuXHJcbiAgICAvL2RyYXdzIHRoZSBwYXRocyBjcmVhdGVkIGFib3ZlXHJcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIiNiYmJiYmJcIjtcclxuICAgIGN0eC5saW5lV2lkdGggPSB3aWR0aDtcclxuICAgIGN0eC5zdHJva2UoKTtcclxuICAgIGN0eC5maWxsU3R5bGUgPSBcIiNiYmJiYmJcIjtcclxuICAgIGN0eC5maWxsKCk7XHJcbiAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgZHJhd0dyaWR9IGZyb20gXCIuL0RyYXdlclwiO1xyXG5pbXBvcnQgeyBzZXRGaWVsZFNpemUsIHNldEZpZWxkU3RyZW5ndGgsIHNldEdyYXZpdHlTdHJlbmd0aCwgc2V0U3Vic3RlcHMsIHNldFBhcnRpY2xlc051bSwgc2V0RHJhd091dGxpbmV9IGZyb20gXCIuL3NjcmlwdFwiO1xyXG5cclxuY29uc3QgbWVudV9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1lbnUtYnV0dG9uXCIpO1xyXG5jb25zdCBtZW51X2VsZW1lbnRzOiBOb2RlTGlzdE9mPEhUTUxFbGVtZW50PiA9ICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1lbnUtZWxlbWVudFwiKTtcclxuZXhwb3J0IHZhciBwYXJ0aWNsZV9vdXRsaW5lID0gMTtcclxubWVudV9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCl7XHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIG9wZW5NZW51KCk7XHJcbn0pO1xyXG5cclxuY29uc3Qgc3dpdGNoVGhlbWUgPSAoKSA9PiB7XHJcbiAgICBjb25zdCByb290RWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxyXG4gICAgbGV0IHRoZW1lID0gcm9vdEVsZW0uZ2V0QXR0cmlidXRlKCd0aGVtZScpLFxyXG4gICAgICBuZXdUaGVtZVxyXG4gICAgbmV3VGhlbWUgPSAodGhlbWUgPT09ICdsaWdodCcpID8gJ2RhcmsnIDogJ2xpZ2h0J1xyXG4gIFxyXG4gICAgcm9vdEVsZW0uc2V0QXR0cmlidXRlKCd0aGVtZScsIG5ld1RoZW1lKVxyXG4gICAgZHJhd0dyaWQoKTtcclxuICAgIHBhcnRpY2xlX291dGxpbmUgPSAocGFydGljbGVfb3V0bGluZSA9PSAxKSA/IC0xIDogMTtcclxuICAgIC8vIHVwZGF0ZUNvbG9yKCk7XHJcbiAgfVxyXG5cclxuXHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0aGVtZS1zd2l0Y2gnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHN3aXRjaFRoZW1lKTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBvcGVuTWVudSgpIHtcclxuICAgIGlmIChtZW51X2J1dHRvbi5nZXRBdHRyaWJ1dGUoXCJvcGVuXCIpID09IFwiZmFsc2VcIikge1xyXG4gICAgICAgIC8vIG1lbnVfYnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3Blbk1lbnUpXHJcbiAgICAgICAgbWVudV9idXR0b24uc2V0QXR0cmlidXRlKFwib3BlblwiLCBcInRydWVcIik7XHJcbiAgICAgICAgbWVudV9idXR0b24uc3R5bGUuY3Vyc29yID0gXCJhdXRvXCI7XHJcbiAgICAgICAgLy8gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gICAgIG1lbnVfZWxlbWVudHMuaXRlbSgwKS5zdHlsZS5kaXNwbGF5PSBcImlubGluZS1ibG9ja1wiO1xyXG4gICAgICAgIC8vIH0sIDMwMCk7XHJcblxyXG4gICAgICAgIG1lbnVfZWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgICAgIH0sIDMwMCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbG9zZU1lbnUoKSB7XHJcbiAgICBtZW51X2J1dHRvbi5zZXRBdHRyaWJ1dGUoXCJvcGVuXCIsIFwiZmFsc2VcIik7XHJcbiAgICBtZW51X2J1dHRvbi5zdHlsZS5jdXJzb3IgPSBcInBvaW50ZXJcIjtcclxuICAgIG1lbnVfZWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH0pO1xyXG5cclxufVxyXG5cclxudmFyIGZpZWxkX3NpemVfc2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaWVsZC1zaXplLXNsaWRlclwiKSAgYXMgSFRNTElucHV0RWxlbWVudDtcclxudmFyIGZpZWxkX3N0cmVuZ3RoX3NsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmllbGQtc3RyZW5ndGgtc2xpZGVyXCIpICBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG52YXIgZ3Jhdml0eV9zdHJlbmd0aF9zbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdyYXZpdHktc3RyZW5ndGgtc2xpZGVyXCIpICBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG52YXIgc3Vic3RlcHNfYW1vdW50X2VudHJ5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdWJzdGVwcy1hbW91bnQtZW50cnlcIikgYXMgSFRNTElucHV0RWxlbWVudDtcclxudmFyIHBhcnRpY2xlc19hbW91bnRfZW50cnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhcnRpY2xlcy1hbW91bnQtZW50cnlcIikgYXMgSFRNTElucHV0RWxlbWVudDtcclxuLy8gdmFyIG91dGxpbmVfY2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRyYXdPdXRsaW5lXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG5maWVsZF9zaXplX3NsaWRlci5vbmlucHV0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBzZXRGaWVsZFNpemUocGFyc2VJbnQoZmllbGRfc2l6ZV9zbGlkZXIudmFsdWUpKTtcclxuICB9XHJcblxyXG5maWVsZF9zdHJlbmd0aF9zbGlkZXIub25pbnB1dCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgc2V0RmllbGRTdHJlbmd0aChwYXJzZUludChmaWVsZF9zdHJlbmd0aF9zbGlkZXIudmFsdWUpKTtcclxuICB9XHJcblxyXG5ncmF2aXR5X3N0cmVuZ3RoX3NsaWRlci5vbmlucHV0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBzZXRHcmF2aXR5U3RyZW5ndGgocGFyc2VJbnQoZ3Jhdml0eV9zdHJlbmd0aF9zbGlkZXIudmFsdWUpKTtcclxuICB9XHJcblxyXG5zdWJzdGVwc19hbW91bnRfZW50cnkuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oKSB7XHJcbiAgICBzZXRTdWJzdGVwcyhwYXJzZUludChzdWJzdGVwc19hbW91bnRfZW50cnkudmFsdWUpKTtcclxufSk7XHJcblxyXG5wYXJ0aWNsZXNfYW1vdW50X2VudHJ5LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgc2V0UGFydGljbGVzTnVtKHBhcnNlSW50KHBhcnRpY2xlc19hbW91bnRfZW50cnkudmFsdWUpKTtcclxufSk7XHJcblxyXG4vLyBvdXRsaW5lX2NoZWNrYm94Lm9uaW5wdXQgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgIHNldERyYXdPdXRsaW5lKG91dGxpbmVfY2hlY2tib3guY2hlY2tlZClcclxuLy8gfVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvaW50ZXJGdW5jdGlvbigpIHtcclxuICAgIHZhciByYWRpb0J1dHRvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgnY3Vyc29yLWZ1bmN0aW9uJykgYXMgTm9kZUxpc3RPZjxIVE1MSW5wdXRFbGVtZW50PlxyXG4gIFxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYWRpb0J1dHRvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKHJhZGlvQnV0dG9uc1tpXS5jaGVja2VkKSB7XHJcbiAgICAgICAgcmV0dXJuIHJhZGlvQnV0dG9uc1tpXS52YWx1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiIsImltcG9ydCB7IGNyZWF0ZVByb2dyYW0sIGNyZWF0ZVNoYWRlciB9IGZyb20gXCIuL1NoYWRlckhlbHBlclwiO1xyXG5pbXBvcnQgVmVjMkQgZnJvbSBcIi4vVmVjMkRcIlxyXG5pbXBvcnQgeyBkcmF3T3V0bGluZSwgZ3JpZCwgZ3JpZFNpemUgfSBmcm9tIFwiLi9zY3JpcHRcIjtcclxuaW1wb3J0IHBhcnRpY2xlRnJhZ21lbnRTaGFkZXIgZnJvbSBcIi4vc2hhZGVycy9wYXJ0aWNsZUZyYWdtZW50U2hhZGVyLmZyYWdcIjtcclxuaW1wb3J0IHBhcnRpY2xlVmVydGV4U2hhZGVyIGZyb20gXCIuL3NoYWRlcnMvcGFydGljbGVWZXJ0ZXhTaGFkZXIudmVydFwiO1xyXG4vLyBiYWNrIGJ1dHRvblxyXG4vLyBOdW1iZXJzIGluIG1lbnVcclxuLy8gZ3JpZCBzaXplIGFkalxyXG4vLyBiYWxsIHJhbmRvbW5lc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFydGljbGUge1xyXG4gICAgc3RhdGljIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JlZ3JvdW5kLWNhbnZhcycpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgc3RhdGljIGdsID0gUGFydGljbGUuY2FudmFzIS5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICBwb3NfY3VycjogVmVjMkRcclxuICAgIHBvc19wcmV2OiBWZWMyRFxyXG4gICAgYWNjZWxlcmF0aW9uOiBWZWMyRFxyXG4gICAgcmFkaXVzOiBudW1iZXJcclxuICAgIGNvbG9yOiB7cjpudW1iZXIsIGc6bnVtYmVyLCBiOm51bWJlcn1cclxuICAgIGdyaWRDZWxsOiBWZWMyRFxyXG4gICAgXHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBvczogVmVjMkQsIHJhZGl1czogbnVtYmVyLCBhY2M6IFZlYzJELCBjb2xvcjoge3I6bnVtYmVyLCBnOm51bWJlciwgYjpudW1iZXJ9KSB7XHJcbiAgICAgIHRoaXMucG9zX2N1cnIgPSBwb3M7XHJcbiAgICAgIHRoaXMucG9zX3ByZXYgPSB0aGlzLnBvc19jdXJyO1xyXG4gICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcclxuICAgICAgdGhpcy5hY2NlbGVyYXRpb24gPSBhY2M7XHJcbiAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgICAgdGhpcy51cGRhdGVDZWxsKG5ldyBWZWMyRChcclxuICAgICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IodGhpcy5wb3NfY3Vyci54IC8gZ3JpZFNpemUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcih0aGlzLnBvc19jdXJyLnkgLyBncmlkU2l6ZSkpKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVQb3NpdGlvbihkdDogbnVtYmVyKXtcclxuICAgICAgbGV0IHZlbG9jaXR5OiBWZWMyRCA9IG5ldyBWZWMyRCh0aGlzLnBvc19jdXJyLnggLSB0aGlzLnBvc19wcmV2LngsIHRoaXMucG9zX2N1cnIueSAtIHRoaXMucG9zX3ByZXYueSk7XHJcbiAgICAgIHRoaXMucG9zX3ByZXYgPSB0aGlzLnBvc19jdXJyLmNsb25lKClcclxuXHJcbiAgICAgIHRoaXMucG9zX2N1cnIuYWRkKHZlbG9jaXR5KVxyXG4gICAgICB0aGlzLmFjY2VsZXJhdGlvbi5tdWx0aXBseShkdCpkdClcclxuICAgICAgdGhpcy5wb3NfY3Vyci5hZGQodGhpcy5hY2NlbGVyYXRpb24pXHJcblxyXG4gICAgICB0aGlzLmFjY2VsZXJhdGlvbi54ID0gMFxyXG4gICAgICB0aGlzLmFjY2VsZXJhdGlvbi55ID0gMFxyXG4gICAgfVxyXG5cclxuICAgIGFjY2VsZXJhdGUoYWNjOlZlYzJEKXtcclxuICAgICAgdGhpcy5hY2NlbGVyYXRpb24uYWRkKGFjYylcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVDZWxsKGdyaWRQb3M6IFZlYzJEKXtcclxuICAgICAgdGhpcy5ncmlkQ2VsbCA9IGdyaWRQb3M7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgfSIsImltcG9ydCBwYXJ0aWNsZUZyYWdtZW50U2hhZGVyIGZyb20gXCIuL3NoYWRlcnMvcGFydGljbGVGcmFnbWVudFNoYWRlci5mcmFnXCI7XHJcbmltcG9ydCBwYXJ0aWNsZVZlcnRleFNoYWRlciBmcm9tIFwiLi9zaGFkZXJzL3BhcnRpY2xlVmVydGV4U2hhZGVyLnZlcnRcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTaGFkZXIoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgdHlwZTogYW55LCBzb3VyY2U6IGFueSkge1xyXG4gICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcih0eXBlKTtcclxuICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNvdXJjZSk7XHJcbiAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XHJcbiAgICB2YXIgc3VjY2VzcyA9IGdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKTtcclxuICAgIGlmIChzdWNjZXNzKSB7XHJcbiAgICAgIHJldHVybiBzaGFkZXI7XHJcbiAgICB9XHJcbiAgIFxyXG4gICAgY29uc29sZS5sb2coZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpKTtcclxuICAgIGdsLmRlbGV0ZVNoYWRlcihzaGFkZXIpO1xyXG4gIH1cclxuXHJcbiAgZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVByb2dyYW0oZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgdmVydGV4U2hhZGVyOiBXZWJHTFNoYWRlciwgZnJhZ21lbnRTaGFkZXI6IFdlYkdMU2hhZGVyKSB7XHJcbiAgICB2YXIgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcclxuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xyXG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTtcclxuICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xyXG4gICAgdmFyIHN1Y2Nlc3MgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKTtcclxuICAgIGlmIChzdWNjZXNzKSB7XHJcbiAgICAgIHJldHVybiBwcm9ncmFtO1xyXG4gICAgfVxyXG4gICBcclxuICAgIGNvbnNvbGUubG9nKGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pKTtcclxuICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XHJcbiAgfVxyXG5cclxuICBleHBvcnQgZnVuY3Rpb24gcmVzaXplQ2FudmFzVG9EaXNwbGF5U2l6ZShjYW52YXM6YW55KSB7XHJcbiAgICAvLyBMb29rdXAgdGhlIHNpemUgdGhlIGJyb3dzZXIgaXMgZGlzcGxheWluZyB0aGUgY2FudmFzIGluIENTUyBwaXhlbHMuXHJcbiAgICBjb25zdCBkaXNwbGF5V2lkdGggID0gY2FudmFzLmNsaWVudFdpZHRoO1xyXG4gICAgY29uc3QgZGlzcGxheUhlaWdodCA9IGNhbnZhcy5jbGllbnRIZWlnaHQ7XHJcbiAgIFxyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGNhbnZhcyBpcyBub3QgdGhlIHNhbWUgc2l6ZS5cclxuICAgIGNvbnN0IG5lZWRSZXNpemUgPSBjYW52YXMud2lkdGggICE9PSBkaXNwbGF5V2lkdGggfHxcclxuICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ICE9PSBkaXNwbGF5SGVpZ2h0O1xyXG4gICBcclxuICAgIGlmIChuZWVkUmVzaXplKSB7XHJcbiAgICAgIC8vIE1ha2UgdGhlIGNhbnZhcyB0aGUgc2FtZSBzaXplXHJcbiAgICAgIGNhbnZhcy53aWR0aCAgPSBkaXNwbGF5V2lkdGg7XHJcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSBkaXNwbGF5SGVpZ2h0O1xyXG4gICAgfVxyXG4gICBcclxuICAgIHJldHVybiBuZWVkUmVzaXplO1xyXG5cclxuICB9XHJcblxyXG5cclxuICBleHBvcnQgZnVuY3Rpb24gaW5pdFBhcnRpY2xlU2hhZGVyKCl7XHJcblxyXG5cclxuLy8gdmFyIHdpZHRoID0gZ2wuY2FudmFzLndpZHRoO1xyXG4vLyB2YXIgaGVpZ2h0ID0gZ2wuY2FudmFzLmhlaWdodDtcclxuLy8gdmFyIGNlbnRlclggPSAyMDAgLyB3aWR0aDtcclxuLy8gdmFyIGNlbnRlclkgPSAyMDAgLyBoZWlnaHQ7XHJcbi8vIGNvbnNvbGUubG9nKHdpZHRoKTtcclxuLy8gY29uc29sZS5sb2coaGVpZ2h0KTtcclxuLy8gY29uc29sZS5sb2coY2VudGVyWCk7XHJcbi8vIGNvbnNvbGUubG9nKGNlbnRlclkpO1xyXG4vLyB2YXIgcmFkaXVzID0gTWF0aC5taW4oMjAwLCAyMDApIC8gMjtcclxuLy8gdmFyIG5vcm1DZW50ZXJYID0gY2VudGVyWC8yO1xyXG4vLyB2YXIgbm9ybUNlbnRlclkgPSBjZW50ZXJZO1xyXG4vLyB2YXIgbm9ybVJhZGl1cyA9IHJhZGl1cyAvIHdpZHRoO1xyXG4vLyBjb25zb2xlLmxvZyhub3JtUmFkaXVzKTtcclxuLy8gY29uc29sZS5sb2cobm9ybUNlbnRlclgpO1xyXG4vLyBjb25zb2xlLmxvZyhub3JtQ2VudGVyWSk7XHJcblxyXG5cclxuXHJcbi8vIHJlc2l6ZUNhbnZhc1RvRGlzcGxheVNpemUoZ2wuY2FudmFzKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuLy9zZXR0aW5nIHRoZSByZXNvbHV0aW9uXHJcbi8vIGdsLnVuaWZvcm0yZihyZXNvbHV0aW9uVW5pZm9ybUxvY2F0aW9uLCBnbC5jYW52YXMud2lkdGgsIGdsLmNhbnZhcy5oZWlnaHQpO1xyXG4vLyBnbC51bmlmb3JtMmYoZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sIFwidV9jZW50ZXJcIiksIG5vcm1DZW50ZXJYLCBub3JtQ2VudGVyWSk7XHJcbi8vIGdsLnVuaWZvcm0xZihnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgXCJ1X3JhZGl1c1wiKSwgbm9ybVJhZGl1cyk7XHJcblxyXG5cclxuXHJcbiAgfSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlYzJEIHtcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxuICBcclxuICAgIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcbiAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgIHRoaXMueSA9IHk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBhZGQob3RoZXI6IFZlYzJEKXtcclxuICAgICAgdGhpcy54ICs9IG90aGVyLng7XHJcbiAgICAgIHRoaXMueSArPSBvdGhlci55O1xyXG4gICAgfVxyXG5cclxuICAgIHNldChvdGhlcjogVmVjMkQpe1xyXG4gICAgICB0aGlzLnggPSBvdGhlci54O1xyXG4gICAgICB0aGlzLnkgPSBvdGhlci55O1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIFxyXG4gICAgc3VidHJhY3Qob3RoZXI6IFZlYzJEKXtcclxuICAgICAgdGhpcy54IC09IG90aGVyLng7XHJcbiAgICAgIHRoaXMueSAtPSBvdGhlci55O1xyXG4gICAgfVxyXG4gIFxyXG4gICAgbXVsdGlwbHkoc2NhbGFyOiBudW1iZXIpIHtcclxuICAgICAgdGhpcy54ICo9IHNjYWxhcjtcclxuICAgICAgdGhpcy55ICo9IHNjYWxhcjtcclxuICAgIH1cclxuICBcclxuICAgIGRpdmlkZShzY2FsYXI6IG51bWJlcil7XHJcbiAgICAgIHRoaXMueCAvPSBzY2FsYXI7XHJcbiAgICAgIHRoaXMueSAvPSBzY2FsYXI7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBkb3QodmVjOiBWZWMyRCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLnggKiB2ZWMueCArIHRoaXMueSAqIHZlYy55O1xyXG4gICAgfVxyXG5cclxuICAgIGxlbmd0aCgpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3F1YXJlZExlbmd0aCgpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55O1xyXG4gICAgfVxyXG5cclxuICAgIGNsb25lKCk6IFZlYzJEe1xyXG4gICAgICByZXR1cm4gbmV3IFZlYzJEKHRoaXMueCwgdGhpcy55KVxyXG4gICAgfVxyXG5cclxuICAgIGRpZmZlcmVuY2Uob3RoZXI6IFZlYzJEKTogVmVjMkR7XHJcbiAgICAgIHJldHVybiBuZXcgVmVjMkQodGhpcy54IC0gb3RoZXIueCwgdGhpcy55IC0gb3RoZXIueSlcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgQXR0cmFjdG9yIGZyb20gXCIuL0F0dHJhY3RvclwiO1xyXG5pbXBvcnQgeyBkcmF3QXJyb3csIGRyYXdHcmlkLCBkcmF3TGFzc28sIGRyYXdQYXJ0aWNsZXMsIGRyYXdUYWlsLCBzZXRHZW9tZXRyeSB9IGZyb20gXCIuL0RyYXdlclwiO1xyXG5pbXBvcnQgeyBjbG9zZU1lbnUsIGdldFBvaW50ZXJGdW5jdGlvbiB9IGZyb20gXCIuL01lbnVNYW5hZ2VyXCI7XHJcbmltcG9ydCBQYXJ0aWNsZSBmcm9tIFwiLi9QYXJ0aWNsZVwiO1xyXG5pbXBvcnQgeyBpbml0UGFydGljbGVTaGFkZXIgfSBmcm9tIFwiLi9TaGFkZXJIZWxwZXJcIjtcclxuaW1wb3J0IFZlYzJEIGZyb20gXCIuL1ZlYzJEXCI7XHJcbmV4cG9ydCBjb25zdCBncmlkU2l6ZSA9IDI2O1xyXG5leHBvcnQgY29uc3QgZ3JpZDogUGFydGljbGVbXVtdW10gPSBbXTtcclxuXHJcbmV4cG9ydCBjb25zdCBwYXJ0aWNsZXM6IFBhcnRpY2xlW10gPSBbXTtcclxudmFyIGF0dHJhY3RvcnM6IEF0dHJhY3RvcltdID0gW107XHJcbnZhciBwYXJ0aWNsZUNvdW50ID0gNTAwO1xyXG52YXIgbnVtYmVyX29mX2NvbGxpc2lvbnMgPSAwO1xyXG5leHBvcnQgY29uc3QgcG9pbnRlclBvc2l0aW9uID0gbmV3IFZlYzJEKDAsIDApXHJcbnZhciBjbGlja19zdGFydF9wb3NpdGlvbiA9IG5ldyBWZWMyRCgwLCAwKVxyXG52YXIgcG9pbnRlcl9mdW5jdGlvbiA9ICdmaWVsZCdcclxuZXhwb3J0IHZhciBncmF2aXR5ID0gbmV3IFZlYzJEKDAsIDEpXHJcbmV4cG9ydCBjb25zdCBmb3JlZ3JvdW5kX2NhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JlZ3JvdW5kLWNhbnZhcycpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG5jb25zdCBiYWNrZ3JvdW5kX2NhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWNrZ3JvdW5kLWNhbnZhcycpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG5jb25zdCB3ZWJnbF9jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2ViZ2wtY2FudmFzJykgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcblxyXG5leHBvcnQgdmFyIGZpZWxkU2l6ZSA9IDEwMFxyXG5leHBvcnQgdmFyIGRyYXdPdXRsaW5lID0gdHJ1ZVxyXG52YXIgZmllbGRTdHJlbmd0aCA9IDEwXHJcbnZhciBzdWJzdGVwc19hbW91bnQgPSA0XHJcbnZhciBncmlkQ29sdW1ucyA9IE1hdGguY2VpbChmb3JlZ3JvdW5kX2NhbnZhcy53aWR0aCAvIGdyaWRTaXplKTtcclxudmFyIGdyaWRSb3dzID0gTWF0aC5jZWlsKGZvcmVncm91bmRfY2FudmFzLmhlaWdodCAvIGdyaWRTaXplKTtcclxuZm9yZWdyb3VuZF9jYW52YXMhLndpZHRoID0gZm9yZWdyb3VuZF9jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbmZvcmVncm91bmRfY2FudmFzIS5oZWlnaHQgPSBmb3JlZ3JvdW5kX2NhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbmJhY2tncm91bmRfY2FudmFzIS53aWR0aCA9IGJhY2tncm91bmRfY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG5iYWNrZ3JvdW5kX2NhbnZhcyEuaGVpZ2h0ID0gYmFja2dyb3VuZF9jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG53ZWJnbF9jYW52YXMhLndpZHRoID0gd2ViZ2xfY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG53ZWJnbF9jYW52YXMhLmhlaWdodCA9IHdlYmdsX2NhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbmV4cG9ydCBjb25zdCBjdHggPSBmb3JlZ3JvdW5kX2NhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4vLyBleHBvcnQgY29uc3QgY3R4ID0gUGFydGljbGUuY2FudmFzIS5nZXRDb250ZXh0KCcyZCcpO1xyXG5leHBvcnQgY29uc3QgYmFja19jdHggPSBiYWNrZ3JvdW5kX2NhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5leHBvcnQgdmFyIGZwcyA9IDYwO1xyXG5leHBvcnQgbGV0IGNsaWNrZWQgPSBmYWxzZVxyXG5sZXQgZnBzQ291bnRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5mcHNDb3VudGVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuZnBzQ291bnRlci5zdHlsZS50b3AgPSAnMTBweCc7XHJcbmZwc0NvdW50ZXIuc3R5bGUubGVmdCA9ICcxMHB4JztcclxuXHJcbmxldCBwYXJ0aWNsZUNvdW50ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxucGFydGljbGVDb3VudGVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxucGFydGljbGVDb3VudGVyLnN0eWxlLnRvcCA9ICczMHB4JztcclxucGFydGljbGVDb3VudGVyLnN0eWxlLmxlZnQgPSAnMTBweCc7XHJcblxyXG5sZXQgY29sbGlzaW9uQ291bnRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5jb2xsaXNpb25Db3VudGVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuY29sbGlzaW9uQ291bnRlci5zdHlsZS50b3AgPSAnNTBweCc7XHJcbmNvbGxpc2lvbkNvdW50ZXIuc3R5bGUubGVmdCA9ICcxMHB4JztcclxuXHJcblxyXG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZwc0NvdW50ZXIpO1xyXG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHBhcnRpY2xlQ291bnRlcik7XHJcbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29sbGlzaW9uQ291bnRlcik7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0RmllbGRTdHJlbmd0aCh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgZmllbGRTdHJlbmd0aCA9IHZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0RmllbGRTaXplKHZhbHVlOiBudW1iZXIpIHtcclxuICBmaWVsZFNpemUgPSB2YWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEdyYXZpdHlTdHJlbmd0aCh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgZ3Jhdml0eSA9IG5ldyBWZWMyRCgwLCB2YWx1ZSAqIDAuMSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRTdWJzdGVwcyh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgc3Vic3RlcHNfYW1vdW50ID0gdmFsdWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRQYXJ0aWNsZXNOdW0odmFsdWU6IG51bWJlcikge1xyXG4gIHBhcnRpY2xlQ291bnQgPSB2YWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldERyYXdPdXRsaW5lKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgZHJhd091dGxpbmUgPSB2YWx1ZTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdGlhbGl6ZUdyaWQoKSB7XHJcbiAgZ3JpZENvbHVtbnMgPSBNYXRoLmNlaWwoZm9yZWdyb3VuZF9jYW52YXMud2lkdGggLyBncmlkU2l6ZSk7XHJcbiAgZ3JpZFJvd3MgPSBNYXRoLmNlaWwoZm9yZWdyb3VuZF9jYW52YXMuaGVpZ2h0IC8gZ3JpZFNpemUpO1xyXG4gIGNvbnNvbGUubG9nKGdyaWRDb2x1bW5zKTtcclxuICBjb25zb2xlLmxvZyhncmlkUm93cyk7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBncmlkQ29sdW1uczsgaSsrKSB7XHJcbiAgICBncmlkW2ldID0gW107XHJcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGdyaWRSb3dzOyBqKyspIHtcclxuICAgICAgZ3JpZFtpXVtqXSA9IFtdO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlRnJvbUdyaWQoKSB7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBncmlkQ29sdW1uczsgaSsrKSB7XHJcbiAgICBncmlkW2ldID0gW107XHJcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGdyaWRSb3dzOyBqKyspIHtcclxuICAgICAgZ3JpZFtpXVtqXSA9IFtdO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYWRkVG9HcmlkKHBhcnRpY2xlOiBQYXJ0aWNsZSkge1xyXG4gIGNvbnN0IGNvbHVtbiA9IE1hdGguZmxvb3IocGFydGljbGUucG9zX2N1cnIueCAvIGdyaWRTaXplKTtcclxuICBjb25zdCByb3cgPSBNYXRoLmZsb29yKHBhcnRpY2xlLnBvc19jdXJyLnkgLyBncmlkU2l6ZSk7XHJcblxyXG4gIGlmIChjb2x1bW4gPj0gMCAmJiBjb2x1bW4gPCBncmlkLmxlbmd0aCAmJiByb3cgPj0gMCAmJiByb3cgPCBncmlkW2NvbHVtbl0ubGVuZ3RoKSB7XHJcbiAgICBncmlkW2NvbHVtbl1bcm93XS5wdXNoKHBhcnRpY2xlKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldE5laWdoYm9yaW5nUGFydGljbGVzKHBhcnRpY2xlOiBQYXJ0aWNsZSk6IFBhcnRpY2xlW10ge1xyXG4gIGNvbnN0IGNvbHVtbiA9IE1hdGguZmxvb3IocGFydGljbGUucG9zX2N1cnIueCAvIGdyaWRTaXplKTtcclxuICBjb25zdCByb3cgPSBNYXRoLmZsb29yKHBhcnRpY2xlLnBvc19jdXJyLnkgLyBncmlkU2l6ZSk7XHJcbiAgY29uc3QgbmVpZ2hib3JpbmdQYXJ0aWNsZXM6IFBhcnRpY2xlW10gPSBbXTtcclxuXHJcbiAgZm9yIChsZXQgaSA9IGNvbHVtbiAtIDE7IGkgPD0gY29sdW1uICsgMTsgaSsrKSB7XHJcbiAgICBmb3IgKGxldCBqID0gcm93IC0gMTsgaiA8PSByb3cgKyAxOyBqKyspIHtcclxuICAgICAgaWYgKGkgPj0gMCAmJiBpIDwgZ3JpZC5sZW5ndGggJiYgaiA+PSAwICYmIGogPCBncmlkW2ldLmxlbmd0aCkge1xyXG4gICAgICAgIG5laWdoYm9yaW5nUGFydGljbGVzLnB1c2goLi4uZ3JpZFtpXVtqXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIG5laWdoYm9yaW5nUGFydGljbGVzO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0aWNrKGR0OiBudW1iZXIpIHtcclxuICB2YXIgc3ViX3N0ZXBzID0gc3Vic3RlcHNfYW1vdW50O1xyXG4gIHZhciBzdWJfZHQgPSBkdCAvIHN1Yl9zdGVwcztcclxuXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdWJfc3RlcHM7IGkrKykge1xyXG4gICAgaWYgKGdyYXZpdHkueSAhPSAwKSB7XHJcbiAgICAgIGFwcGx5R3Jhdml0eSgpO1xyXG4gICAgfVxyXG4gICAgaWYgKGNsaWNrZWQpIHtcclxuICAgICAgc3dpdGNoIChwb2ludGVyX2Z1bmN0aW9uKSB7XHJcbiAgICAgICAgY2FzZSAnZmllbGQnOlxyXG4gICAgICAgICAgYXBwbHlGaWVsZChwb2ludGVyUG9zaXRpb24pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnZ3Jhdml0eSc6XHJcbiAgICAgICAgICBncmF2aXR5ID0gcG9pbnRlclBvc2l0aW9uLmRpZmZlcmVuY2UoY2xpY2tfc3RhcnRfcG9zaXRpb24pXHJcbiAgICAgICAgICBncmF2aXR5LmRpdmlkZSgyMDApXHJcbiAgICAgICAgY2FzZSAndGhyb3cnOlxyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICB9XHJcblxyXG4gICAgfVxyXG4gICAgLy8gYXBwbHlBdHRyYWN0b3JGb3JjZXNUb0FsbCgpO1xyXG4gICAgYXBwbHlDb25zdHJhaW50VG9BbGxFZGdlcygpO1xyXG4gICAgc29sdmVDb2xsaXNpb25zKCk7XHJcbiAgICB1cGRhdGVQb3NpdGlvbnMoc3ViX2R0KTtcclxuICB9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBhcHBseUNvbnN0cmFpbnRUb0FsbEVkZ2VzKCkge1xyXG5cclxuICBwYXJ0aWNsZXMuZm9yRWFjaCgocGFydGljbGUpID0+IHtcclxuICAgIGFwcGx5Q29uc3RyYWludChwYXJ0aWNsZSk7XHJcbiAgfSk7XHJcbiAgLy8gZm9yICh2YXIgY29sID0gMDsgY29sIDwgZ3JpZC5sZW5ndGg7IGNvbCsrKSB7XHJcbiAgLy8gICBmb3IgKHZhciB0aGlja25lc3MgPSAwOyB0aGlja25lc3MgPCAyOyB0aGlja25lc3MrKykge1xyXG4gIC8vICAgICBncmlkW2NvbF1bdGhpY2tuZXNzXS5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gIC8vICAgICAgIGFwcGx5Q29uc3RyYWludChwYXJ0aWNsZSk7XHJcbiAgLy8gICAgIH0pO1xyXG5cclxuICAvLyAgICAgZ3JpZFtjb2xdW2dyaWRbMF0ubGVuZ3RoIC0gdGhpY2tuZXNzIC0gMV0uZm9yRWFjaCgocGFydGljbGUpID0+IHtcclxuICAvLyAgICAgICBhcHBseUNvbnN0cmFpbnQocGFydGljbGUpO1xyXG4gIC8vICAgICB9KTtcclxuICAvLyAgIH1cclxuICAvLyB9XHJcblxyXG4gIC8vIGZvciAodmFyIHJvdyA9IDA7IHJvdyA8IGdyaWRbMF0ubGVuZ3RoOyByb3crKykge1xyXG4gIC8vICAgZm9yICh2YXIgdGhpY2tuZXNzID0gMDsgdGhpY2tuZXNzIDwgMjsgdGhpY2tuZXNzKyspIHtcclxuICAvLyAgICAgZ3JpZFt0aGlja25lc3NdW3Jvd10uZm9yRWFjaCgocGFydGljbGUpID0+IHtcclxuICAvLyAgICAgICBhcHBseUNvbnN0cmFpbnQocGFydGljbGUpO1xyXG4gIC8vICAgICB9KTtcclxuXHJcbiAgLy8gICAgIGdyaWRbZ3JpZC5sZW5ndGggLSB0aGlja25lc3MgLSAxXVtyb3ddLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgLy8gICAgICAgYXBwbHlDb25zdHJhaW50KHBhcnRpY2xlKTtcclxuICAvLyAgICAgfSk7XHJcbiAgLy8gICB9XHJcbiAgLy8gfVxyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVQb3NpdGlvbnMoZHQ6IG51bWJlcikge1xyXG4gIHJlbW92ZUZyb21HcmlkKCk7XHJcbiAgcGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcblxyXG4gICAgcGFydGljbGUudXBkYXRlUG9zaXRpb24oZHQpO1xyXG4gICAgYWRkVG9HcmlkKHBhcnRpY2xlKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gYXBwbHlHcmF2aXR5KCkge1xyXG4gIHBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgcGFydGljbGUuYWNjZWxlcmF0ZShncmF2aXR5KTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gYXBwbHlGaWVsZChmaWVsZFBvczogVmVjMkQpIHtcclxuICBwYXJ0aWNsZXMuZm9yRWFjaCgocGFydGljbGUpID0+IHtcclxuICAgIGNvbnN0IHB1bGxEaXJlY3Rpb24gPSBmaWVsZFBvcy5kaWZmZXJlbmNlKHBhcnRpY2xlLnBvc19jdXJyKVxyXG4gICAgY29uc3QgZGlzdGFuY2UgPSBwdWxsRGlyZWN0aW9uLmxlbmd0aCgpO1xyXG5cclxuICAgIGlmIChkaXN0YW5jZSA8IGZpZWxkU2l6ZSAmJiBkaXN0YW5jZSA+IDEwKSB7XHJcbiAgICAgIHB1bGxEaXJlY3Rpb24ubXVsdGlwbHkoZmllbGRTdHJlbmd0aCAqIDEwMCk7XHJcbiAgICAgIHB1bGxEaXJlY3Rpb24uZGl2aWRlKGRpc3RhbmNlICogZGlzdGFuY2UpXHJcbiAgICAgIHBhcnRpY2xlLmFjY2VsZXJhdGUocHVsbERpcmVjdGlvbik7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFwcGx5QXR0cmFjdG9yRm9yY2VzVG9BbGwoKSB7XHJcbiAgcGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgICBhcHBseUF0dHJhY3RvckZvcmNlcyhwYXJ0aWNsZSlcclxuICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5QXR0cmFjdG9yRm9yY2VzKHBhcnRpY2xlOiBQYXJ0aWNsZSkge1xyXG4gIGF0dHJhY3RvcnMuZm9yRWFjaCgoYXR0cmFjdG9yKSA9PiB7XHJcbiAgICBjb25zdCBwdWxsRGlyZWN0aW9uID0gYXR0cmFjdG9yLnBvcy5kaWZmZXJlbmNlKHBhcnRpY2xlLnBvc19jdXJyKVxyXG4gICAgY29uc3QgZGlzdGFuY2UgPSBwdWxsRGlyZWN0aW9uLmxlbmd0aCgpO1xyXG5cclxuICAgIGlmIChkaXN0YW5jZSA8IGF0dHJhY3Rvci5yYWRpdXMgJiYgZGlzdGFuY2UgPiAxMCkge1xyXG4gICAgICBwdWxsRGlyZWN0aW9uLm11bHRpcGx5KGF0dHJhY3Rvci5mb3JjZSk7XHJcbiAgICAgIHB1bGxEaXJlY3Rpb24uZGl2aWRlKGRpc3RhbmNlICogZGlzdGFuY2UpXHJcbiAgICAgIHBhcnRpY2xlLmFjY2VsZXJhdGUocHVsbERpcmVjdGlvbik7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNvbHZlQ29sbGlzaW9ucygpIHtcclxuICBudW1iZXJfb2ZfY29sbGlzaW9ucyA9IDA7XHJcblxyXG5cclxuICBsZXQgdGVtcENvbGxpc2lvbkRpcmVjdGlvbiA9IG5ldyBWZWMyRCgwLCAwKTtcclxuICBsZXQgc3F1YXJlZERpc3RhbmNlID0gMDtcclxuICBsZXQgcmFkaWlTdW0gPSAwO1xyXG4gIGxldCBzcXVhcmVkUmFkaWlTdW0gPSAwO1xyXG5cclxuICBwYXJ0aWNsZXMuZm9yRWFjaCgocGFydGljbGUxKSA9PiB7XHJcbiAgICBjb25zdCBuZWlnaGJvcmluZ1BhcnRpY2xlcyA9IGdldE5laWdoYm9yaW5nUGFydGljbGVzKHBhcnRpY2xlMSk7XHJcblxyXG4gICAgbmVpZ2hib3JpbmdQYXJ0aWNsZXMuZm9yRWFjaCgocGFydGljbGUyKSA9PiB7XHJcbiAgICAgIGlmIChwYXJ0aWNsZTEgPT09IHBhcnRpY2xlMikgcmV0dXJuO1xyXG5cclxuICAgICAgdGVtcENvbGxpc2lvbkRpcmVjdGlvbi5zZXQocGFydGljbGUxLnBvc19jdXJyKS5zdWJ0cmFjdChwYXJ0aWNsZTIucG9zX2N1cnIpO1xyXG4gICAgICBzcXVhcmVkRGlzdGFuY2UgPSB0ZW1wQ29sbGlzaW9uRGlyZWN0aW9uLnNxdWFyZWRMZW5ndGgoKTtcclxuXHJcbiAgICAgIHJhZGlpU3VtID0gcGFydGljbGUxLnJhZGl1cyArIHBhcnRpY2xlMi5yYWRpdXM7XHJcbiAgICAgIHNxdWFyZWRSYWRpaVN1bSA9IHJhZGlpU3VtICogcmFkaWlTdW07XHJcblxyXG4gICAgICBpZiAoc3F1YXJlZERpc3RhbmNlIDwgc3F1YXJlZFJhZGlpU3VtICYmIHNxdWFyZWREaXN0YW5jZSAhPSAwKSB7XHJcbiAgICAgICAgbnVtYmVyX29mX2NvbGxpc2lvbnMrKztcclxuICAgICAgICAgIGxldCBkaXN0YW5jZSA9IE1hdGguc3FydChzcXVhcmVkRGlzdGFuY2UpO1xyXG4gICAgICAgICAgdGVtcENvbGxpc2lvbkRpcmVjdGlvbi5kaXZpZGUoZGlzdGFuY2UpO1xyXG4gICAgICBcclxuICAgICAgICAgIGxldCBkZWx0YSA9IHJhZGlpU3VtIC0gZGlzdGFuY2U7XHJcbiAgICAgICAgICB0ZW1wQ29sbGlzaW9uRGlyZWN0aW9uLm11bHRpcGx5KGRlbHRhICogMC41KTtcclxuICAgICAgXHJcbiAgICAgICAgICBwYXJ0aWNsZTEucG9zX2N1cnIuYWRkKHRlbXBDb2xsaXNpb25EaXJlY3Rpb24pO1xyXG4gICAgICAgICAgcGFydGljbGUyLnBvc19jdXJyLnN1YnRyYWN0KHRlbXBDb2xsaXNpb25EaXJlY3Rpb24pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5Q29uc3RyYWludChwYXJ0aWNsZTogUGFydGljbGUpIHtcclxuICAvLyBBcHBseSBmbG9vciBjb25zdHJhaW50XHJcbiAgaWYgKHBhcnRpY2xlLnBvc19jdXJyLnkgKyBwYXJ0aWNsZS5yYWRpdXMgPiBmb3JlZ3JvdW5kX2NhbnZhcy5oZWlnaHQpIHtcclxuICAgIHBhcnRpY2xlLnBvc19jdXJyLnkgPSBmb3JlZ3JvdW5kX2NhbnZhcy5oZWlnaHQgLSBwYXJ0aWNsZS5yYWRpdXM7XHJcbiAgICBwYXJ0aWNsZS5wb3NfcHJldi55ID0gcGFydGljbGUucG9zX2N1cnIueSArIHBhcnRpY2xlLnBvc19jdXJyLnkgLSBwYXJ0aWNsZS5wb3NfcHJldi55O1xyXG4gIH1cclxuXHJcbiAgLy8gQXBwbHkgQ2VpbGluZyBjb25zdHJhaW50XHJcbiAgaWYgKHBhcnRpY2xlLnBvc19jdXJyLnkgLSBwYXJ0aWNsZS5yYWRpdXMgPCAwKSB7XHJcbiAgICBwYXJ0aWNsZS5wb3NfY3Vyci55ID0gcGFydGljbGUucmFkaXVzO1xyXG4gICAgcGFydGljbGUucG9zX3ByZXYueSA9IHBhcnRpY2xlLnBvc19jdXJyLnkgKyBwYXJ0aWNsZS5wb3NfY3Vyci55IC0gcGFydGljbGUucG9zX3ByZXYueTtcclxuICB9XHJcblxyXG5cclxuICAvLyBBcHBseSBsZWZ0IHdhbGwgY29uc3RyYWludFxyXG4gIGlmIChwYXJ0aWNsZS5wb3NfY3Vyci54IC0gcGFydGljbGUucmFkaXVzIDwgMCkge1xyXG4gICAgcGFydGljbGUucG9zX2N1cnIueCA9IHBhcnRpY2xlLnJhZGl1cztcclxuICAgIHBhcnRpY2xlLnBvc19wcmV2LnggPSBwYXJ0aWNsZS5wb3NfY3Vyci54ICsgcGFydGljbGUucG9zX2N1cnIueCAtIHBhcnRpY2xlLnBvc19wcmV2Lng7XHJcbiAgfVxyXG5cclxuICAvLyBBcHBseSByaWdodCB3YWxsIGNvbnN0cmFpbnRcclxuICBpZiAocGFydGljbGUucG9zX2N1cnIueCArIHBhcnRpY2xlLnJhZGl1cyA+IGZvcmVncm91bmRfY2FudmFzLndpZHRoKSB7XHJcbiAgICBwYXJ0aWNsZS5wb3NfY3Vyci54ID0gZm9yZWdyb3VuZF9jYW52YXMud2lkdGggLSBwYXJ0aWNsZS5yYWRpdXM7XHJcblxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2xlYXJDYW52YXMoKSB7XHJcbiAgY3R4LmNsZWFyUmVjdCgwLCAwLCBmb3JlZ3JvdW5kX2NhbnZhcy53aWR0aCwgZm9yZWdyb3VuZF9jYW52YXMuaGVpZ2h0KTtcclxuICAvLyBiYWNrX2N0eC5jbGVhclJlY3QoMCwgMCwgZm9yZWdyb3VuZF9jYW52YXMud2lkdGgsIGZvcmVncm91bmRfY2FudmFzLmhlaWdodCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUNhbnZhc1NpemUoKSB7XHJcbiAgZm9yZWdyb3VuZF9jYW52YXMud2lkdGggPSBmb3JlZ3JvdW5kX2NhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICBmb3JlZ3JvdW5kX2NhbnZhcy5oZWlnaHQgPSBmb3JlZ3JvdW5kX2NhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgYmFja2dyb3VuZF9jYW52YXMud2lkdGggPSBiYWNrZ3JvdW5kX2NhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICBiYWNrZ3JvdW5kX2NhbnZhcy5oZWlnaHQgPSBiYWNrZ3JvdW5kX2NhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgd2ViZ2xfY2FudmFzLndpZHRoID0gd2ViZ2xfY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gIHdlYmdsX2NhbnZhcy5oZWlnaHQgPSB3ZWJnbF9jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gIGluaXRQYXJ0aWNsZVNoYWRlcigpO1xyXG4gIGluaXRpYWxpemVHcmlkKCk7XHJcbiAgZHJhd0dyaWQoKTtcclxufVxyXG5cclxubGV0IGZyYW1lQ291bnQgPSAwO1xyXG5sZXQgbGFzdFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAqIDAuMTtcclxuXHJcbmZ1bmN0aW9uIGNhbGN1bGF0ZUZQUygpIHtcclxuICBjb25zdCBjdXJyZW50VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpICogMC4xO1xyXG4gIGNvbnN0IHRpbWVEaWZmID0gY3VycmVudFRpbWUgLSBsYXN0VGltZTtcclxuICBjb25zdCBmcHMgPSBNYXRoLnJvdW5kKDEwMDAgLyB0aW1lRGlmZik7XHJcbiAgbGFzdFRpbWUgPSBjdXJyZW50VGltZTtcclxuICByZXR1cm4gZnBzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVNb3VzZURvd24oZXZlbnQ6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50KSB7XHJcbiAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcclxuICBjbGlja2VkID0gdHJ1ZTtcclxuICBwb2ludGVyX2Z1bmN0aW9uID0gZ2V0UG9pbnRlckZ1bmN0aW9uKClcclxuXHJcbiAgaWYgKGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCkge1xyXG4gICAgcG9pbnRlclBvc2l0aW9uLnggPSBldmVudC5jbGllbnRYO1xyXG4gICAgcG9pbnRlclBvc2l0aW9uLnkgPSBldmVudC5jbGllbnRZO1xyXG5cclxuICB9XHJcbiAgZWxzZSBpZiAoZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50KSB7XHJcbiAgICBwb2ludGVyUG9zaXRpb24ueCA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WDtcclxuICAgIHBvaW50ZXJQb3NpdGlvbi55ID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZO1xyXG4gIH1cclxuXHJcbiAgY2xpY2tfc3RhcnRfcG9zaXRpb24ueCA9IHBvaW50ZXJQb3NpdGlvbi54O1xyXG4gIGNsaWNrX3N0YXJ0X3Bvc2l0aW9uLnkgPSBwb2ludGVyUG9zaXRpb24ueTtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZU1vdXNlVXAoZXZlbnQ6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50KSB7XHJcbiAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcclxuICBjbGlja2VkID0gZmFsc2U7XHJcblxyXG4gIHN3aXRjaCAocG9pbnRlcl9mdW5jdGlvbikge1xyXG4gICAgY2FzZSAnZmllbGQnOlxyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ2dyYXZpdHknOlxyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ3Rocm93JzpcclxuICAgICAgbGV0IGxhdW5jaF9kaXIgPSBjbGlja19zdGFydF9wb3NpdGlvbi5kaWZmZXJlbmNlKHBvaW50ZXJQb3NpdGlvbilcclxuICAgICAgbGF1bmNoX2Rpci5tdWx0aXBseShmcHMgLyA2MClcclxuICAgICAgcGFydGljbGVzLnB1c2gobmV3IFBhcnRpY2xlKGNsaWNrX3N0YXJ0X3Bvc2l0aW9uLmNsb25lKCksIDE1LCBsYXVuY2hfZGlyLCBnZXRSYW5kb21Db2xvcigpKSk7XHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFJhbmRvbUNvbG9yKCk6IHsgcjogbnVtYmVyLCBnOiBudW1iZXIsIGI6IG51bWJlciB9IHtcclxuICByZXR1cm4ge1xyXG4gICAgcjogTWF0aC5yYW5kb20oKSxcclxuICAgIGc6IE1hdGgucmFuZG9tKCksXHJcbiAgICBiOiBNYXRoLnJhbmRvbSgpXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVNb3ZlRXZlbnQoZXZlbnQ6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50KSB7XHJcbiAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcclxuICBpZiAoY2xpY2tlZCkge1xyXG4gICAgaWYgKGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCkge1xyXG4gICAgICBwb2ludGVyUG9zaXRpb24ueCA9IGV2ZW50LmNsaWVudFg7XHJcbiAgICAgIHBvaW50ZXJQb3NpdGlvbi55ID0gZXZlbnQuY2xpZW50WTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGV2ZW50IGluc3RhbmNlb2YgVG91Y2hFdmVudCkge1xyXG4gICAgICBwb2ludGVyUG9zaXRpb24ueCA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WDtcclxuICAgICAgcG9pbnRlclBvc2l0aW9uLnkgPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3QXR0cmFjdG9ycygpIHtcclxuICBhdHRyYWN0b3JzLmZvckVhY2goKGF0dHJhY3RvcikgPT4ge1xyXG4gICAgYXR0cmFjdG9yLmFuaW1hdGUoKTtcclxuICB9KTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGFuaW1hdGUoKSB7XHJcbiAgdGljaygwLjUgLyBmcHMgKiA2MCk7XHJcbiAgY2xlYXJDYW52YXMoKTtcclxuICBkcmF3UGFydGljbGVzKCk7XHJcbiAgLy8gZHJhd0dyaWQoKTtcclxuICAvLyBkcmF3QXR0cmFjdG9ycygpO1xyXG4gIHN3aXRjaCAocG9pbnRlcl9mdW5jdGlvbikge1xyXG4gICAgY2FzZSAnZmllbGQnOlxyXG4gICAgICBkcmF3TGFzc28oKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdncmF2aXR5JzpcclxuICAgICAgZHJhd0Fycm93KGNsaWNrX3N0YXJ0X3Bvc2l0aW9uLCBwb2ludGVyUG9zaXRpb24pXHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAndGhyb3cnOlxyXG4gICAgICBkcmF3VGFpbChjbGlja19zdGFydF9wb3NpdGlvbiwgcG9pbnRlclBvc2l0aW9uKVxyXG4gICAgICBicmVhaztcclxuXHJcbiAgfVxyXG5cclxuICBjb25zdCBtdWx0ID0gZnBzICogMC4wMTY2NjY7XHJcbiAgaWYgKGkgJSBNYXRoLmZsb29yKDIgKiBtdWx0KSA9PSAwICYmIHBhcnRpY2xlcy5sZW5ndGggPCBwYXJ0aWNsZUNvdW50ICYmIGkgPiAxMjApIHtcclxuICAgIHBhcnRpY2xlcy5wdXNoKG5ldyBQYXJ0aWNsZShuZXcgVmVjMkQoMjAwLCAyMDApLCBncmlkU2l6ZS8yLCBuZXcgVmVjMkQoMjAwICogbXVsdCwgLTgwICogbXVsdCksIGdldFJhbmRvbUNvbG9yKCkpKTtcclxuICAgIHBhcnRpY2xlcy5wdXNoKG5ldyBQYXJ0aWNsZShuZXcgVmVjMkQoMjAwLCAyNjApLCBncmlkU2l6ZS8yLCBuZXcgVmVjMkQoMTgwICogbXVsdCwgLTgwICogbXVsdCksIGdldFJhbmRvbUNvbG9yKCkpKTtcclxuICAgIHBhcnRpY2xlcy5wdXNoKG5ldyBQYXJ0aWNsZShuZXcgVmVjMkQoMjAwLCAzMjApLCBncmlkU2l6ZS8yLCBuZXcgVmVjMkQoMTcwICogbXVsdCwgLTgwICogbXVsdCksIGdldFJhbmRvbUNvbG9yKCkpKTtcclxuICAgIHBhcnRpY2xlcy5wdXNoKG5ldyBQYXJ0aWNsZShuZXcgVmVjMkQoMjAwLCAzODApLCBncmlkU2l6ZS8yLCBuZXcgVmVjMkQoMTgwICogbXVsdCwgLTgwICogbXVsdCksIGdldFJhbmRvbUNvbG9yKCkpKTtcclxuICAgIHBhcnRpY2xlcy5wdXNoKG5ldyBQYXJ0aWNsZShuZXcgVmVjMkQoMjAwLCA0NDApLCBncmlkU2l6ZS8yLCBuZXcgVmVjMkQoMTcwICogbXVsdCwgLTgwICogbXVsdCksIGdldFJhbmRvbUNvbG9yKCkpKTtcclxuICAgIHNldEdlb21ldHJ5KCk7XHJcbiAgfVxyXG5cclxuICBpKys7XHJcblxyXG5cclxuICBmcmFtZUNvdW50Kys7XHJcbiAgaWYgKGZyYW1lQ291bnQgJSAxMCA9PT0gMCkge1xyXG4gICAgZnBzID0gY2FsY3VsYXRlRlBTKCk7XHJcbiAgICBmcHNDb3VudGVyLmlubmVyVGV4dCA9IGBGUFM6ICR7ZnBzfWA7XHJcbiAgICBwYXJ0aWNsZUNvdW50ZXIuaW5uZXJUZXh0ID0gYFBhcnRpY2xlczogJHtwYXJ0aWNsZXMubGVuZ3RofWA7XHJcbiAgICBjb2xsaXNpb25Db3VudGVyLmlubmVyVGV4dCA9IGBDb2xsaXNpb25zOiAke251bWJlcl9vZl9jb2xsaXNpb25zfWA7XHJcbiAgfVxyXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcclxufVxyXG5cclxubGV0IGkgPSAwO1xyXG5jb25zdCBtYWluX2JvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbl9jb250YWluZXInKTtcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdXBkYXRlQ2FudmFzU2l6ZSk7XHJcbm1haW5fYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGhhbmRsZU1vdXNlRG93bik7XHJcbm1haW5fYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBoYW5kbGVNb3VzZVVwKTtcclxubWFpbl9ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgaGFuZGxlTW92ZUV2ZW50KTtcclxubWFpbl9ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIGhhbmRsZU1vdXNlRG93bik7XHJcbm1haW5fYm9keS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgaGFuZGxlTW91c2VVcCk7XHJcbm1haW5fYm9keS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIGhhbmRsZU1vdmVFdmVudCk7XHJcbm1haW5fYm9keS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgY2xvc2VNZW51KCk7XHJcbn0pO1xyXG5pbml0UGFydGljbGVTaGFkZXIoKTtcclxuaW5pdGlhbGl6ZUdyaWQoKTtcclxuZHJhd0dyaWQoKTtcclxuXHJcbi8vIGNvbnN0IG11bHQgPSBmcHMgKiAwLjAxNjY2NjtcclxuLy8gcGFydGljbGVzLnB1c2gobmV3IFBhcnRpY2xlKG5ldyBWZWMyRCgyMDAsIDIwMCksIDE1LCBuZXcgVmVjMkQoMTAwICogbXVsdCwgLTE1MCAqIG11bHQpLCBnZXRSYW5kb21Db2xvcigpKSk7XHJcblxyXG4vLyBhdHRyYWN0b3JzLnB1c2gobmV3IEF0dHJhY3RvcihuZXcgVmVjMkQoMzAwLCAzMDApLCAyMDAsIDQwMCwgdHJ1ZSwgJ2JsYWNrJykpXHJcbi8vIGF0dHJhY3RvcnMucHVzaChuZXcgQXR0cmFjdG9yKG5ldyBWZWMyRCg5MDAsIDMwMCksIDI4MCwgNDAwLCB0cnVlLCAncGluaycpKVxyXG5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG5fX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvc2NyaXB0LnRzXCIpO1xudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvTWVudU1hbmFnZXIudHNcIik7XG4iXSwibmFtZXMiOlsiZ2wiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0Q29udGV4dCIsImNvbnNvbGUiLCJlcnJvciIsImVuYWJsZSIsIkJMRU5EIiwiYmxlbmRGdW5jIiwiU1JDX0FMUEhBIiwiT05FX01JTlVTX1NSQ19BTFBIQSIsInZlcnRleFNoYWRlciIsImNyZWF0ZVNoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJmcmFnbWVudFNoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsInByb2dyYW0iLCJjcmVhdGVQcm9ncmFtIiwicG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbiIsImdldEF0dHJpYkxvY2F0aW9uIiwicmVzb2x1dGlvblVuaWZvcm1Mb2NhdGlvbiIsImdldFVuaWZvcm1Mb2NhdGlvbiIsImNvbG9yVW5pZm9ybUxvY2F0aW9uIiwidHJhbnNsYXRpb25Mb2NhdGlvbiIsInJhZGl1c1VuaWZvcm1Mb2NhdGlvbiIsIm91dGxpbmVVbmlmb3JtTG9jYXRpb24iLCJ1bmlmb3JtMmYiLCJjYW52YXMiLCJ3aWR0aCIsImhlaWdodCIsInBvc2l0aW9uQnVmZmVyIiwiY3JlYXRlQnVmZmVyIiwic2V0R2VvbWV0cnkiLCJwYXJ0aWNsZXMiLCJmb3JFYWNoIiwicGFydGljbGUiLCJ4IiwieSIsIngxIiwieDIiLCJ5MSIsInkyIiwiYnVmZmVyRGF0YSIsIkFSUkFZX0JVRkZFUiIsIkZsb2F0MzJBcnJheSIsIlNUQVRJQ19EUkFXIiwic2V0UmVjdGFuZ2xlIiwiZ3JpZFNpemUiLCJkcmF3UGFydGljbGVzIiwicmVzaXplQ2FudmFzVG9EaXNwbGF5U2l6ZSIsInZpZXdwb3J0IiwiY2xlYXJDb2xvciIsImNsZWFyIiwiQ09MT1JfQlVGRkVSX0JJVCIsInVzZVByb2dyYW0iLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsImJpbmRCdWZmZXIiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiRkxPQVQiLCJwb3NfY3VyciIsInVuaWZvcm0zZiIsImNvbG9yIiwiciIsImciLCJiIiwidW5pZm9ybTFmIiwicGFydGljbGVfb3V0bGluZSIsImRyYXdBcnJheXMiLCJUUklBTkdMRVMiLCJkcmF3R3JpZCIsImJhY2tfY3R4IiwiY2xlYXJSZWN0IiwiZm9yZWdyb3VuZF9jYW52YXMiLCJzdHJva2VTdHlsZSIsImdldENvbXB1dGVkU3R5bGUiLCJkb2N1bWVudEVsZW1lbnQiLCJnZXRQcm9wZXJ0eVZhbHVlIiwibGluZVdpZHRoIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwiZHJhd1RhaWwiLCJmcm9tIiwidG8iLCJjbGlja2VkIiwiZGlzdGFuY2UiLCJkaWZmZXJlbmNlIiwic3RhcnRQb3MiLCJ2ZWMiLCJwcmVkaWN0ZWREb3QiLCJpIiwiYWNjZWxlcmF0ZSIsImdyYXZpdHkiLCJhcHBseUNvbnN0cmFpbnQiLCJhcHBseUF0dHJhY3RvckZvcmNlcyIsInVwZGF0ZVBvc2l0aW9uIiwiZHJhd0RvdCIsImRyYXdQcmVkaWN0ZWRQYXRoIiwiY2xvbmUiLCJkaXZpZGUiLCJhbmdsZSIsIk1hdGgiLCJhdGFuMiIsIm5ld190byIsImNvcyIsInNpbiIsImRvdFgiLCJkb3RZIiwiZG90U2l6ZSIsIm9wYWNpdHkiLCJjdHgiLCJhcmMiLCJQSSIsImZpbGxTdHlsZSIsImZpbGwiLCJjbG9zZVBhdGgiLCJkcmF3TGFzc28iLCJwb2ludGVyUG9zaXRpb24iLCJmaWVsZFNpemUiLCJkcmF3QXJyb3ciLCJoZWFkbGVuIiwibWVudV9idXR0b24iLCJtZW51X2VsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsIm9wZW5NZW51IiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwic3R5bGUiLCJjdXJzb3IiLCJlbGVtZW50Iiwic2V0VGltZW91dCIsImRpc3BsYXkiLCJjbG9zZU1lbnUiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJxdWVyeVNlbGVjdG9yIiwibmV3VGhlbWUiLCJyb290RWxlbSIsImZpZWxkX3NpemVfc2xpZGVyIiwiZmllbGRfc3RyZW5ndGhfc2xpZGVyIiwiZ3Jhdml0eV9zdHJlbmd0aF9zbGlkZXIiLCJzdWJzdGVwc19hbW91bnRfZW50cnkiLCJwYXJ0aWNsZXNfYW1vdW50X2VudHJ5IiwiZ2V0UG9pbnRlckZ1bmN0aW9uIiwicmFkaW9CdXR0b25zIiwiZ2V0RWxlbWVudHNCeU5hbWUiLCJsZW5ndGgiLCJjaGVja2VkIiwidmFsdWUiLCJvbmlucHV0Iiwic2V0RmllbGRTaXplIiwicGFyc2VJbnQiLCJzZXRGaWVsZFN0cmVuZ3RoIiwic2V0R3Jhdml0eVN0cmVuZ3RoIiwic2V0U3Vic3RlcHMiLCJzZXRQYXJ0aWNsZXNOdW0iLCJwb3MiLCJyYWRpdXMiLCJhY2MiLCJ0aGlzIiwicG9zX3ByZXYiLCJhY2NlbGVyYXRpb24iLCJ1cGRhdGVDZWxsIiwiZmxvb3IiLCJkdCIsInZlbG9jaXR5IiwiYWRkIiwibXVsdGlwbHkiLCJncmlkUG9zIiwiZ3JpZENlbGwiLCJQYXJ0aWNsZSIsInR5cGUiLCJzb3VyY2UiLCJzaGFkZXIiLCJzaGFkZXJTb3VyY2UiLCJjb21waWxlU2hhZGVyIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJsb2ciLCJnZXRTaGFkZXJJbmZvTG9nIiwiZGVsZXRlU2hhZGVyIiwiYXR0YWNoU2hhZGVyIiwibGlua1Byb2dyYW0iLCJnZXRQcm9ncmFtUGFyYW1ldGVyIiwiTElOS19TVEFUVVMiLCJnZXRQcm9ncmFtSW5mb0xvZyIsImRlbGV0ZVByb2dyYW0iLCJkaXNwbGF5V2lkdGgiLCJjbGllbnRXaWR0aCIsImRpc3BsYXlIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJuZWVkUmVzaXplIiwiaW5pdFBhcnRpY2xlU2hhZGVyIiwib3RoZXIiLCJzZXQiLCJzdWJ0cmFjdCIsInNjYWxhciIsImRvdCIsInNxcnQiLCJzcXVhcmVkTGVuZ3RoIiwiVmVjMkQiLCJncmlkIiwiYXR0cmFjdG9ycyIsInBhcnRpY2xlQ291bnQiLCJudW1iZXJfb2ZfY29sbGlzaW9ucyIsImNsaWNrX3N0YXJ0X3Bvc2l0aW9uIiwicG9pbnRlcl9mdW5jdGlvbiIsImJhY2tncm91bmRfY2FudmFzIiwid2ViZ2xfY2FudmFzIiwiZHJhd091dGxpbmUiLCJmaWVsZFN0cmVuZ3RoIiwic3Vic3RlcHNfYW1vdW50IiwiZ3JpZENvbHVtbnMiLCJjZWlsIiwiZ3JpZFJvd3MiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJmcHMiLCJmcHNDb3VudGVyIiwiY3JlYXRlRWxlbWVudCIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsInBhcnRpY2xlQ291bnRlciIsImNvbGxpc2lvbkNvdW50ZXIiLCJzZXREcmF3T3V0bGluZSIsImluaXRpYWxpemVHcmlkIiwiaiIsInVwZGF0ZVBvc2l0aW9ucyIsInJlbW92ZUZyb21HcmlkIiwiY29sdW1uIiwicm93IiwicHVzaCIsImFkZFRvR3JpZCIsImFwcGx5RmllbGQiLCJmaWVsZFBvcyIsInB1bGxEaXJlY3Rpb24iLCJhdHRyYWN0b3IiLCJmb3JjZSIsInNvbHZlQ29sbGlzaW9ucyIsInRlbXBDb2xsaXNpb25EaXJlY3Rpb24iLCJzcXVhcmVkRGlzdGFuY2UiLCJyYWRpaVN1bSIsInBhcnRpY2xlMSIsIm5laWdoYm9yaW5nUGFydGljbGVzIiwiZ2V0TmVpZ2hib3JpbmdQYXJ0aWNsZXMiLCJwYXJ0aWNsZTIiLCJkZWx0YSIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImZyYW1lQ291bnQiLCJsYXN0VGltZSIsInBlcmZvcm1hbmNlIiwibm93IiwiaGFuZGxlTW91c2VEb3duIiwiTW91c2VFdmVudCIsImNsaWVudFgiLCJjbGllbnRZIiwiVG91Y2hFdmVudCIsInRvdWNoZXMiLCJoYW5kbGVNb3VzZVVwIiwibGF1bmNoX2RpciIsImdldFJhbmRvbUNvbG9yIiwicmFuZG9tIiwiaGFuZGxlTW92ZUV2ZW50IiwibWFpbl9ib2R5Iiwid2luZG93IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYW5pbWF0ZSIsInN1Yl9zdGVwcyIsInN1Yl9kdCIsInRpY2siLCJtdWx0IiwiY3VycmVudFRpbWUiLCJ0aW1lRGlmZiIsInJvdW5kIiwiY2FsY3VsYXRlRlBTIiwiaW5uZXJUZXh0IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciXSwic291cmNlUm9vdCI6IiJ9