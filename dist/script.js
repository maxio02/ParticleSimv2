/*! For license information please see script.js.LICENSE.txt */
(()=>{"use strict";var t={"./src/Drawer.ts":(t,e,r)=>{r.r(e),r.d(e,{drawArrow:()=>k,drawDot:()=>E,drawGrid:()=>S,drawLasso:()=>M,drawParticles:()=>b,drawTail:()=>P,setGeometry:()=>w});var n=r("./src/Particle.ts"),o=r("./src/Vec2D.ts"),i=r("./src/shaders/particleFragmentShader.frag"),a=r("./src/shaders/particleVertexShader.vert"),c=r("./src/script.ts"),s=r("./src/ShaderHelper.ts"),u=r("./src/MenuManager.ts"),d=document.getElementById("webgl-canvas").getContext("webgl");d||console.error("Unable to initialize WebGL. Your browser may not support it."),d.enable(d.BLEND),d.blendFunc(d.SRC_ALPHA,d.ONE_MINUS_SRC_ALPHA);var l=(0,s.createShader)(d,d.VERTEX_SHADER,a),h=(0,s.createShader)(d,d.FRAGMENT_SHADER,i),f=(0,s.createProgram)(d,l,h),p=d.getAttribLocation(f,"a_position"),g=d.getUniformLocation(f,"u_resolution"),v=d.getUniformLocation(f,"u_color"),y=d.getUniformLocation(f,"u_translation"),m=d.getUniformLocation(f,"u_radius"),x=d.getUniformLocation(f,"u_outline_black");d.uniform2f(g,d.canvas.width,d.canvas.height);var _=d.createBuffer();function w(){c.particles.forEach((function(t){!function(t,e,r,n,o){var i=0-n/2,a=0+n/2,c=0-o/2,s=0+o/2;t.bufferData(t.ARRAY_BUFFER,new Float32Array([i,c,a,c,i,s,i,s,a,c,a,s]),t.STATIC_DRAW)}(d,0,0,c.gridSize,c.gridSize)}))}function b(){(0,s.resizeCanvasToDisplaySize)(d.canvas),d.viewport(0,0,d.canvas.width,d.canvas.height),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.useProgram(f),d.enableVertexAttribArray(p),d.bindBuffer(d.ARRAY_BUFFER,_),d.vertexAttribPointer(p,2,d.FLOAT,!1,0,0),c.particles.forEach((function(t){d.uniform2f(g,d.canvas.width,d.canvas.height),d.uniform2f(y,t.pos_curr.x,t.pos_curr.y),d.uniform3f(v,t.color.r,t.color.g,t.color.b),d.uniform1f(m,c.gridSize/2),d.uniform1f(x,u.particle_outline),d.drawArrays(d.TRIANGLES,0,6)}))}function S(){c.back_ctx.clearRect(0,0,c.foreground_canvas.width,c.foreground_canvas.height),c.back_ctx.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--grid-color"),c.back_ctx.lineWidth=1;for(var t=c.gridSize;t<c.foreground_canvas.width;t+=c.gridSize)c.back_ctx.beginPath(),c.back_ctx.moveTo(t,0),c.back_ctx.lineTo(t,c.foreground_canvas.height),c.back_ctx.stroke();for(var e=c.gridSize;e<c.foreground_canvas.height;e+=c.gridSize)c.back_ctx.beginPath(),c.back_ctx.moveTo(0,e),c.back_ctx.lineTo(c.foreground_canvas.width,e),c.back_ctx.stroke()}function P(t,e){if(c.clicked&&t.x!=e.x&&t.y!=e.y){var r=t.difference(e);!function(t,e){for(var r=new n.default(t,15,e,{r:0,g:0,b:0}),o=1;o<=510;o++)r.accelerate(c.gravity),(0,c.applyConstraint)(r),(0,c.applyAttractorForces)(r),r.updatePosition(.125),o%15==0&&E(r.pos_curr.x,r.pos_curr.y,5,255-o/2)}(t.clone(),r.clone()),r.divide(8);var i=Math.atan2(e.y-t.y,e.x-t.x),a=new o.default(e.x,e.y);a.x-=Math.cos(i),a.y-=Math.sin(i);for(var s=0;s<=8;s++)E(t.x-r.x*s,t.y-r.y*s,5,255)}}function E(t,e,r,n){c.ctx.beginPath(),c.ctx.arc(t,e,r,0,2*Math.PI,!1),c.ctx.fillStyle="rgba(210, 210, 210, ".concat(n/255,")"),c.ctx.fill(),c.ctx.closePath()}function M(){c.clicked&&(c.ctx.beginPath(),c.ctx.arc(c.pointerPosition.x,c.pointerPosition.y,c.fieldSize,0,2*Math.PI),c.ctx.lineWidth=3,c.ctx.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--grid-color"),c.ctx.stroke(),c.ctx.closePath())}function k(t,e){if(c.clicked&&t.x!=e.x&&t.y!=e.y){var r=Math.atan2(e.y-t.y,e.x-t.x),n=10,i=new o.default(e.x,e.y);i.x-=11.5*Math.cos(r),i.y-=11.5*Math.sin(r),c.ctx.beginPath(),c.ctx.moveTo(t.x,t.y),c.ctx.lineTo(i.x,i.y),c.ctx.strokeStyle="#bbbbbb",c.ctx.lineWidth=10,c.ctx.stroke(),c.ctx.beginPath(),c.ctx.moveTo(i.x,i.y),c.ctx.lineTo(i.x-n*Math.cos(r-Math.PI/7),i.y-n*Math.sin(r-Math.PI/7)),c.ctx.lineTo(i.x-n*Math.cos(r+Math.PI/7),i.y-n*Math.sin(r+Math.PI/7)),c.ctx.lineTo(i.x,i.y),c.ctx.lineTo(i.x-n*Math.cos(r-Math.PI/7),i.y-n*Math.sin(r-Math.PI/7)),c.ctx.strokeStyle="#bbbbbb",c.ctx.lineWidth=10,c.ctx.stroke(),c.ctx.fillStyle="#bbbbbb",c.ctx.fill(),c.ctx.closePath()}}d.bindBuffer(d.ARRAY_BUFFER,_)},"./src/MenuManager.ts":(t,e,r)=>{r.r(e),r.d(e,{closeMenu:()=>u,getPointerFunction:()=>g,openMenu:()=>s,particle_outline:()=>c});var n=r("./src/Drawer.ts"),o=r("./src/script.ts"),i=document.getElementById("menu-button"),a=document.querySelectorAll(".menu-element"),c=1;function s(){"false"==i.getAttribute("open")&&(i.setAttribute("open","true"),i.style.cursor="auto",a.forEach((function(t){setTimeout((function(){t.style.display="block"}),300)})))}function u(){i.setAttribute("open","false"),i.style.cursor="pointer",a.forEach((function(t){t.style.display="none"}))}i.addEventListener("click",(function(t){t.stopPropagation(),s()})),document.querySelector("#theme-switch").addEventListener("click",(function(){var t,e=document.documentElement;t="light"===e.getAttribute("theme")?"dark":"light",e.setAttribute("theme",t),(0,n.drawGrid)(),c=1==c?-1:1}));var d=document.getElementById("field-size-slider"),l=document.getElementById("field-strength-slider"),h=document.getElementById("gravity-strength-slider"),f=document.getElementById("substeps-amount-entry"),p=document.getElementById("particles-amount-entry");function g(){for(var t=document.getElementsByName("cursor-function"),e=0;e<t.length;e++)if(t[e].checked)return t[e].value}d.oninput=function(){(0,o.setFieldSize)(parseInt(d.value))},l.oninput=function(){(0,o.setFieldStrength)(parseInt(l.value))},h.oninput=function(){(0,o.setGravityStrength)(parseInt(h.value))},f.addEventListener("change",(function(){(0,o.setSubsteps)(parseInt(f.value))})),p.addEventListener("change",(function(){(0,o.setParticlesNum)(parseInt(p.value))}))},"./src/Particle.ts":(t,e,r)=>{r.r(e),r.d(e,{default:()=>i});var n=r("./src/Vec2D.ts"),o=r("./src/script.ts");const i=function(){function t(t,e,r,i){this.pos_curr=t,this.pos_prev=this.pos_curr,this.radius=e,this.acceleration=r,this.color=i,this.updateCell(new n.default(Math.floor(this.pos_curr.x/o.gridSize),Math.floor(this.pos_curr.y/o.gridSize)))}return t.prototype.updatePosition=function(t){var e=new n.default(this.pos_curr.x-this.pos_prev.x,this.pos_curr.y-this.pos_prev.y);this.pos_prev=this.pos_curr.clone(),this.pos_curr.add(e),this.acceleration.multiply(t*t),this.pos_curr.add(this.acceleration),this.acceleration.x=0,this.acceleration.y=0},t.prototype.accelerate=function(t){this.acceleration.add(t)},t.prototype.updateCell=function(t){this.gridCell=t},t.canvas=document.getElementById("foreground-canvas"),t.gl=t.canvas.getContext("2d"),t}()},"./src/ShaderHelper.ts":(t,e,r)=>{function n(t,e,r){var n=t.createShader(e);if(t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS))return n;console.log(t.getShaderInfoLog(n)),t.deleteShader(n)}function o(t,e,r){var n=t.createProgram();if(t.attachShader(n,e),t.attachShader(n,r),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS))return n;console.log(t.getProgramInfoLog(n)),t.deleteProgram(n)}function i(t){var e=t.clientWidth,r=t.clientHeight,n=t.width!==e||t.height!==r;return n&&(t.width=e,t.height=r),n}function a(){}r.r(e),r.d(e,{createProgram:()=>o,createShader:()=>n,initParticleShader:()=>a,resizeCanvasToDisplaySize:()=>i})},"./src/Vec2D.ts":(t,e,r)=>{r.r(e),r.d(e,{default:()=>n});const n=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.add=function(t){this.x+=t.x,this.y+=t.y},t.prototype.set=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.subtract=function(t){this.x-=t.x,this.y-=t.y},t.prototype.multiply=function(t){this.x*=t,this.y*=t},t.prototype.divide=function(t){this.x/=t,this.y/=t},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.squaredLength=function(){return this.x*this.x+this.y*this.y},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.difference=function(e){return new t(this.x-e.x,this.y-e.y)},t}()},"./src/script.ts":(t,e,r)=>{r.r(e),r.d(e,{applyAttractorForces:()=>q,applyConstraint:()=>Y,back_ctx:()=>T,clicked:()=>C,ctx:()=>k,drawOutline:()=>b,fieldSize:()=>w,foreground_canvas:()=>m,fps:()=>A,gravity:()=>y,grid:()=>u,gridSize:()=>s,particles:()=>d,pointerPosition:()=>p,setDrawOutline:()=>U,setFieldSize:()=>F,setFieldStrength:()=>R,setGravityStrength:()=>z,setParticlesNum:()=>O,setSubsteps:()=>D});var n=r("./src/Drawer.ts"),o=r("./src/MenuManager.ts"),i=r("./src/Particle.ts"),a=r("./src/ShaderHelper.ts"),c=r("./src/Vec2D.ts"),s=26,u=[],d=[],l=[],h=500,f=0,p=new c.default(0,0),g=new c.default(0,0),v="field",y=new c.default(0,1),m=document.getElementById("foreground-canvas"),x=document.getElementById("background-canvas"),_=document.getElementById("webgl-canvas"),w=100,b=!0,S=10,P=4,E=Math.ceil(m.width/s),M=Math.ceil(m.height/s);m.width=m.getBoundingClientRect().width,m.height=m.getBoundingClientRect().height,x.width=x.getBoundingClientRect().width,x.height=x.getBoundingClientRect().height,_.width=_.getBoundingClientRect().width,_.height=_.getBoundingClientRect().height;var k=m.getContext("2d"),T=x.getContext("2d"),A=60,C=!1,B=document.createElement("div");B.style.position="absolute",B.style.top="10px",B.style.left="10px";var I=document.createElement("div");I.style.position="absolute",I.style.top="30px",I.style.left="10px";var L=document.createElement("div");function R(t){S=t}function F(t){w=t}function z(t){y=new c.default(0,.1*t)}function D(t){P=t}function O(t){h=t;for(var e=d.length-h;e>0;)d.pop(),e--}function U(t){b=t}function G(){E=Math.ceil(m.width/s),M=Math.ceil(m.height/s),console.log(E),console.log(M);for(var t=0;t<E;t++){u[t]=[];for(var e=0;e<M;e++)u[t][e]=[]}}function V(t){!function(){for(var t=0;t<E;t++){u[t]=[];for(var e=0;e<M;e++)u[t][e]=[]}}(),d.forEach((function(e){e.updatePosition(t),function(t){var e=Math.floor(t.pos_curr.x/s),r=Math.floor(t.pos_curr.y/s);e>=0&&e<u.length&&r>=0&&r<u[e].length&&u[e][r].push(t)}(e)}))}function N(t){d.forEach((function(e){var r=t.difference(e.pos_curr),n=r.length();n<w&&n>10&&(r.multiply(100*S),r.divide(n*n),e.accelerate(r))}))}function q(t){l.forEach((function(e){var r=e.pos.difference(t.pos_curr),n=r.length();n<e.radius&&n>10&&(r.multiply(e.force),r.divide(n*n),t.accelerate(r))}))}function H(){f=0;var t=new c.default(0,0),e=0,r=0;d.forEach((function(n){(function(t){for(var e=Math.floor(t.pos_curr.x/s),r=Math.floor(t.pos_curr.y/s),n=[],o=e-1;o<=e+1;o++)for(var i=r-1;i<=r+1;i++)o>=0&&o<u.length&&i>=0&&i<u[o].length&&n.push.apply(n,u[o][i]);return n})(n).forEach((function(o){if(n!==o&&(t.set(n.pos_curr).subtract(o.pos_curr),e=t.squaredLength(),r=n.radius+o.radius,e<r*r&&0!=e)){f++;var i=Math.sqrt(e);t.divide(i);var a=r-i;t.multiply(.5*a),n.pos_curr.add(t),o.pos_curr.subtract(t)}}))}))}function Y(t){t.pos_curr.y+t.radius>m.height&&(t.pos_curr.y=m.height-t.radius,t.pos_prev.y=t.pos_curr.y+t.pos_curr.y-t.pos_prev.y),t.pos_curr.y-t.radius<0&&(t.pos_curr.y=t.radius,t.pos_prev.y=t.pos_curr.y+t.pos_curr.y-t.pos_prev.y),t.pos_curr.x-t.radius<0&&(t.pos_curr.x=t.radius,t.pos_prev.x=t.pos_curr.x+t.pos_curr.x-t.pos_prev.x),t.pos_curr.x+t.radius>m.width&&(t.pos_curr.x=m.width-t.radius)}L.style.position="absolute",L.style.top="50px",L.style.left="10px",document.body.appendChild(B),document.body.appendChild(I),document.body.appendChild(L);var W=0,X=.1*performance.now();function j(t){t.stopPropagation(),C=!0,v=(0,o.getPointerFunction)(),t instanceof MouseEvent?(p.x=t.clientX,p.y=t.clientY):t instanceof TouchEvent&&(p.x=t.touches[0].clientX,p.y=t.touches[0].clientY),g.x=p.x,g.y=p.y}function K(t){switch(t.stopPropagation(),C=!1,v){case"field":case"gravity":break;case"throw":var e=g.difference(p);e.multiply(A/60),d.push(new i.default(g.clone(),15,e,J()))}}function J(){return{r:Math.random(),g:Math.random(),b:Math.random()}}function Q(t){t.stopPropagation(),C&&(t instanceof MouseEvent?(p.x=t.clientX,p.y=t.clientY):t instanceof TouchEvent&&(p.x=t.touches[0].clientX,p.y=t.touches[0].clientY))}var Z=0,$=document.getElementById("main_container");window.addEventListener("resize",(function(){m.width=m.getBoundingClientRect().width,m.height=m.getBoundingClientRect().height,x.width=x.getBoundingClientRect().width,x.height=x.getBoundingClientRect().height,_.width=_.getBoundingClientRect().width,_.height=_.getBoundingClientRect().height,(0,a.initParticleShader)(),G(),(0,n.drawGrid)()})),$.addEventListener("mousedown",j),$.addEventListener("mouseup",K),$.addEventListener("mousemove",Q),$.addEventListener("touchstart",j),$.addEventListener("touchend",K),$.addEventListener("touchmove",Q),$.addEventListener("click",(function(t){t.stopPropagation(),(0,o.closeMenu)()})),(0,a.initParticleShader)(),G(),(0,n.drawGrid)(),requestAnimationFrame((function t(){switch(function(t){for(var e=P,r=t/e,n=0;n<e;n++){if(0!=y.y&&d.forEach((function(t){t.accelerate(y)})),C)switch(v){case"field":N(p);break;case"gravity":(y=p.difference(g)).divide(200)}d.forEach((function(t){Y(t)})),H(),V(r)}}(.5/A*60),k.clearRect(0,0,m.width,m.height),(0,n.drawParticles)(),v){case"field":(0,n.drawLasso)();break;case"gravity":(0,n.drawArrow)(g,p);break;case"throw":(0,n.drawTail)(g,p)}var e=.016666*A;Z%Math.floor(2*e)==0&&d.length<h&&Z>120&&(d.push(new i.default(new c.default(200,200),s/2,new c.default(200*e,-80*e),J())),d.push(new i.default(new c.default(200,260),s/2,new c.default(180*e,-80*e),J())),d.push(new i.default(new c.default(200,320),s/2,new c.default(170*e,-80*e),J())),d.push(new i.default(new c.default(200,380),s/2,new c.default(180*e,-80*e),J())),d.push(new i.default(new c.default(200,440),s/2,new c.default(170*e,-80*e),J())),(0,n.setGeometry)()),Z++,++W%10==0&&(A=function(){var t=.1*performance.now(),e=t-X,r=Math.round(1e3/e);return X=t,r}(),B.innerText="FPS: ".concat(A),I.innerText="Particles: ".concat(d.length),L.innerText="Collisions: ".concat(f)),requestAnimationFrame(t)}))},"./src/shaders/particleFragmentShader.frag":t=>{t.exports="precision mediump float;\r\n\r\nuniform vec2 u_resolution;\r\n\r\nuniform vec3 u_color;\r\nuniform float u_radius;\r\nuniform vec2 u_translation;\r\nuniform float u_outline_black;\r\nfloat mask(in vec2 _st, in float _radius){\r\n    vec2 dist = _st;\r\n    return 1.-smoothstep(_radius-(_radius*0.15),\r\n                         _radius+(_radius*0.15),\r\n                         dot(dist,dist)*3.9);\r\n}\r\n\r\n\r\nvec3 circle(in vec2 _st, in float radius, in vec3 color) {\r\n\tvec2 dist = _st;\r\n\treturn smoothstep(\r\n\t\tradius + (radius * 0.15),\r\n\t\tradius -(radius * 0.15),\r\n\t\tdot(dist, dist) * 3.9) * color + u_outline_black * (smoothstep(\r\n\t\tradius - (radius * 0.15),\r\n\t\tradius +(radius * 0.15),\r\n\t\tdot(dist, dist) * 5.3));\r\n}\r\nvoid main(){\r\n \tvec2 st =  (gl_FragCoord.xy - u_translation*vec2(1., -1.) - u_resolution*vec2(0.,1.)) / u_radius; \r\n\r\n\tvec3 color = circle(st,4.0, u_color);\r\n\r\n\tgl_FragColor = vec4(color, mask(st, 4.0));\r\n}"},"./src/shaders/particleVertexShader.vert":t=>{t.exports="precision mediump float;\r\n\r\nattribute vec2 a_position;\r\n\r\n// attribute vec3 color;\r\n// varying vec3 v_color;\r\nuniform vec2 u_resolution;\r\nuniform vec2 u_translation;\r\n\r\nvoid main() {\r\n    //move the position of the shader\r\n    vec2 position = a_position + u_translation ;\r\n\r\n    // convert the position from pixels to 0.0 to 1.0\r\n    vec2 zeroToOne = position / u_resolution;\r\n\r\n    // convert from 0->1 to 0->2\r\n    vec2 zeroToTwo = zeroToOne * 2.0;\r\n\r\n    // convert from 0->2 to -1->+1 (clipspace)\r\n    vec2 clipSpace = zeroToTwo - 1.0;\r\n\r\n    gl_Position = vec4(clipSpace * vec2(1., -1.), 0, 1);\r\n\r\n    // // Pass the vertex color to the fragment shader.\r\n    // v_position = a_position;\r\n}"}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r("./src/script.ts"),r("./src/MenuManager.ts")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhRSxRQUdyQixJQUFJQyxFQUFTTixFQUF5QkUsR0FBWSxDQUdqREcsUUFBUyxDQUFDLEdBT1gsT0FIQUUsRUFBb0JMLEdBQVVJLEVBQVFBLEVBQU9ELFFBQVNKLEdBRy9DSyxFQUFPRCxPQUNmLENDckJBSixFQUFvQk8sRUFBSSxDQUFDSCxFQUFTSSxLQUNqQyxJQUFJLElBQUlDLEtBQU9ELEVBQ1hSLEVBQW9CVSxFQUFFRixFQUFZQyxLQUFTVCxFQUFvQlUsRUFBRU4sRUFBU0ssSUFDNUVFLE9BQU9DLGVBQWVSLEVBQVNLLEVBQUssQ0FBRUksWUFBWSxFQUFNQyxJQUFLTixFQUFXQyxJQUUxRSxFQ05EVCxFQUFvQlUsRUFBSSxDQUFDSyxFQUFLQyxJQUFVTCxPQUFPTSxVQUFVQyxlQUFlQyxLQUFLSixFQUFLQyxHQ0NsRmhCLEVBQW9CNU4sRUFBS2dPLElBQ0gsb0JBQVhnQixRQUEwQkEsT0FBT0MsYUFDMUNWLE9BQU9DLGVBQWVSLEVBQVNnQixPQUFPQyxZQUFhLENBQUV6SixNQUFPLFdBRTdEK0ksT0FBT0MsZUFBZVIsRUFBUyxhQUFjLENBQUV4SSxPQUFPLEdBQU8sRUNGOURvSSxFQUFvQixtQkFDTUEsRUFBb0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyLy4vc3JjL0RyYXdlci50cyIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyLy4vc3JjL01lbnVNYW5hZ2VyLnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvUGFydGljbGUudHMiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi8uL3NyYy9TaGFkZXJIZWxwZXIudHMiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi8uL3NyYy9WZWMyRC50cyIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyLy4vc3JjL3NjcmlwdC50cyIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBhcnRpY2xlIGZyb20gXCIuL1BhcnRpY2xlXCI7XHJcbmltcG9ydCBWZWMyRCBmcm9tIFwiLi9WZWMyRFwiO1xyXG5pbXBvcnQgcGFydGljbGVGcmFnbWVudFNoYWRlciBmcm9tIFwiLi9zaGFkZXJzL3BhcnRpY2xlRnJhZ21lbnRTaGFkZXIuZnJhZ1wiO1xyXG5pbXBvcnQgcGFydGljbGVWZXJ0ZXhTaGFkZXIgZnJvbSBcIi4vc2hhZGVycy9wYXJ0aWNsZVZlcnRleFNoYWRlci52ZXJ0XCI7XHJcblxyXG5pbXBvcnQgeyBiYWNrX2N0eCwgY3R4LCBmb3JlZ3JvdW5kX2NhbnZhcywgcGFydGljbGVzLCBncmlkU2l6ZSwgcG9pbnRlclBvc2l0aW9uLCBmaWVsZFNpemUsIGNsaWNrZWQsIGRyYXdPdXRsaW5lLCBncmF2aXR5LCBmcHMsIGFwcGx5Q29uc3RyYWludCwgYXBwbHlBdHRyYWN0b3JGb3JjZXMsIGdyaWQgfSBmcm9tIFwiLi9zY3JpcHRcIjtcclxuaW1wb3J0IHsgY3JlYXRlUHJvZ3JhbSwgY3JlYXRlU2hhZGVyLCBpbml0UGFydGljbGVTaGFkZXIsIHJlc2l6ZUNhbnZhc1RvRGlzcGxheVNpemUgfSBmcm9tIFwiLi9TaGFkZXJIZWxwZXJcIjtcclxuaW1wb3J0IHsgcGFydGljbGVfb3V0bGluZSB9IGZyb20gXCIuL01lbnVNYW5hZ2VyXCI7XHJcblxyXG5cclxudmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3ZWJnbC1jYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxudmFyIGdsID0gY2FudmFzLmdldENvbnRleHQoXCJ3ZWJnbFwiKTtcclxuXHJcbmlmICghZ2wpIHtcclxuICBjb25zb2xlLmVycm9yKFwiVW5hYmxlIHRvIGluaXRpYWxpemUgV2ViR0wuIFlvdXIgYnJvd3NlciBtYXkgbm90IHN1cHBvcnQgaXQuXCIpO1xyXG59XHJcblxyXG4vL2VuYWxiaW5nIGJsZW5kaW5nIGZvciBwcm9wZXIgYWxwaGEgb24gdGhlIHBhcnRpY2xlc1xyXG5nbC5lbmFibGUoZ2wuQkxFTkQpO1xyXG5nbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcclxuXHJcbi8vY29tcGlsaW5nIHRoZSBzaGFkZXJzIHdpdGggYSBoZWxwZXIgZnVuY3Rpb25cclxudmFyIHZlcnRleFNoYWRlciA9IGNyZWF0ZVNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgcGFydGljbGVWZXJ0ZXhTaGFkZXIpO1xyXG52YXIgZnJhZ21lbnRTaGFkZXIgPSBjcmVhdGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgcGFydGljbGVGcmFnbWVudFNoYWRlcik7XHJcblxyXG4vL2NyZWF0aW5nIGEgV2ViR0wgcHJvZ3JhbSBhbmQgYXR0YWNoaW5nIHRoZSBzaGFkZXJzIHRvIGl0IHdpdGggYSBoZWxwZXIgZnVuY3Rpb25cclxudmFyIHByb2dyYW0gPSBjcmVhdGVQcm9ncmFtKGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKTtcclxuXHJcbi8vbG9va2luZyB1cCB1bmlmb3JtIGxvY2F0aW9uIGFuZCB3aGVyZSB0aGUgdmVydGV4IGRhdGEgbmVlZHMgdG8gZ29cclxudmFyIHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCBcImFfcG9zaXRpb25cIik7XHJcbnZhciByZXNvbHV0aW9uVW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sIFwidV9yZXNvbHV0aW9uXCIpO1xyXG52YXIgY29sb3JVbmlmb3JtTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgXCJ1X2NvbG9yXCIpO1xyXG52YXIgdHJhbnNsYXRpb25Mb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCBcInVfdHJhbnNsYXRpb25cIik7XHJcbnZhciByYWRpdXNVbmlmb3JtTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgXCJ1X3JhZGl1c1wiKTtcclxudmFyIG91dGxpbmVVbmlmb3JtTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgXCJ1X291dGxpbmVfYmxhY2tcIik7XHJcbmdsLnVuaWZvcm0yZihyZXNvbHV0aW9uVW5pZm9ybUxvY2F0aW9uLCBnbC5jYW52YXMud2lkdGgsIGdsLmNhbnZhcy5oZWlnaHQpO1xyXG52YXIgcG9zaXRpb25CdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHBvc2l0aW9uQnVmZmVyKTtcclxuXHJcbmZ1bmN0aW9uIHNldFJlY3RhbmdsZShnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCB4Om51bWJlciwgeTpudW1iZXIsIHdpZHRoOm51bWJlciwgaGVpZ2h0Om51bWJlcikge1xyXG4gIHZhciB4MSA9IHggLSB3aWR0aCAvIDI7XHJcbiAgdmFyIHgyID0geCArIHdpZHRoIC8gMjtcclxuICB2YXIgeTEgPSB5IC0gaGVpZ2h0IC8gMjtcclxuICB2YXIgeTIgPSB5ICsgaGVpZ2h0IC8gMjtcclxuIFxyXG4gIC8vIE5PVEU6IGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCAuLi4pIHdpbGwgYWZmZWN0XHJcbiAgLy8gd2hhdGV2ZXIgYnVmZmVyIGlzIGJvdW5kIHRvIHRoZSBgQVJSQVlfQlVGRkVSYCBiaW5kIHBvaW50XHJcbiAgLy8gYnV0IHNvIGZhciB3ZSBvbmx5IGhhdmUgb25lIGJ1ZmZlci4gSWYgd2UgaGFkIG1vcmUgdGhhbiBvbmVcclxuICAvLyBidWZmZXIgd2UnZCB3YW50IHRvIGJpbmQgdGhhdCBidWZmZXIgdG8gYEFSUkFZX0JVRkZFUmAgZmlyc3QuXHJcbiBcclxuICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShbXHJcbiAgICAgeDEsIHkxLFxyXG4gICAgIHgyLCB5MSxcclxuICAgICB4MSwgeTIsXHJcbiAgICAgeDEsIHkyLFxyXG4gICAgIHgyLCB5MSxcclxuICAgICB4MiwgeTJdKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0R2VvbWV0cnkoKXtcclxuICBwYXJ0aWNsZXMuZm9yRWFjaCgocGFydGljbGUpID0+IHtcclxuICAgIHNldFJlY3RhbmdsZShcclxuICAgICAgZ2wsIDAsIDAsIGdyaWRTaXplLCBncmlkU2l6ZSk7XHJcbiAgfSk7XHJcblxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBkcmF3UGFydGljbGVzKCkge1xyXG4gIHJlc2l6ZUNhbnZhc1RvRGlzcGxheVNpemUoZ2wuY2FudmFzKTtcclxuXHJcbiAgLy8gVGVsbCBXZWJHTCBob3cgdG8gY29udmVydCBmcm9tIGNsaXAgc3BhY2UgdG8gcGl4ZWxzXHJcbiAgZ2wudmlld3BvcnQoMCwgMCwgZ2wuY2FudmFzLndpZHRoLCBnbC5jYW52YXMuaGVpZ2h0KTtcclxuXHJcbiAgLy8gQ2xlYXIgdGhlIGNhbnZhc1xyXG4gIGdsLmNsZWFyQ29sb3IoMCwgMCwgMCwgMCk7IC8vIENsZWFyIHRvIHRyYW5zcGFyZW50IGJsYWNrXHJcbiAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCk7XHJcblxyXG4gIC8vIFRlbGwgaXQgdG8gdXNlIHByb2dyYW0gKHBhaXIgb2Ygc2hhZGVycylcclxuICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xyXG5cclxuICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uKTtcclxuXHJcbiAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHBvc2l0aW9uQnVmZmVyKTtcclxuICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24sIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XHJcblxyXG4gIC8vIERyYXcgdGhlIHJlY3RhbmdsZS5cclxuICBwYXJ0aWNsZXMuZm9yRWFjaCgocGFydGljbGUpID0+IHtcclxuICAgICAgZ2wudW5pZm9ybTJmKHJlc29sdXRpb25Vbmlmb3JtTG9jYXRpb24sIGdsLmNhbnZhcy53aWR0aCwgZ2wuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgIGdsLnVuaWZvcm0yZih0cmFuc2xhdGlvbkxvY2F0aW9uLCBwYXJ0aWNsZS5wb3NfY3Vyci54LCBwYXJ0aWNsZS5wb3NfY3Vyci55KTtcclxuICAgICAgZ2wudW5pZm9ybTNmKGNvbG9yVW5pZm9ybUxvY2F0aW9uLCBwYXJ0aWNsZS5jb2xvci5yLHBhcnRpY2xlLmNvbG9yLmcsIHBhcnRpY2xlLmNvbG9yLmIpO1xyXG4gICAgICBnbC51bmlmb3JtMWYocmFkaXVzVW5pZm9ybUxvY2F0aW9uLCBncmlkU2l6ZS8yKVxyXG4gICAgICBnbC51bmlmb3JtMWYob3V0bGluZVVuaWZvcm1Mb2NhdGlvbiwgcGFydGljbGVfb3V0bGluZSk7XHJcbiAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVTLCAwLCA2KTtcclxuICB9KTtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkcmF3R3JpZCgpIHtcclxuXHJcbiAgYmFja19jdHguY2xlYXJSZWN0KDAsIDAsIGZvcmVncm91bmRfY2FudmFzLndpZHRoLCBmb3JlZ3JvdW5kX2NhbnZhcy5oZWlnaHQpO1xyXG5cclxuICBiYWNrX2N0eC5zdHJva2VTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKCctLWdyaWQtY29sb3InKTtcclxuICBiYWNrX2N0eC5saW5lV2lkdGggPSAxO1xyXG4gIGZvciAobGV0IHggPSBncmlkU2l6ZTsgeCA8IGZvcmVncm91bmRfY2FudmFzLndpZHRoOyB4ICs9IGdyaWRTaXplKSB7XHJcbiAgICBiYWNrX2N0eC5iZWdpblBhdGgoKTtcclxuICAgIGJhY2tfY3R4Lm1vdmVUbyh4LCAwKTtcclxuICAgIGJhY2tfY3R4LmxpbmVUbyh4LCBmb3JlZ3JvdW5kX2NhbnZhcy5oZWlnaHQpO1xyXG4gICAgYmFja19jdHguc3Ryb2tlKCk7XHJcbiAgfVxyXG4gIGZvciAobGV0IHkgPSBncmlkU2l6ZTsgeSA8IGZvcmVncm91bmRfY2FudmFzLmhlaWdodDsgeSArPSBncmlkU2l6ZSkge1xyXG4gICAgYmFja19jdHguYmVnaW5QYXRoKCk7XHJcbiAgICBiYWNrX2N0eC5tb3ZlVG8oMCwgeSk7XHJcbiAgICBiYWNrX2N0eC5saW5lVG8oZm9yZWdyb3VuZF9jYW52YXMud2lkdGgsIHkpO1xyXG4gICAgYmFja19jdHguc3Ryb2tlKCk7XHJcbiAgfVxyXG4gIC8vREVCVUdcclxuICAvLyAgIGZvciAobGV0IHggPSAwOyB4IDwgZ3JpZC5sZW5ndGg7IHggKz0gMSkge1xyXG5cclxuICAvLyAgIGZvciAobGV0IHkgPSAwOyB5IDwgZ3JpZFswXS5sZW5ndGg7IHkgKz0gMSkge1xyXG4gIC8vICAgICBiYWNrX2N0eC5mb250ID0gXCIxMnB4IHNlcmlmXCI7XHJcblxyXG4gIC8vICAgICBiYWNrX2N0eC5maWxsVGV4dChgJHtncmlkW3hdW3ldLmxlbmd0aH1gLCAoeCsxKSpncmlkU2l6ZSAtIGdyaWRTaXplLzIgLSAyLCAoeSsxKSpncmlkU2l6ZSAtZ3JpZFNpemUvMiArIDQpO1xyXG4gIC8vICAgICAvLyBiYWNrX2N0eC5maWxsVGV4dChgJHt4fSAke3l9YCwgKHgrMSkqZ3JpZFNpemUgLSBncmlkU2l6ZS8yIC0gMiwgKHkrMSkqZ3JpZFNpemUgLWdyaWRTaXplLzIgKyA0KTtcclxuICAvLyAgIH1cclxuICAvLyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkcmF3VGFpbChmcm9tOiBWZWMyRCwgdG86IFZlYzJEKSB7XHJcbiAgaWYgKGNsaWNrZWQgJiYgZnJvbS54ICE9IHRvLnggJiYgZnJvbS55ICE9IHRvLnkpIHtcclxuICAgIGNvbnN0IGRvdFNpemUgPSA1O1xyXG4gICAgY29uc3QgZG90Q291bnQgPSA4O1xyXG4gICAgY29uc3QgZGlzdGFuY2UgPSBmcm9tLmRpZmZlcmVuY2UodG8pO1xyXG4gICAgZHJhd1ByZWRpY3RlZFBhdGgoZnJvbS5jbG9uZSgpLCBkaXN0YW5jZS5jbG9uZSgpKVxyXG4gICAgZGlzdGFuY2UuZGl2aWRlKGRvdENvdW50KTtcclxuICAgIHZhciBhbmdsZSA9IE1hdGguYXRhbjIodG8ueSAtIGZyb20ueSwgdG8ueCAtIGZyb20ueCk7XHJcbiAgICB2YXIgbmV3X3RvID0gbmV3IFZlYzJEKHRvLngsIHRvLnkpO1xyXG5cclxuICAgIG5ld190by54IC09IE1hdGguY29zKGFuZ2xlKTtcclxuICAgIG5ld190by55IC09IE1hdGguc2luKGFuZ2xlKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBkb3RDb3VudDsgaSsrKSB7XHJcbiAgICAgIHZhciBkb3RYID0gZnJvbS54IC0gZGlzdGFuY2UueCAqIGk7XHJcbiAgICAgIHZhciBkb3RZID0gZnJvbS55IC0gZGlzdGFuY2UueSAqIGk7XHJcbiAgICAgIGRyYXdEb3QoZG90WCwgZG90WSwgZG90U2l6ZSwgMjU1KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3UHJlZGljdGVkUGF0aChzdGFydFBvczogVmVjMkQsIHZlYzogVmVjMkQpIHtcclxuICBsZXQgZG90Q291bnQgPSA1MTA7XHJcbiAgbGV0IHByZWRpY3RlZERvdCA9IG5ldyBQYXJ0aWNsZShzdGFydFBvcywgMTUsIHZlYywge3I6MCwgZzowLCBiOjB9KVxyXG4gIGZvciAobGV0IGkgPSAxOyBpIDw9IGRvdENvdW50OyBpKyspIHtcclxuXHJcbiAgICBwcmVkaWN0ZWREb3QuYWNjZWxlcmF0ZShncmF2aXR5KTtcclxuICAgIGFwcGx5Q29uc3RyYWludChwcmVkaWN0ZWREb3QpO1xyXG4gICAgYXBwbHlBdHRyYWN0b3JGb3JjZXMocHJlZGljdGVkRG90KTtcclxuICAgIHByZWRpY3RlZERvdC51cGRhdGVQb3NpdGlvbigwLjUgKiAwLjI1KTtcclxuXHJcbiAgICBpZiAoaSAlIDE1ID09IDApIHtcclxuICAgICAgZHJhd0RvdChwcmVkaWN0ZWREb3QucG9zX2N1cnIueCwgcHJlZGljdGVkRG90LnBvc19jdXJyLnksIDUsIDI1NSAtIGkgLyAyKVxyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZHJhd0RvdChkb3RYOiBudW1iZXIsIGRvdFk6IG51bWJlciwgZG90U2l6ZTogbnVtYmVyLCBvcGFjaXR5OiBudW1iZXIpIHtcclxuICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgY3R4LmFyYyhcclxuICAgIGRvdFgsXHJcbiAgICBkb3RZLFxyXG4gICAgZG90U2l6ZSxcclxuICAgIDAsXHJcbiAgICAyICogTWF0aC5QSSxcclxuICAgIGZhbHNlXHJcbiAgKTtcclxuXHJcbiAgY3R4LmZpbGxTdHlsZSA9IGByZ2JhKDIxMCwgMjEwLCAyMTAsICR7b3BhY2l0eSAvIDI1NX0pYDtcclxuICBjdHguZmlsbCgpO1xyXG5cclxuICBjdHguY2xvc2VQYXRoKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkcmF3TGFzc28oKSB7XHJcbiAgaWYgKGNsaWNrZWQpIHtcclxuICAgIGNvbnN0IGxpbmVXaWR0aCA9IDM7XHJcbiAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICBjdHguYXJjKHBvaW50ZXJQb3NpdGlvbi54LCBwb2ludGVyUG9zaXRpb24ueSwgZmllbGRTaXplLCAwLCAyICogTWF0aC5QSSk7XHJcbiAgICBjdHgubGluZVdpZHRoID0gbGluZVdpZHRoO1xyXG4gICAgY3R4LnN0cm9rZVN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoJy0tZ3JpZC1jb2xvcicpO1xyXG4gICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgY3R4LmNsb3NlUGF0aCgpO1xyXG4gIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZHJhd0Fycm93KGZyb206IFZlYzJELCB0bzogVmVjMkQpIHtcclxuICBpZiAoY2xpY2tlZCAmJiBmcm9tLnggIT0gdG8ueCAmJiBmcm9tLnkgIT0gdG8ueSkge1xyXG4gICAgdmFyIGFuZ2xlID0gTWF0aC5hdGFuMih0by55IC0gZnJvbS55LCB0by54IC0gZnJvbS54KTtcclxuICAgIGNvbnN0IHdpZHRoID0gMTA7XHJcbiAgICB2YXIgaGVhZGxlbiA9IDEwO1xyXG4gICAgdmFyIG5ld190byA9IG5ldyBWZWMyRCh0by54LCB0by55KTtcclxuICAgIC8vIFRoaXMgbWFrZXMgaXQgc28gdGhlIGVuZCBvZiB0aGUgYXJyb3cgaGVhZCBpcyBsb2NhdGVkIGF0IHRveCwgdG95LCBkb24ndCBhc2sgd2hlcmUgMS4xNSBjb21lcyBmcm9tXHJcbiAgICBuZXdfdG8ueCAtPSBNYXRoLmNvcyhhbmdsZSkgKiAoKHdpZHRoICogMS4xNSkpO1xyXG4gICAgbmV3X3RvLnkgLT0gTWF0aC5zaW4oYW5nbGUpICogKCh3aWR0aCAqIDEuMTUpKTtcclxuXHJcblxyXG5cclxuICAgIC8vc3RhcnRpbmcgcGF0aCBvZiB0aGUgYXJyb3cgZnJvbSB0aGUgc3RhcnQgc3F1YXJlIHRvIHRoZSBlbmQgc3F1YXJlIGFuZCBkcmF3aW5nIHRoZSBzdHJva2VcclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5tb3ZlVG8oZnJvbS54LCBmcm9tLnkpO1xyXG4gICAgY3R4LmxpbmVUbyhuZXdfdG8ueCwgbmV3X3RvLnkpO1xyXG4gICAgY3R4LnN0cm9rZVN0eWxlID0gXCIjYmJiYmJiXCI7XHJcbiAgICBjdHgubGluZVdpZHRoID0gd2lkdGg7XHJcbiAgICBjdHguc3Ryb2tlKCk7XHJcblxyXG4gICAgLy9zdGFydGluZyBhIG5ldyBwYXRoIGZyb20gdGhlIGhlYWQgb2YgdGhlIGFycm93IHRvIG9uZSBvZiB0aGUgc2lkZXMgb2YgdGhlIHBvaW50XHJcbiAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICBjdHgubW92ZVRvKG5ld190by54LCBuZXdfdG8ueSk7XHJcbiAgICBjdHgubGluZVRvKG5ld190by54IC0gaGVhZGxlbiAqIE1hdGguY29zKGFuZ2xlIC0gTWF0aC5QSSAvIDcpLCBuZXdfdG8ueSAtIGhlYWRsZW4gKiBNYXRoLnNpbihhbmdsZSAtIE1hdGguUEkgLyA3KSk7XHJcblxyXG4gICAgLy9wYXRoIGZyb20gdGhlIHNpZGUgcG9pbnQgb2YgdGhlIGFycm93LCB0byB0aGUgb3RoZXIgc2lkZSBwb2ludFxyXG4gICAgY3R4LmxpbmVUbyhuZXdfdG8ueCAtIGhlYWRsZW4gKiBNYXRoLmNvcyhhbmdsZSArIE1hdGguUEkgLyA3KSwgbmV3X3RvLnkgLSBoZWFkbGVuICogTWF0aC5zaW4oYW5nbGUgKyBNYXRoLlBJIC8gNykpO1xyXG5cclxuICAgIC8vcGF0aCBmcm9tIHRoZSBzaWRlIHBvaW50IGJhY2sgdG8gdGhlIHRpcCBvZiB0aGUgYXJyb3csIGFuZCB0aGVuIGFnYWluIHRvIHRoZSBvcHBvc2l0ZSBzaWRlIHBvaW50XHJcbiAgICBjdHgubGluZVRvKG5ld190by54LCBuZXdfdG8ueSk7XHJcbiAgICBjdHgubGluZVRvKG5ld190by54IC0gaGVhZGxlbiAqIE1hdGguY29zKGFuZ2xlIC0gTWF0aC5QSSAvIDcpLCBuZXdfdG8ueSAtIGhlYWRsZW4gKiBNYXRoLnNpbihhbmdsZSAtIE1hdGguUEkgLyA3KSk7XHJcblxyXG4gICAgLy9kcmF3cyB0aGUgcGF0aHMgY3JlYXRlZCBhYm92ZVxyXG4gICAgY3R4LnN0cm9rZVN0eWxlID0gXCIjYmJiYmJiXCI7XHJcbiAgICBjdHgubGluZVdpZHRoID0gd2lkdGg7XHJcbiAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICBjdHguZmlsbFN0eWxlID0gXCIjYmJiYmJiXCI7XHJcbiAgICBjdHguZmlsbCgpO1xyXG4gICAgY3R4LmNsb3NlUGF0aCgpO1xyXG4gIH1cclxufSIsImltcG9ydCB7IGRyYXdHcmlkfSBmcm9tIFwiLi9EcmF3ZXJcIjtcclxuaW1wb3J0IHsgc2V0RmllbGRTaXplLCBzZXRGaWVsZFN0cmVuZ3RoLCBzZXRHcmF2aXR5U3RyZW5ndGgsIHNldFN1YnN0ZXBzLCBzZXRQYXJ0aWNsZXNOdW0sIHNldERyYXdPdXRsaW5lfSBmcm9tIFwiLi9zY3JpcHRcIjtcclxuXHJcbmNvbnN0IG1lbnVfYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZW51LWJ1dHRvblwiKTtcclxuY29uc3QgbWVudV9lbGVtZW50czogTm9kZUxpc3RPZjxIVE1MRWxlbWVudD4gPSAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tZW51LWVsZW1lbnRcIik7XHJcbmV4cG9ydCB2YXIgcGFydGljbGVfb3V0bGluZSA9IDE7XHJcbm1lbnVfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBvcGVuTWVudSgpO1xyXG59KTtcclxuXHJcbmNvbnN0IHN3aXRjaFRoZW1lID0gKCkgPT4ge1xyXG4gICAgY29uc3Qgcm9vdEVsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcclxuICAgIGxldCB0aGVtZSA9IHJvb3RFbGVtLmdldEF0dHJpYnV0ZSgndGhlbWUnKSxcclxuICAgICAgbmV3VGhlbWVcclxuICAgIG5ld1RoZW1lID0gKHRoZW1lID09PSAnbGlnaHQnKSA/ICdkYXJrJyA6ICdsaWdodCdcclxuICBcclxuICAgIHJvb3RFbGVtLnNldEF0dHJpYnV0ZSgndGhlbWUnLCBuZXdUaGVtZSlcclxuICAgIGRyYXdHcmlkKCk7XHJcbiAgICBwYXJ0aWNsZV9vdXRsaW5lID0gKHBhcnRpY2xlX291dGxpbmUgPT0gMSkgPyAtMSA6IDE7XHJcbiAgICAvLyB1cGRhdGVDb2xvcigpO1xyXG4gIH1cclxuXHJcblxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGhlbWUtc3dpdGNoJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzd2l0Y2hUaGVtZSk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gb3Blbk1lbnUoKSB7XHJcbiAgICBpZiAobWVudV9idXR0b24uZ2V0QXR0cmlidXRlKFwib3BlblwiKSA9PSBcImZhbHNlXCIpIHtcclxuICAgICAgICAvLyBtZW51X2J1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5NZW51KVxyXG4gICAgICAgIG1lbnVfYnV0dG9uLnNldEF0dHJpYnV0ZShcIm9wZW5cIiwgXCJ0cnVlXCIpO1xyXG4gICAgICAgIG1lbnVfYnV0dG9uLnN0eWxlLmN1cnNvciA9IFwiYXV0b1wiO1xyXG4gICAgICAgIC8vIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vICAgICBtZW51X2VsZW1lbnRzLml0ZW0oMCkuc3R5bGUuZGlzcGxheT0gXCJpbmxpbmUtYmxvY2tcIjtcclxuICAgICAgICAvLyB9LCAzMDApO1xyXG5cclxuICAgICAgICBtZW51X2VsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgICAgICB9LCAzMDApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VNZW51KCkge1xyXG4gICAgbWVudV9idXR0b24uc2V0QXR0cmlidXRlKFwib3BlblwiLCBcImZhbHNlXCIpO1xyXG4gICAgbWVudV9idXR0b24uc3R5bGUuY3Vyc29yID0gXCJwb2ludGVyXCI7XHJcbiAgICBtZW51X2VsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9KTtcclxuXHJcbn1cclxuXHJcbnZhciBmaWVsZF9zaXplX3NsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmllbGQtc2l6ZS1zbGlkZXJcIikgIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbnZhciBmaWVsZF9zdHJlbmd0aF9zbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpZWxkLXN0cmVuZ3RoLXNsaWRlclwiKSAgYXMgSFRNTElucHV0RWxlbWVudDtcclxudmFyIGdyYXZpdHlfc3RyZW5ndGhfc2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJncmF2aXR5LXN0cmVuZ3RoLXNsaWRlclwiKSAgYXMgSFRNTElucHV0RWxlbWVudDtcclxudmFyIHN1YnN0ZXBzX2Ftb3VudF9lbnRyeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Vic3RlcHMtYW1vdW50LWVudHJ5XCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbnZhciBwYXJ0aWNsZXNfYW1vdW50X2VudHJ5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYXJ0aWNsZXMtYW1vdW50LWVudHJ5XCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbi8vIHZhciBvdXRsaW5lX2NoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkcmF3T3V0bGluZVwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5cclxuZmllbGRfc2l6ZV9zbGlkZXIub25pbnB1dCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgc2V0RmllbGRTaXplKHBhcnNlSW50KGZpZWxkX3NpemVfc2xpZGVyLnZhbHVlKSk7XHJcbiAgfVxyXG5cclxuZmllbGRfc3RyZW5ndGhfc2xpZGVyLm9uaW5wdXQgPSBmdW5jdGlvbigpIHtcclxuICAgIHNldEZpZWxkU3RyZW5ndGgocGFyc2VJbnQoZmllbGRfc3RyZW5ndGhfc2xpZGVyLnZhbHVlKSk7XHJcbiAgfVxyXG5cclxuZ3Jhdml0eV9zdHJlbmd0aF9zbGlkZXIub25pbnB1dCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgc2V0R3Jhdml0eVN0cmVuZ3RoKHBhcnNlSW50KGdyYXZpdHlfc3RyZW5ndGhfc2xpZGVyLnZhbHVlKSk7XHJcbiAgfVxyXG5cclxuc3Vic3RlcHNfYW1vdW50X2VudHJ5LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgc2V0U3Vic3RlcHMocGFyc2VJbnQoc3Vic3RlcHNfYW1vdW50X2VudHJ5LnZhbHVlKSk7XHJcbn0pO1xyXG5cclxucGFydGljbGVzX2Ftb3VudF9lbnRyeS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcclxuICAgIHNldFBhcnRpY2xlc051bShwYXJzZUludChwYXJ0aWNsZXNfYW1vdW50X2VudHJ5LnZhbHVlKSk7XHJcbn0pO1xyXG5cclxuLy8gb3V0bGluZV9jaGVja2JveC5vbmlucHV0ID0gZnVuY3Rpb24oKSB7XHJcbi8vICAgICBzZXREcmF3T3V0bGluZShvdXRsaW5lX2NoZWNrYm94LmNoZWNrZWQpXHJcbi8vIH1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQb2ludGVyRnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgcmFkaW9CdXR0b25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoJ2N1cnNvci1mdW5jdGlvbicpIGFzIE5vZGVMaXN0T2Y8SFRNTElucHV0RWxlbWVudD5cclxuICBcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFkaW9CdXR0b25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChyYWRpb0J1dHRvbnNbaV0uY2hlY2tlZCkge1xyXG4gICAgICAgIHJldHVybiByYWRpb0J1dHRvbnNbaV0udmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4iLCJpbXBvcnQgeyBjcmVhdGVQcm9ncmFtLCBjcmVhdGVTaGFkZXIgfSBmcm9tIFwiLi9TaGFkZXJIZWxwZXJcIjtcclxuaW1wb3J0IFZlYzJEIGZyb20gXCIuL1ZlYzJEXCJcclxuaW1wb3J0IHsgZHJhd091dGxpbmUsIGdyaWQsIGdyaWRTaXplIH0gZnJvbSBcIi4vc2NyaXB0XCI7XHJcbmltcG9ydCBwYXJ0aWNsZUZyYWdtZW50U2hhZGVyIGZyb20gXCIuL3NoYWRlcnMvcGFydGljbGVGcmFnbWVudFNoYWRlci5mcmFnXCI7XHJcbmltcG9ydCBwYXJ0aWNsZVZlcnRleFNoYWRlciBmcm9tIFwiLi9zaGFkZXJzL3BhcnRpY2xlVmVydGV4U2hhZGVyLnZlcnRcIjtcclxuLy8gYmFjayBidXR0b25cclxuLy8gTnVtYmVycyBpbiBtZW51XHJcbi8vIGdyaWQgc2l6ZSBhZGpcclxuLy8gYmFsbCByYW5kb21uZXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhcnRpY2xlIHtcclxuICAgIHN0YXRpYyBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9yZWdyb3VuZC1jYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIHN0YXRpYyBnbCA9IFBhcnRpY2xlLmNhbnZhcyEuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgcG9zX2N1cnI6IFZlYzJEXHJcbiAgICBwb3NfcHJldjogVmVjMkRcclxuICAgIGFjY2VsZXJhdGlvbjogVmVjMkRcclxuICAgIHJhZGl1czogbnVtYmVyXHJcbiAgICBjb2xvcjoge3I6bnVtYmVyLCBnOm51bWJlciwgYjpudW1iZXJ9XHJcbiAgICBncmlkQ2VsbDogVmVjMkRcclxuICAgIFxyXG5cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwb3M6IFZlYzJELCByYWRpdXM6IG51bWJlciwgYWNjOiBWZWMyRCwgY29sb3I6IHtyOm51bWJlciwgZzpudW1iZXIsIGI6bnVtYmVyfSkge1xyXG4gICAgICB0aGlzLnBvc19jdXJyID0gcG9zO1xyXG4gICAgICB0aGlzLnBvc19wcmV2ID0gdGhpcy5wb3NfY3VycjtcclxuICAgICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XHJcbiAgICAgIHRoaXMuYWNjZWxlcmF0aW9uID0gYWNjO1xyXG4gICAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgICAgIHRoaXMudXBkYXRlQ2VsbChuZXcgVmVjMkQoXHJcbiAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHRoaXMucG9zX2N1cnIueCAvIGdyaWRTaXplKSxcclxuICAgICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IodGhpcy5wb3NfY3Vyci55IC8gZ3JpZFNpemUpKSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlUG9zaXRpb24oZHQ6IG51bWJlcil7XHJcbiAgICAgIGxldCB2ZWxvY2l0eTogVmVjMkQgPSBuZXcgVmVjMkQodGhpcy5wb3NfY3Vyci54IC0gdGhpcy5wb3NfcHJldi54LCB0aGlzLnBvc19jdXJyLnkgLSB0aGlzLnBvc19wcmV2LnkpO1xyXG4gICAgICB0aGlzLnBvc19wcmV2ID0gdGhpcy5wb3NfY3Vyci5jbG9uZSgpXHJcblxyXG4gICAgICB0aGlzLnBvc19jdXJyLmFkZCh2ZWxvY2l0eSlcclxuICAgICAgdGhpcy5hY2NlbGVyYXRpb24ubXVsdGlwbHkoZHQqZHQpXHJcbiAgICAgIHRoaXMucG9zX2N1cnIuYWRkKHRoaXMuYWNjZWxlcmF0aW9uKVxyXG5cclxuICAgICAgdGhpcy5hY2NlbGVyYXRpb24ueCA9IDBcclxuICAgICAgdGhpcy5hY2NlbGVyYXRpb24ueSA9IDBcclxuICAgIH1cclxuXHJcbiAgICBhY2NlbGVyYXRlKGFjYzpWZWMyRCl7XHJcbiAgICAgIHRoaXMuYWNjZWxlcmF0aW9uLmFkZChhY2MpXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ2VsbChncmlkUG9zOiBWZWMyRCl7XHJcbiAgICAgIHRoaXMuZ3JpZENlbGwgPSBncmlkUG9zO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gIH0iLCJpbXBvcnQgcGFydGljbGVGcmFnbWVudFNoYWRlciBmcm9tIFwiLi9zaGFkZXJzL3BhcnRpY2xlRnJhZ21lbnRTaGFkZXIuZnJhZ1wiO1xyXG5pbXBvcnQgcGFydGljbGVWZXJ0ZXhTaGFkZXIgZnJvbSBcIi4vc2hhZGVycy9wYXJ0aWNsZVZlcnRleFNoYWRlci52ZXJ0XCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2hhZGVyKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHR5cGU6IGFueSwgc291cmNlOiBhbnkpIHtcclxuICAgIHZhciBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIodHlwZSk7XHJcbiAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzb3VyY2UpO1xyXG4gICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xyXG4gICAgdmFyIHN1Y2Nlc3MgPSBnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUyk7XHJcbiAgICBpZiAoc3VjY2Vzcykge1xyXG4gICAgICByZXR1cm4gc2hhZGVyO1xyXG4gICAgfVxyXG4gICBcclxuICAgIGNvbnNvbGUubG9nKGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKSk7XHJcbiAgICBnbC5kZWxldGVTaGFkZXIoc2hhZGVyKTtcclxuICB9XHJcblxyXG4gIGV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQcm9ncmFtKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHZlcnRleFNoYWRlcjogV2ViR0xTaGFkZXIsIGZyYWdtZW50U2hhZGVyOiBXZWJHTFNoYWRlcikge1xyXG4gICAgdmFyIHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XHJcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcclxuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XHJcbiAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgIHZhciBzdWNjZXNzID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUyk7XHJcbiAgICBpZiAoc3VjY2Vzcykge1xyXG4gICAgICByZXR1cm4gcHJvZ3JhbTtcclxuICAgIH1cclxuICAgXHJcbiAgICBjb25zb2xlLmxvZyhnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSk7XHJcbiAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xyXG4gIH1cclxuXHJcbiAgZXhwb3J0IGZ1bmN0aW9uIHJlc2l6ZUNhbnZhc1RvRGlzcGxheVNpemUoY2FudmFzOmFueSkge1xyXG4gICAgLy8gTG9va3VwIHRoZSBzaXplIHRoZSBicm93c2VyIGlzIGRpc3BsYXlpbmcgdGhlIGNhbnZhcyBpbiBDU1MgcGl4ZWxzLlxyXG4gICAgY29uc3QgZGlzcGxheVdpZHRoICA9IGNhbnZhcy5jbGllbnRXaWR0aDtcclxuICAgIGNvbnN0IGRpc3BsYXlIZWlnaHQgPSBjYW52YXMuY2xpZW50SGVpZ2h0O1xyXG4gICBcclxuICAgIC8vIENoZWNrIGlmIHRoZSBjYW52YXMgaXMgbm90IHRoZSBzYW1lIHNpemUuXHJcbiAgICBjb25zdCBuZWVkUmVzaXplID0gY2FudmFzLndpZHRoICAhPT0gZGlzcGxheVdpZHRoIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCAhPT0gZGlzcGxheUhlaWdodDtcclxuICAgXHJcbiAgICBpZiAobmVlZFJlc2l6ZSkge1xyXG4gICAgICAvLyBNYWtlIHRoZSBjYW52YXMgdGhlIHNhbWUgc2l6ZVxyXG4gICAgICBjYW52YXMud2lkdGggID0gZGlzcGxheVdpZHRoO1xyXG4gICAgICBjYW52YXMuaGVpZ2h0ID0gZGlzcGxheUhlaWdodDtcclxuICAgIH1cclxuICAgXHJcbiAgICByZXR1cm4gbmVlZFJlc2l6ZTtcclxuXHJcbiAgfVxyXG5cclxuXHJcbiAgZXhwb3J0IGZ1bmN0aW9uIGluaXRQYXJ0aWNsZVNoYWRlcigpe1xyXG5cclxuXHJcbi8vIHZhciB3aWR0aCA9IGdsLmNhbnZhcy53aWR0aDtcclxuLy8gdmFyIGhlaWdodCA9IGdsLmNhbnZhcy5oZWlnaHQ7XHJcbi8vIHZhciBjZW50ZXJYID0gMjAwIC8gd2lkdGg7XHJcbi8vIHZhciBjZW50ZXJZID0gMjAwIC8gaGVpZ2h0O1xyXG4vLyBjb25zb2xlLmxvZyh3aWR0aCk7XHJcbi8vIGNvbnNvbGUubG9nKGhlaWdodCk7XHJcbi8vIGNvbnNvbGUubG9nKGNlbnRlclgpO1xyXG4vLyBjb25zb2xlLmxvZyhjZW50ZXJZKTtcclxuLy8gdmFyIHJhZGl1cyA9IE1hdGgubWluKDIwMCwgMjAwKSAvIDI7XHJcbi8vIHZhciBub3JtQ2VudGVyWCA9IGNlbnRlclgvMjtcclxuLy8gdmFyIG5vcm1DZW50ZXJZID0gY2VudGVyWTtcclxuLy8gdmFyIG5vcm1SYWRpdXMgPSByYWRpdXMgLyB3aWR0aDtcclxuLy8gY29uc29sZS5sb2cobm9ybVJhZGl1cyk7XHJcbi8vIGNvbnNvbGUubG9nKG5vcm1DZW50ZXJYKTtcclxuLy8gY29uc29sZS5sb2cobm9ybUNlbnRlclkpO1xyXG5cclxuXHJcblxyXG4vLyByZXNpemVDYW52YXNUb0Rpc3BsYXlTaXplKGdsLmNhbnZhcyk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vc2V0dGluZyB0aGUgcmVzb2x1dGlvblxyXG4vLyBnbC51bmlmb3JtMmYocmVzb2x1dGlvblVuaWZvcm1Mb2NhdGlvbiwgZ2wuY2FudmFzLndpZHRoLCBnbC5jYW52YXMuaGVpZ2h0KTtcclxuLy8gZ2wudW5pZm9ybTJmKGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCBcInVfY2VudGVyXCIpLCBub3JtQ2VudGVyWCwgbm9ybUNlbnRlclkpO1xyXG4vLyBnbC51bmlmb3JtMWYoZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sIFwidV9yYWRpdXNcIiksIG5vcm1SYWRpdXMpO1xyXG5cclxuXHJcblxyXG4gIH0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBWZWMyRCB7XHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbiAgXHJcbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgICB0aGlzLnggPSB4O1xyXG4gICAgICB0aGlzLnkgPSB5O1xyXG4gICAgfVxyXG4gIFxyXG4gICAgYWRkKG90aGVyOiBWZWMyRCl7XHJcbiAgICAgIHRoaXMueCArPSBvdGhlci54O1xyXG4gICAgICB0aGlzLnkgKz0gb3RoZXIueTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQob3RoZXI6IFZlYzJEKXtcclxuICAgICAgdGhpcy54ID0gb3RoZXIueDtcclxuICAgICAgdGhpcy55ID0gb3RoZXIueTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHN1YnRyYWN0KG90aGVyOiBWZWMyRCl7XHJcbiAgICAgIHRoaXMueCAtPSBvdGhlci54O1xyXG4gICAgICB0aGlzLnkgLT0gb3RoZXIueTtcclxuICAgIH1cclxuICBcclxuICAgIG11bHRpcGx5KHNjYWxhcjogbnVtYmVyKSB7XHJcbiAgICAgIHRoaXMueCAqPSBzY2FsYXI7XHJcbiAgICAgIHRoaXMueSAqPSBzY2FsYXI7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBkaXZpZGUoc2NhbGFyOiBudW1iZXIpe1xyXG4gICAgICB0aGlzLnggLz0gc2NhbGFyO1xyXG4gICAgICB0aGlzLnkgLz0gc2NhbGFyO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgZG90KHZlYzogVmVjMkQpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy54ICogdmVjLnggKyB0aGlzLnkgKiB2ZWMueTtcclxuICAgIH1cclxuXHJcbiAgICBsZW5ndGgoKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIHNxdWFyZWRMZW5ndGgoKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9uZSgpOiBWZWMyRHtcclxuICAgICAgcmV0dXJuIG5ldyBWZWMyRCh0aGlzLngsIHRoaXMueSlcclxuICAgIH1cclxuXHJcbiAgICBkaWZmZXJlbmNlKG90aGVyOiBWZWMyRCk6IFZlYzJEe1xyXG4gICAgICByZXR1cm4gbmV3IFZlYzJEKHRoaXMueCAtIG90aGVyLngsIHRoaXMueSAtIG90aGVyLnkpXHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IEF0dHJhY3RvciBmcm9tIFwiLi9BdHRyYWN0b3JcIjtcclxuaW1wb3J0IHsgZHJhd0Fycm93LCBkcmF3R3JpZCwgZHJhd0xhc3NvLCBkcmF3UGFydGljbGVzLCBkcmF3VGFpbCwgc2V0R2VvbWV0cnkgfSBmcm9tIFwiLi9EcmF3ZXJcIjtcclxuaW1wb3J0IHsgY2xvc2VNZW51LCBnZXRQb2ludGVyRnVuY3Rpb24gfSBmcm9tIFwiLi9NZW51TWFuYWdlclwiO1xyXG5pbXBvcnQgUGFydGljbGUgZnJvbSBcIi4vUGFydGljbGVcIjtcclxuaW1wb3J0IHsgaW5pdFBhcnRpY2xlU2hhZGVyIH0gZnJvbSBcIi4vU2hhZGVySGVscGVyXCI7XHJcbmltcG9ydCBWZWMyRCBmcm9tIFwiLi9WZWMyRFwiO1xyXG5leHBvcnQgY29uc3QgZ3JpZFNpemUgPSAyNjtcclxuZXhwb3J0IGNvbnN0IGdyaWQ6IFBhcnRpY2xlW11bXVtdID0gW107XHJcblxyXG5leHBvcnQgY29uc3QgcGFydGljbGVzOiBQYXJ0aWNsZVtdID0gW107XHJcbnZhciBhdHRyYWN0b3JzOiBBdHRyYWN0b3JbXSA9IFtdO1xyXG52YXIgcGFydGljbGVDb3VudCA9IDUwMDtcclxudmFyIG51bWJlcl9vZl9jb2xsaXNpb25zID0gMDtcclxuZXhwb3J0IGNvbnN0IHBvaW50ZXJQb3NpdGlvbiA9IG5ldyBWZWMyRCgwLCAwKVxyXG52YXIgY2xpY2tfc3RhcnRfcG9zaXRpb24gPSBuZXcgVmVjMkQoMCwgMClcclxudmFyIHBvaW50ZXJfZnVuY3Rpb24gPSAnZmllbGQnXHJcbmV4cG9ydCB2YXIgZ3Jhdml0eSA9IG5ldyBWZWMyRCgwLCAxKVxyXG5leHBvcnQgY29uc3QgZm9yZWdyb3VuZF9jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9yZWdyb3VuZC1jYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuY29uc3QgYmFja2dyb3VuZF9jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFja2dyb3VuZC1jYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuY29uc3Qgd2ViZ2xfY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dlYmdsLWNhbnZhcycpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG5cclxuZXhwb3J0IHZhciBmaWVsZFNpemUgPSAxMDBcclxuZXhwb3J0IHZhciBkcmF3T3V0bGluZSA9IHRydWVcclxudmFyIGZpZWxkU3RyZW5ndGggPSAxMFxyXG52YXIgc3Vic3RlcHNfYW1vdW50ID0gNFxyXG52YXIgZ3JpZENvbHVtbnMgPSBNYXRoLmNlaWwoZm9yZWdyb3VuZF9jYW52YXMud2lkdGggLyBncmlkU2l6ZSk7XHJcbnZhciBncmlkUm93cyA9IE1hdGguY2VpbChmb3JlZ3JvdW5kX2NhbnZhcy5oZWlnaHQgLyBncmlkU2l6ZSk7XHJcbmZvcmVncm91bmRfY2FudmFzIS53aWR0aCA9IGZvcmVncm91bmRfY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG5mb3JlZ3JvdW5kX2NhbnZhcyEuaGVpZ2h0ID0gZm9yZWdyb3VuZF9jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG5iYWNrZ3JvdW5kX2NhbnZhcyEud2lkdGggPSBiYWNrZ3JvdW5kX2NhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuYmFja2dyb3VuZF9jYW52YXMhLmhlaWdodCA9IGJhY2tncm91bmRfY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxud2ViZ2xfY2FudmFzIS53aWR0aCA9IHdlYmdsX2NhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxud2ViZ2xfY2FudmFzIS5oZWlnaHQgPSB3ZWJnbF9jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG5leHBvcnQgY29uc3QgY3R4ID0gZm9yZWdyb3VuZF9jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuLy8gZXhwb3J0IGNvbnN0IGN0eCA9IFBhcnRpY2xlLmNhbnZhcyEuZ2V0Q29udGV4dCgnMmQnKTtcclxuZXhwb3J0IGNvbnN0IGJhY2tfY3R4ID0gYmFja2dyb3VuZF9jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuZXhwb3J0IHZhciBmcHMgPSA2MDtcclxuZXhwb3J0IGxldCBjbGlja2VkID0gZmFsc2VcclxubGV0IGZwc0NvdW50ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuZnBzQ291bnRlci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbmZwc0NvdW50ZXIuc3R5bGUudG9wID0gJzEwcHgnO1xyXG5mcHNDb3VudGVyLnN0eWxlLmxlZnQgPSAnMTBweCc7XHJcblxyXG5sZXQgcGFydGljbGVDb3VudGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbnBhcnRpY2xlQ291bnRlci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbnBhcnRpY2xlQ291bnRlci5zdHlsZS50b3AgPSAnMzBweCc7XHJcbnBhcnRpY2xlQ291bnRlci5zdHlsZS5sZWZ0ID0gJzEwcHgnO1xyXG5cclxubGV0IGNvbGxpc2lvbkNvdW50ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuY29sbGlzaW9uQ291bnRlci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbmNvbGxpc2lvbkNvdW50ZXIuc3R5bGUudG9wID0gJzUwcHgnO1xyXG5jb2xsaXNpb25Db3VudGVyLnN0eWxlLmxlZnQgPSAnMTBweCc7XHJcblxyXG5cclxuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmcHNDb3VudGVyKTtcclxuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwYXJ0aWNsZUNvdW50ZXIpO1xyXG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbGxpc2lvbkNvdW50ZXIpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEZpZWxkU3RyZW5ndGgodmFsdWU6IG51bWJlcikge1xyXG4gIGZpZWxkU3RyZW5ndGggPSB2YWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEZpZWxkU2l6ZSh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgZmllbGRTaXplID0gdmFsdWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRHcmF2aXR5U3RyZW5ndGgodmFsdWU6IG51bWJlcikge1xyXG4gIGdyYXZpdHkgPSBuZXcgVmVjMkQoMCwgdmFsdWUgKiAwLjEpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0U3Vic3RlcHModmFsdWU6IG51bWJlcikge1xyXG4gIHN1YnN0ZXBzX2Ftb3VudCA9IHZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0UGFydGljbGVzTnVtKHZhbHVlOiBudW1iZXIpIHtcclxuICBwYXJ0aWNsZUNvdW50ID0gdmFsdWU7XHJcbiAgbGV0IGRpZmYgPSBwYXJ0aWNsZXMubGVuZ3RoIC0gcGFydGljbGVDb3VudDtcclxuICB3aGlsZSggZGlmZiA+IDApe1xyXG4gICBwYXJ0aWNsZXMucG9wKCk7XHJcbiAgIGRpZmYtLTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXREcmF3T3V0bGluZSh2YWx1ZTogYm9vbGVhbikge1xyXG4gIGRyYXdPdXRsaW5lID0gdmFsdWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRpYWxpemVHcmlkKCkge1xyXG4gIGdyaWRDb2x1bW5zID0gTWF0aC5jZWlsKGZvcmVncm91bmRfY2FudmFzLndpZHRoIC8gZ3JpZFNpemUpO1xyXG4gIGdyaWRSb3dzID0gTWF0aC5jZWlsKGZvcmVncm91bmRfY2FudmFzLmhlaWdodCAvIGdyaWRTaXplKTtcclxuICBjb25zb2xlLmxvZyhncmlkQ29sdW1ucyk7XHJcbiAgY29uc29sZS5sb2coZ3JpZFJvd3MpO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JpZENvbHVtbnM7IGkrKykge1xyXG4gICAgZ3JpZFtpXSA9IFtdO1xyXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBncmlkUm93czsgaisrKSB7XHJcbiAgICAgIGdyaWRbaV1bal0gPSBbXTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZUZyb21HcmlkKCkge1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JpZENvbHVtbnM7IGkrKykge1xyXG4gICAgZ3JpZFtpXSA9IFtdO1xyXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBncmlkUm93czsgaisrKSB7XHJcbiAgICAgIGdyaWRbaV1bal0gPSBbXTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFRvR3JpZChwYXJ0aWNsZTogUGFydGljbGUpIHtcclxuICBjb25zdCBjb2x1bW4gPSBNYXRoLmZsb29yKHBhcnRpY2xlLnBvc19jdXJyLnggLyBncmlkU2l6ZSk7XHJcbiAgY29uc3Qgcm93ID0gTWF0aC5mbG9vcihwYXJ0aWNsZS5wb3NfY3Vyci55IC8gZ3JpZFNpemUpO1xyXG5cclxuICBpZiAoY29sdW1uID49IDAgJiYgY29sdW1uIDwgZ3JpZC5sZW5ndGggJiYgcm93ID49IDAgJiYgcm93IDwgZ3JpZFtjb2x1bW5dLmxlbmd0aCkge1xyXG4gICAgZ3JpZFtjb2x1bW5dW3Jvd10ucHVzaChwYXJ0aWNsZSk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXROZWlnaGJvcmluZ1BhcnRpY2xlcyhwYXJ0aWNsZTogUGFydGljbGUpOiBQYXJ0aWNsZVtdIHtcclxuICBjb25zdCBjb2x1bW4gPSBNYXRoLmZsb29yKHBhcnRpY2xlLnBvc19jdXJyLnggLyBncmlkU2l6ZSk7XHJcbiAgY29uc3Qgcm93ID0gTWF0aC5mbG9vcihwYXJ0aWNsZS5wb3NfY3Vyci55IC8gZ3JpZFNpemUpO1xyXG4gIGNvbnN0IG5laWdoYm9yaW5nUGFydGljbGVzOiBQYXJ0aWNsZVtdID0gW107XHJcblxyXG4gIGZvciAobGV0IGkgPSBjb2x1bW4gLSAxOyBpIDw9IGNvbHVtbiArIDE7IGkrKykge1xyXG4gICAgZm9yIChsZXQgaiA9IHJvdyAtIDE7IGogPD0gcm93ICsgMTsgaisrKSB7XHJcbiAgICAgIGlmIChpID49IDAgJiYgaSA8IGdyaWQubGVuZ3RoICYmIGogPj0gMCAmJiBqIDwgZ3JpZFtpXS5sZW5ndGgpIHtcclxuICAgICAgICBuZWlnaGJvcmluZ1BhcnRpY2xlcy5wdXNoKC4uLmdyaWRbaV1bal0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBuZWlnaGJvcmluZ1BhcnRpY2xlcztcclxufVxyXG5cclxuZnVuY3Rpb24gdGljayhkdDogbnVtYmVyKSB7XHJcbiAgdmFyIHN1Yl9zdGVwcyA9IHN1YnN0ZXBzX2Ftb3VudDtcclxuICB2YXIgc3ViX2R0ID0gZHQgLyBzdWJfc3RlcHM7XHJcblxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3ViX3N0ZXBzOyBpKyspIHtcclxuICAgIGlmIChncmF2aXR5LnkgIT0gMCkge1xyXG4gICAgICBhcHBseUdyYXZpdHkoKTtcclxuICAgIH1cclxuICAgIGlmIChjbGlja2VkKSB7XHJcbiAgICAgIHN3aXRjaCAocG9pbnRlcl9mdW5jdGlvbikge1xyXG4gICAgICAgIGNhc2UgJ2ZpZWxkJzpcclxuICAgICAgICAgIGFwcGx5RmllbGQocG9pbnRlclBvc2l0aW9uKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ2dyYXZpdHknOlxyXG4gICAgICAgICAgZ3Jhdml0eSA9IHBvaW50ZXJQb3NpdGlvbi5kaWZmZXJlbmNlKGNsaWNrX3N0YXJ0X3Bvc2l0aW9uKVxyXG4gICAgICAgICAgZ3Jhdml0eS5kaXZpZGUoMjAwKVxyXG4gICAgICAgIGNhc2UgJ3Rocm93JzpcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgfVxyXG5cclxuICAgIH1cclxuICAgIC8vIGFwcGx5QXR0cmFjdG9yRm9yY2VzVG9BbGwoKTtcclxuICAgIGFwcGx5Q29uc3RyYWludFRvQWxsRWRnZXMoKTtcclxuICAgIHNvbHZlQ29sbGlzaW9ucygpO1xyXG4gICAgdXBkYXRlUG9zaXRpb25zKHN1Yl9kdCk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gYXBwbHlDb25zdHJhaW50VG9BbGxFZGdlcygpIHtcclxuXHJcbiAgcGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgICBhcHBseUNvbnN0cmFpbnQocGFydGljbGUpO1xyXG4gIH0pO1xyXG4gIC8vIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IGdyaWQubGVuZ3RoOyBjb2wrKykge1xyXG4gIC8vICAgZm9yICh2YXIgdGhpY2tuZXNzID0gMDsgdGhpY2tuZXNzIDwgMjsgdGhpY2tuZXNzKyspIHtcclxuICAvLyAgICAgZ3JpZFtjb2xdW3RoaWNrbmVzc10uZm9yRWFjaCgocGFydGljbGUpID0+IHtcclxuICAvLyAgICAgICBhcHBseUNvbnN0cmFpbnQocGFydGljbGUpO1xyXG4gIC8vICAgICB9KTtcclxuXHJcbiAgLy8gICAgIGdyaWRbY29sXVtncmlkWzBdLmxlbmd0aCAtIHRoaWNrbmVzcyAtIDFdLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgLy8gICAgICAgYXBwbHlDb25zdHJhaW50KHBhcnRpY2xlKTtcclxuICAvLyAgICAgfSk7XHJcbiAgLy8gICB9XHJcbiAgLy8gfVxyXG5cclxuICAvLyBmb3IgKHZhciByb3cgPSAwOyByb3cgPCBncmlkWzBdLmxlbmd0aDsgcm93KyspIHtcclxuICAvLyAgIGZvciAodmFyIHRoaWNrbmVzcyA9IDA7IHRoaWNrbmVzcyA8IDI7IHRoaWNrbmVzcysrKSB7XHJcbiAgLy8gICAgIGdyaWRbdGhpY2tuZXNzXVtyb3ddLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgLy8gICAgICAgYXBwbHlDb25zdHJhaW50KHBhcnRpY2xlKTtcclxuICAvLyAgICAgfSk7XHJcblxyXG4gIC8vICAgICBncmlkW2dyaWQubGVuZ3RoIC0gdGhpY2tuZXNzIC0gMV1bcm93XS5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gIC8vICAgICAgIGFwcGx5Q29uc3RyYWludChwYXJ0aWNsZSk7XHJcbiAgLy8gICAgIH0pO1xyXG4gIC8vICAgfVxyXG4gIC8vIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlUG9zaXRpb25zKGR0OiBudW1iZXIpIHtcclxuICByZW1vdmVGcm9tR3JpZCgpO1xyXG4gIHBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG5cclxuICAgIHBhcnRpY2xlLnVwZGF0ZVBvc2l0aW9uKGR0KTtcclxuICAgIGFkZFRvR3JpZChwYXJ0aWNsZSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFwcGx5R3Jhdml0eSgpIHtcclxuICBwYXJ0aWNsZXMuZm9yRWFjaCgocGFydGljbGUpID0+IHtcclxuICAgIHBhcnRpY2xlLmFjY2VsZXJhdGUoZ3Jhdml0eSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFwcGx5RmllbGQoZmllbGRQb3M6IFZlYzJEKSB7XHJcbiAgcGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgICBjb25zdCBwdWxsRGlyZWN0aW9uID0gZmllbGRQb3MuZGlmZmVyZW5jZShwYXJ0aWNsZS5wb3NfY3VycilcclxuICAgIGNvbnN0IGRpc3RhbmNlID0gcHVsbERpcmVjdGlvbi5sZW5ndGgoKTtcclxuXHJcbiAgICBpZiAoZGlzdGFuY2UgPCBmaWVsZFNpemUgJiYgZGlzdGFuY2UgPiAxMCkge1xyXG4gICAgICBwdWxsRGlyZWN0aW9uLm11bHRpcGx5KGZpZWxkU3RyZW5ndGggKiAxMDApO1xyXG4gICAgICBwdWxsRGlyZWN0aW9uLmRpdmlkZShkaXN0YW5jZSAqIGRpc3RhbmNlKVxyXG4gICAgICBwYXJ0aWNsZS5hY2NlbGVyYXRlKHB1bGxEaXJlY3Rpb24pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhcHBseUF0dHJhY3RvckZvcmNlc1RvQWxsKCkge1xyXG4gIHBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgYXBwbHlBdHRyYWN0b3JGb3JjZXMocGFydGljbGUpXHJcbiAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhcHBseUF0dHJhY3RvckZvcmNlcyhwYXJ0aWNsZTogUGFydGljbGUpIHtcclxuICBhdHRyYWN0b3JzLmZvckVhY2goKGF0dHJhY3RvcikgPT4ge1xyXG4gICAgY29uc3QgcHVsbERpcmVjdGlvbiA9IGF0dHJhY3Rvci5wb3MuZGlmZmVyZW5jZShwYXJ0aWNsZS5wb3NfY3VycilcclxuICAgIGNvbnN0IGRpc3RhbmNlID0gcHVsbERpcmVjdGlvbi5sZW5ndGgoKTtcclxuXHJcbiAgICBpZiAoZGlzdGFuY2UgPCBhdHRyYWN0b3IucmFkaXVzICYmIGRpc3RhbmNlID4gMTApIHtcclxuICAgICAgcHVsbERpcmVjdGlvbi5tdWx0aXBseShhdHRyYWN0b3IuZm9yY2UpO1xyXG4gICAgICBwdWxsRGlyZWN0aW9uLmRpdmlkZShkaXN0YW5jZSAqIGRpc3RhbmNlKVxyXG4gICAgICBwYXJ0aWNsZS5hY2NlbGVyYXRlKHB1bGxEaXJlY3Rpb24pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzb2x2ZUNvbGxpc2lvbnMoKSB7XHJcbiAgbnVtYmVyX29mX2NvbGxpc2lvbnMgPSAwO1xyXG5cclxuXHJcbiAgbGV0IHRlbXBDb2xsaXNpb25EaXJlY3Rpb24gPSBuZXcgVmVjMkQoMCwgMCk7XHJcbiAgbGV0IHNxdWFyZWREaXN0YW5jZSA9IDA7XHJcbiAgbGV0IHJhZGlpU3VtID0gMDtcclxuICBsZXQgc3F1YXJlZFJhZGlpU3VtID0gMDtcclxuXHJcbiAgcGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlMSkgPT4ge1xyXG4gICAgY29uc3QgbmVpZ2hib3JpbmdQYXJ0aWNsZXMgPSBnZXROZWlnaGJvcmluZ1BhcnRpY2xlcyhwYXJ0aWNsZTEpO1xyXG5cclxuICAgIG5laWdoYm9yaW5nUGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlMikgPT4ge1xyXG4gICAgICBpZiAocGFydGljbGUxID09PSBwYXJ0aWNsZTIpIHJldHVybjtcclxuXHJcbiAgICAgIHRlbXBDb2xsaXNpb25EaXJlY3Rpb24uc2V0KHBhcnRpY2xlMS5wb3NfY3Vycikuc3VidHJhY3QocGFydGljbGUyLnBvc19jdXJyKTtcclxuICAgICAgc3F1YXJlZERpc3RhbmNlID0gdGVtcENvbGxpc2lvbkRpcmVjdGlvbi5zcXVhcmVkTGVuZ3RoKCk7XHJcblxyXG4gICAgICByYWRpaVN1bSA9IHBhcnRpY2xlMS5yYWRpdXMgKyBwYXJ0aWNsZTIucmFkaXVzO1xyXG4gICAgICBzcXVhcmVkUmFkaWlTdW0gPSByYWRpaVN1bSAqIHJhZGlpU3VtO1xyXG5cclxuICAgICAgaWYgKHNxdWFyZWREaXN0YW5jZSA8IHNxdWFyZWRSYWRpaVN1bSAmJiBzcXVhcmVkRGlzdGFuY2UgIT0gMCkge1xyXG4gICAgICAgIG51bWJlcl9vZl9jb2xsaXNpb25zKys7XHJcbiAgICAgICAgICBsZXQgZGlzdGFuY2UgPSBNYXRoLnNxcnQoc3F1YXJlZERpc3RhbmNlKTtcclxuICAgICAgICAgIHRlbXBDb2xsaXNpb25EaXJlY3Rpb24uZGl2aWRlKGRpc3RhbmNlKTtcclxuICAgICAgXHJcbiAgICAgICAgICBsZXQgZGVsdGEgPSByYWRpaVN1bSAtIGRpc3RhbmNlO1xyXG4gICAgICAgICAgdGVtcENvbGxpc2lvbkRpcmVjdGlvbi5tdWx0aXBseShkZWx0YSAqIDAuNSk7XHJcbiAgICAgIFxyXG4gICAgICAgICAgcGFydGljbGUxLnBvc19jdXJyLmFkZCh0ZW1wQ29sbGlzaW9uRGlyZWN0aW9uKTtcclxuICAgICAgICAgIHBhcnRpY2xlMi5wb3NfY3Vyci5zdWJ0cmFjdCh0ZW1wQ29sbGlzaW9uRGlyZWN0aW9uKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhcHBseUNvbnN0cmFpbnQocGFydGljbGU6IFBhcnRpY2xlKSB7XHJcbiAgLy8gQXBwbHkgZmxvb3IgY29uc3RyYWludFxyXG4gIGlmIChwYXJ0aWNsZS5wb3NfY3Vyci55ICsgcGFydGljbGUucmFkaXVzID4gZm9yZWdyb3VuZF9jYW52YXMuaGVpZ2h0KSB7XHJcbiAgICBwYXJ0aWNsZS5wb3NfY3Vyci55ID0gZm9yZWdyb3VuZF9jYW52YXMuaGVpZ2h0IC0gcGFydGljbGUucmFkaXVzO1xyXG4gICAgcGFydGljbGUucG9zX3ByZXYueSA9IHBhcnRpY2xlLnBvc19jdXJyLnkgKyBwYXJ0aWNsZS5wb3NfY3Vyci55IC0gcGFydGljbGUucG9zX3ByZXYueTtcclxuICB9XHJcblxyXG4gIC8vIEFwcGx5IENlaWxpbmcgY29uc3RyYWludFxyXG4gIGlmIChwYXJ0aWNsZS5wb3NfY3Vyci55IC0gcGFydGljbGUucmFkaXVzIDwgMCkge1xyXG4gICAgcGFydGljbGUucG9zX2N1cnIueSA9IHBhcnRpY2xlLnJhZGl1cztcclxuICAgIHBhcnRpY2xlLnBvc19wcmV2LnkgPSBwYXJ0aWNsZS5wb3NfY3Vyci55ICsgcGFydGljbGUucG9zX2N1cnIueSAtIHBhcnRpY2xlLnBvc19wcmV2Lnk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gQXBwbHkgbGVmdCB3YWxsIGNvbnN0cmFpbnRcclxuICBpZiAocGFydGljbGUucG9zX2N1cnIueCAtIHBhcnRpY2xlLnJhZGl1cyA8IDApIHtcclxuICAgIHBhcnRpY2xlLnBvc19jdXJyLnggPSBwYXJ0aWNsZS5yYWRpdXM7XHJcbiAgICBwYXJ0aWNsZS5wb3NfcHJldi54ID0gcGFydGljbGUucG9zX2N1cnIueCArIHBhcnRpY2xlLnBvc19jdXJyLnggLSBwYXJ0aWNsZS5wb3NfcHJldi54O1xyXG4gIH1cclxuXHJcbiAgLy8gQXBwbHkgcmlnaHQgd2FsbCBjb25zdHJhaW50XHJcbiAgaWYgKHBhcnRpY2xlLnBvc19jdXJyLnggKyBwYXJ0aWNsZS5yYWRpdXMgPiBmb3JlZ3JvdW5kX2NhbnZhcy53aWR0aCkge1xyXG4gICAgcGFydGljbGUucG9zX2N1cnIueCA9IGZvcmVncm91bmRfY2FudmFzLndpZHRoIC0gcGFydGljbGUucmFkaXVzO1xyXG5cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsZWFyQ2FudmFzKCkge1xyXG4gIGN0eC5jbGVhclJlY3QoMCwgMCwgZm9yZWdyb3VuZF9jYW52YXMud2lkdGgsIGZvcmVncm91bmRfY2FudmFzLmhlaWdodCk7XHJcbiAgLy8gYmFja19jdHguY2xlYXJSZWN0KDAsIDAsIGZvcmVncm91bmRfY2FudmFzLndpZHRoLCBmb3JlZ3JvdW5kX2NhbnZhcy5oZWlnaHQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVDYW52YXNTaXplKCkge1xyXG4gIGZvcmVncm91bmRfY2FudmFzLndpZHRoID0gZm9yZWdyb3VuZF9jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgZm9yZWdyb3VuZF9jYW52YXMuaGVpZ2h0ID0gZm9yZWdyb3VuZF9jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gIGJhY2tncm91bmRfY2FudmFzLndpZHRoID0gYmFja2dyb3VuZF9jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbiAgYmFja2dyb3VuZF9jYW52YXMuaGVpZ2h0ID0gYmFja2dyb3VuZF9jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gIHdlYmdsX2NhbnZhcy53aWR0aCA9IHdlYmdsX2NhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICB3ZWJnbF9jYW52YXMuaGVpZ2h0ID0gd2ViZ2xfY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICBpbml0UGFydGljbGVTaGFkZXIoKTtcclxuICBpbml0aWFsaXplR3JpZCgpO1xyXG4gIGRyYXdHcmlkKCk7XHJcbn1cclxuXHJcbmxldCBmcmFtZUNvdW50ID0gMDtcclxubGV0IGxhc3RUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgKiAwLjE7XHJcblxyXG5mdW5jdGlvbiBjYWxjdWxhdGVGUFMoKSB7XHJcbiAgY29uc3QgY3VycmVudFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAqIDAuMTtcclxuICBjb25zdCB0aW1lRGlmZiA9IGN1cnJlbnRUaW1lIC0gbGFzdFRpbWU7XHJcbiAgY29uc3QgZnBzID0gTWF0aC5yb3VuZCgxMDAwIC8gdGltZURpZmYpO1xyXG4gIGxhc3RUaW1lID0gY3VycmVudFRpbWU7XHJcbiAgcmV0dXJuIGZwcztcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duKGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCkge1xyXG4gIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXHJcbiAgY2xpY2tlZCA9IHRydWU7XHJcbiAgcG9pbnRlcl9mdW5jdGlvbiA9IGdldFBvaW50ZXJGdW5jdGlvbigpXHJcblxyXG4gIGlmIChldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQpIHtcclxuICAgIHBvaW50ZXJQb3NpdGlvbi54ID0gZXZlbnQuY2xpZW50WDtcclxuICAgIHBvaW50ZXJQb3NpdGlvbi55ID0gZXZlbnQuY2xpZW50WTtcclxuXHJcbiAgfVxyXG4gIGVsc2UgaWYgKGV2ZW50IGluc3RhbmNlb2YgVG91Y2hFdmVudCkge1xyXG4gICAgcG9pbnRlclBvc2l0aW9uLnggPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFg7XHJcbiAgICBwb2ludGVyUG9zaXRpb24ueSA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WTtcclxuICB9XHJcblxyXG4gIGNsaWNrX3N0YXJ0X3Bvc2l0aW9uLnggPSBwb2ludGVyUG9zaXRpb24ueDtcclxuICBjbGlja19zdGFydF9wb3NpdGlvbi55ID0gcG9pbnRlclBvc2l0aW9uLnk7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVNb3VzZVVwKGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCkge1xyXG4gIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXHJcbiAgY2xpY2tlZCA9IGZhbHNlO1xyXG5cclxuICBzd2l0Y2ggKHBvaW50ZXJfZnVuY3Rpb24pIHtcclxuICAgIGNhc2UgJ2ZpZWxkJzpcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdncmF2aXR5JzpcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICd0aHJvdyc6XHJcbiAgICAgIGxldCBsYXVuY2hfZGlyID0gY2xpY2tfc3RhcnRfcG9zaXRpb24uZGlmZmVyZW5jZShwb2ludGVyUG9zaXRpb24pXHJcbiAgICAgIGxhdW5jaF9kaXIubXVsdGlwbHkoZnBzIC8gNjApXHJcbiAgICAgIHBhcnRpY2xlcy5wdXNoKG5ldyBQYXJ0aWNsZShjbGlja19zdGFydF9wb3NpdGlvbi5jbG9uZSgpLCAxNSwgbGF1bmNoX2RpciwgZ2V0UmFuZG9tQ29sb3IoKSkpO1xyXG4gICAgICBicmVhaztcclxuXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRSYW5kb21Db2xvcigpOiB7IHI6IG51bWJlciwgZzogbnVtYmVyLCBiOiBudW1iZXIgfSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHI6IE1hdGgucmFuZG9tKCksXHJcbiAgICBnOiBNYXRoLnJhbmRvbSgpLFxyXG4gICAgYjogTWF0aC5yYW5kb20oKVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlTW92ZUV2ZW50KGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCkge1xyXG4gIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXHJcbiAgaWYgKGNsaWNrZWQpIHtcclxuICAgIGlmIChldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQpIHtcclxuICAgICAgcG9pbnRlclBvc2l0aW9uLnggPSBldmVudC5jbGllbnRYO1xyXG4gICAgICBwb2ludGVyUG9zaXRpb24ueSA9IGV2ZW50LmNsaWVudFk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpIHtcclxuICAgICAgcG9pbnRlclBvc2l0aW9uLnggPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFg7XHJcbiAgICAgIHBvaW50ZXJQb3NpdGlvbi55ID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd0F0dHJhY3RvcnMoKSB7XHJcbiAgYXR0cmFjdG9ycy5mb3JFYWNoKChhdHRyYWN0b3IpID0+IHtcclxuICAgIGF0dHJhY3Rvci5hbmltYXRlKCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBhbmltYXRlKCkge1xyXG4gIHRpY2soMC41IC8gZnBzICogNjApO1xyXG4gIGNsZWFyQ2FudmFzKCk7XHJcbiAgZHJhd1BhcnRpY2xlcygpO1xyXG4gIC8vIGRyYXdHcmlkKCk7XHJcbiAgLy8gZHJhd0F0dHJhY3RvcnMoKTtcclxuICBzd2l0Y2ggKHBvaW50ZXJfZnVuY3Rpb24pIHtcclxuICAgIGNhc2UgJ2ZpZWxkJzpcclxuICAgICAgZHJhd0xhc3NvKCk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnZ3Jhdml0eSc6XHJcbiAgICAgIGRyYXdBcnJvdyhjbGlja19zdGFydF9wb3NpdGlvbiwgcG9pbnRlclBvc2l0aW9uKVxyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ3Rocm93JzpcclxuICAgICAgZHJhd1RhaWwoY2xpY2tfc3RhcnRfcG9zaXRpb24sIHBvaW50ZXJQb3NpdGlvbilcclxuICAgICAgYnJlYWs7XHJcblxyXG4gIH1cclxuXHJcbiAgY29uc3QgbXVsdCA9IGZwcyAqIDAuMDE2NjY2O1xyXG4gIGlmIChpICUgTWF0aC5mbG9vcigyICogbXVsdCkgPT0gMCAmJiBwYXJ0aWNsZXMubGVuZ3RoIDwgcGFydGljbGVDb3VudCAmJiBpID4gMTIwKSB7XHJcbiAgICBwYXJ0aWNsZXMucHVzaChuZXcgUGFydGljbGUobmV3IFZlYzJEKDIwMCwgMjAwKSwgZ3JpZFNpemUvMiwgbmV3IFZlYzJEKDIwMCAqIG11bHQsIC04MCAqIG11bHQpLCBnZXRSYW5kb21Db2xvcigpKSk7XHJcbiAgICBwYXJ0aWNsZXMucHVzaChuZXcgUGFydGljbGUobmV3IFZlYzJEKDIwMCwgMjYwKSwgZ3JpZFNpemUvMiwgbmV3IFZlYzJEKDE4MCAqIG11bHQsIC04MCAqIG11bHQpLCBnZXRSYW5kb21Db2xvcigpKSk7XHJcbiAgICBwYXJ0aWNsZXMucHVzaChuZXcgUGFydGljbGUobmV3IFZlYzJEKDIwMCwgMzIwKSwgZ3JpZFNpemUvMiwgbmV3IFZlYzJEKDE3MCAqIG11bHQsIC04MCAqIG11bHQpLCBnZXRSYW5kb21Db2xvcigpKSk7XHJcbiAgICBwYXJ0aWNsZXMucHVzaChuZXcgUGFydGljbGUobmV3IFZlYzJEKDIwMCwgMzgwKSwgZ3JpZFNpemUvMiwgbmV3IFZlYzJEKDE4MCAqIG11bHQsIC04MCAqIG11bHQpLCBnZXRSYW5kb21Db2xvcigpKSk7XHJcbiAgICBwYXJ0aWNsZXMucHVzaChuZXcgUGFydGljbGUobmV3IFZlYzJEKDIwMCwgNDQwKSwgZ3JpZFNpemUvMiwgbmV3IFZlYzJEKDE3MCAqIG11bHQsIC04MCAqIG11bHQpLCBnZXRSYW5kb21Db2xvcigpKSk7XHJcbiAgICBzZXRHZW9tZXRyeSgpO1xyXG4gIH1cclxuXHJcbiAgaSsrO1xyXG5cclxuXHJcbiAgZnJhbWVDb3VudCsrO1xyXG4gIGlmIChmcmFtZUNvdW50ICUgMTAgPT09IDApIHtcclxuICAgIGZwcyA9IGNhbGN1bGF0ZUZQUygpO1xyXG4gICAgZnBzQ291bnRlci5pbm5lclRleHQgPSBgRlBTOiAke2Zwc31gO1xyXG4gICAgcGFydGljbGVDb3VudGVyLmlubmVyVGV4dCA9IGBQYXJ0aWNsZXM6ICR7cGFydGljbGVzLmxlbmd0aH1gO1xyXG4gICAgY29sbGlzaW9uQ291bnRlci5pbm5lclRleHQgPSBgQ29sbGlzaW9uczogJHtudW1iZXJfb2ZfY29sbGlzaW9uc31gO1xyXG4gIH1cclxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XHJcbn1cclxuXHJcbmxldCBpID0gMDtcclxuY29uc3QgbWFpbl9ib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW5fY29udGFpbmVyJyk7XHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHVwZGF0ZUNhbnZhc1NpemUpO1xyXG5tYWluX2JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBoYW5kbGVNb3VzZURvd24pO1xyXG5tYWluX2JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgaGFuZGxlTW91c2VVcCk7XHJcbm1haW5fYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGhhbmRsZU1vdmVFdmVudCk7XHJcbm1haW5fYm9keS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBoYW5kbGVNb3VzZURvd24pO1xyXG5tYWluX2JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIGhhbmRsZU1vdXNlVXApO1xyXG5tYWluX2JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCBoYW5kbGVNb3ZlRXZlbnQpO1xyXG5tYWluX2JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gIGNsb3NlTWVudSgpO1xyXG59KTtcclxuaW5pdFBhcnRpY2xlU2hhZGVyKCk7XHJcbmluaXRpYWxpemVHcmlkKCk7XHJcbmRyYXdHcmlkKCk7XHJcblxyXG4vLyBjb25zdCBtdWx0ID0gZnBzICogMC4wMTY2NjY7XHJcbi8vIHBhcnRpY2xlcy5wdXNoKG5ldyBQYXJ0aWNsZShuZXcgVmVjMkQoMjAwLCAyMDApLCAxNSwgbmV3IFZlYzJEKDEwMCAqIG11bHQsIC0xNTAgKiBtdWx0KSwgZ2V0UmFuZG9tQ29sb3IoKSkpO1xyXG5cclxuLy8gYXR0cmFjdG9ycy5wdXNoKG5ldyBBdHRyYWN0b3IobmV3IFZlYzJEKDMwMCwgMzAwKSwgMjAwLCA0MDAsIHRydWUsICdibGFjaycpKVxyXG4vLyBhdHRyYWN0b3JzLnB1c2gobmV3IEF0dHJhY3RvcihuZXcgVmVjMkQoOTAwLCAzMDApLCAyODAsIDQwMCwgdHJ1ZSwgJ3BpbmsnKSlcclxucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxuX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL3NjcmlwdC50c1wiKTtcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL01lbnVNYW5hZ2VyLnRzXCIpO1xuIl0sIm5hbWVzIjpbImdsIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiLCJjb25zb2xlIiwiZXJyb3IiLCJlbmFibGUiLCJCTEVORCIsImJsZW5kRnVuYyIsIlNSQ19BTFBIQSIsIk9ORV9NSU5VU19TUkNfQUxQSEEiLCJ2ZXJ0ZXhTaGFkZXIiLCJjcmVhdGVTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwiZnJhZ21lbnRTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJwcm9ncmFtIiwiY3JlYXRlUHJvZ3JhbSIsInBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24iLCJnZXRBdHRyaWJMb2NhdGlvbiIsInJlc29sdXRpb25Vbmlmb3JtTG9jYXRpb24iLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJjb2xvclVuaWZvcm1Mb2NhdGlvbiIsInRyYW5zbGF0aW9uTG9jYXRpb24iLCJyYWRpdXNVbmlmb3JtTG9jYXRpb24iLCJvdXRsaW5lVW5pZm9ybUxvY2F0aW9uIiwidW5pZm9ybTJmIiwiY2FudmFzIiwid2lkdGgiLCJoZWlnaHQiLCJwb3NpdGlvbkJ1ZmZlciIsImNyZWF0ZUJ1ZmZlciIsInNldEdlb21ldHJ5IiwicGFydGljbGVzIiwiZm9yRWFjaCIsInBhcnRpY2xlIiwieCIsInkiLCJ4MSIsIngyIiwieTEiLCJ5MiIsImJ1ZmZlckRhdGEiLCJBUlJBWV9CVUZGRVIiLCJGbG9hdDMyQXJyYXkiLCJTVEFUSUNfRFJBVyIsInNldFJlY3RhbmdsZSIsImdyaWRTaXplIiwiZHJhd1BhcnRpY2xlcyIsInJlc2l6ZUNhbnZhc1RvRGlzcGxheVNpemUiLCJ2aWV3cG9ydCIsImNsZWFyQ29sb3IiLCJjbGVhciIsIkNPTE9SX0JVRkZFUl9CSVQiLCJ1c2VQcm9ncmFtIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJiaW5kQnVmZmVyIiwidmVydGV4QXR0cmliUG9pbnRlciIsIkZMT0FUIiwicG9zX2N1cnIiLCJ1bmlmb3JtM2YiLCJjb2xvciIsInIiLCJnIiwiYiIsInVuaWZvcm0xZiIsInBhcnRpY2xlX291dGxpbmUiLCJkcmF3QXJyYXlzIiwiVFJJQU5HTEVTIiwiZHJhd0dyaWQiLCJiYWNrX2N0eCIsImNsZWFyUmVjdCIsImZvcmVncm91bmRfY2FudmFzIiwic3Ryb2tlU3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwiZG9jdW1lbnRFbGVtZW50IiwiZ2V0UHJvcGVydHlWYWx1ZSIsImxpbmVXaWR0aCIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsImRyYXdUYWlsIiwiZnJvbSIsInRvIiwiY2xpY2tlZCIsImRpc3RhbmNlIiwiZGlmZmVyZW5jZSIsInN0YXJ0UG9zIiwidmVjIiwicHJlZGljdGVkRG90IiwiaSIsImFjY2VsZXJhdGUiLCJncmF2aXR5IiwiYXBwbHlDb25zdHJhaW50IiwiYXBwbHlBdHRyYWN0b3JGb3JjZXMiLCJ1cGRhdGVQb3NpdGlvbiIsImRyYXdEb3QiLCJkcmF3UHJlZGljdGVkUGF0aCIsImNsb25lIiwiZGl2aWRlIiwiYW5nbGUiLCJNYXRoIiwiYXRhbjIiLCJuZXdfdG8iLCJjb3MiLCJzaW4iLCJkb3RYIiwiZG90WSIsImRvdFNpemUiLCJvcGFjaXR5IiwiY3R4IiwiYXJjIiwiUEkiLCJmaWxsU3R5bGUiLCJmaWxsIiwiY2xvc2VQYXRoIiwiZHJhd0xhc3NvIiwicG9pbnRlclBvc2l0aW9uIiwiZmllbGRTaXplIiwiZHJhd0Fycm93IiwiaGVhZGxlbiIsIm1lbnVfYnV0dG9uIiwibWVudV9lbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJvcGVuTWVudSIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsInN0eWxlIiwiY3Vyc29yIiwiZWxlbWVudCIsInNldFRpbWVvdXQiLCJkaXNwbGF5IiwiY2xvc2VNZW51IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwicXVlcnlTZWxlY3RvciIsIm5ld1RoZW1lIiwicm9vdEVsZW0iLCJmaWVsZF9zaXplX3NsaWRlciIsImZpZWxkX3N0cmVuZ3RoX3NsaWRlciIsImdyYXZpdHlfc3RyZW5ndGhfc2xpZGVyIiwic3Vic3RlcHNfYW1vdW50X2VudHJ5IiwicGFydGljbGVzX2Ftb3VudF9lbnRyeSIsImdldFBvaW50ZXJGdW5jdGlvbiIsInJhZGlvQnV0dG9ucyIsImdldEVsZW1lbnRzQnlOYW1lIiwibGVuZ3RoIiwiY2hlY2tlZCIsInZhbHVlIiwib25pbnB1dCIsInNldEZpZWxkU2l6ZSIsInBhcnNlSW50Iiwic2V0RmllbGRTdHJlbmd0aCIsInNldEdyYXZpdHlTdHJlbmd0aCIsInNldFN1YnN0ZXBzIiwic2V0UGFydGljbGVzTnVtIiwicG9zIiwicmFkaXVzIiwiYWNjIiwidGhpcyIsInBvc19wcmV2IiwiYWNjZWxlcmF0aW9uIiwidXBkYXRlQ2VsbCIsImZsb29yIiwiZHQiLCJ2ZWxvY2l0eSIsImFkZCIsIm11bHRpcGx5IiwiZ3JpZFBvcyIsImdyaWRDZWxsIiwiUGFydGljbGUiLCJ0eXBlIiwic291cmNlIiwic2hhZGVyIiwic2hhZGVyU291cmNlIiwiY29tcGlsZVNoYWRlciIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwibG9nIiwiZ2V0U2hhZGVySW5mb0xvZyIsImRlbGV0ZVNoYWRlciIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJkZWxldGVQcm9ncmFtIiwiZGlzcGxheVdpZHRoIiwiY2xpZW50V2lkdGgiLCJkaXNwbGF5SGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwibmVlZFJlc2l6ZSIsImluaXRQYXJ0aWNsZVNoYWRlciIsIm90aGVyIiwic2V0Iiwic3VidHJhY3QiLCJzY2FsYXIiLCJkb3QiLCJzcXJ0Iiwic3F1YXJlZExlbmd0aCIsIlZlYzJEIiwiZ3JpZCIsImF0dHJhY3RvcnMiLCJwYXJ0aWNsZUNvdW50IiwibnVtYmVyX29mX2NvbGxpc2lvbnMiLCJjbGlja19zdGFydF9wb3NpdGlvbiIsInBvaW50ZXJfZnVuY3Rpb24iLCJiYWNrZ3JvdW5kX2NhbnZhcyIsIndlYmdsX2NhbnZhcyIsImRyYXdPdXRsaW5lIiwiZmllbGRTdHJlbmd0aCIsInN1YnN0ZXBzX2Ftb3VudCIsImdyaWRDb2x1bW5zIiwiY2VpbCIsImdyaWRSb3dzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZnBzIiwiZnBzQ291bnRlciIsImNyZWF0ZUVsZW1lbnQiLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJwYXJ0aWNsZUNvdW50ZXIiLCJjb2xsaXNpb25Db3VudGVyIiwiZGlmZiIsInBvcCIsInNldERyYXdPdXRsaW5lIiwiaW5pdGlhbGl6ZUdyaWQiLCJqIiwidXBkYXRlUG9zaXRpb25zIiwicmVtb3ZlRnJvbUdyaWQiLCJjb2x1bW4iLCJyb3ciLCJwdXNoIiwiYWRkVG9HcmlkIiwiYXBwbHlGaWVsZCIsImZpZWxkUG9zIiwicHVsbERpcmVjdGlvbiIsImF0dHJhY3RvciIsImZvcmNlIiwic29sdmVDb2xsaXNpb25zIiwidGVtcENvbGxpc2lvbkRpcmVjdGlvbiIsInNxdWFyZWREaXN0YW5jZSIsInJhZGlpU3VtIiwicGFydGljbGUxIiwibmVpZ2hib3JpbmdQYXJ0aWNsZXMiLCJnZXROZWlnaGJvcmluZ1BhcnRpY2xlcyIsInBhcnRpY2xlMiIsImRlbHRhIiwiYm9keSIsImFwcGVuZENoaWxkIiwiZnJhbWVDb3VudCIsImxhc3RUaW1lIiwicGVyZm9ybWFuY2UiLCJub3ciLCJoYW5kbGVNb3VzZURvd24iLCJNb3VzZUV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJUb3VjaEV2ZW50IiwidG91Y2hlcyIsImhhbmRsZU1vdXNlVXAiLCJsYXVuY2hfZGlyIiwiZ2V0UmFuZG9tQ29sb3IiLCJyYW5kb20iLCJoYW5kbGVNb3ZlRXZlbnQiLCJtYWluX2JvZHkiLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJhbmltYXRlIiwic3ViX3N0ZXBzIiwic3ViX2R0IiwidGljayIsIm11bHQiLCJjdXJyZW50VGltZSIsInRpbWVEaWZmIiwicm91bmQiLCJjYWxjdWxhdGVGUFMiLCJpbm5lclRleHQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImQiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyJdLCJzb3VyY2VSb290IjoiIn0=