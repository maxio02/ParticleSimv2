/*! For license information please see script.js.LICENSE.txt */
(()=>{"use strict";var t={"./src/CanvasManager.ts":(t,e,n)=>{n.r(e),n.d(e,{backgroundCanvas:()=>o,backgroundCanvasCtx:()=>c,clearCanvas:()=>u,foregroundCanvas:()=>r,foregroundCanvasCtx:()=>a,updateCanvasSize:()=>d});var i=n("./src/script.ts"),r=document.getElementById("foreground-canvas"),o=document.getElementById("background-canvas"),s=document.getElementById("webgl-canvas");r.width=r.getBoundingClientRect().width,r.height=r.getBoundingClientRect().height,o.width=o.getBoundingClientRect().width,o.height=o.getBoundingClientRect().height,s.width=s.getBoundingClientRect().width,s.height=s.getBoundingClientRect().height;var a=r.getContext("2d"),c=o.getContext("2d");function u(){a.clearRect(0,0,r.width,r.height)}function d(){r.width=r.getBoundingClientRect().width,r.height=r.getBoundingClientRect().height,o.width=o.getBoundingClientRect().width,o.height=o.getBoundingClientRect().height,s.width=s.getBoundingClientRect().width,s.height=s.getBoundingClientRect().height,i.grid.canvas=o,i.grid.updateSize(),i.grid.draw()}window.addEventListener("resize",d)},"./src/Config.ts":(t,e,n)=>{n.r(e),n.d(e,{getFieldSize:()=>g,getFieldStrength:()=>f,getGravityDirection:()=>l,getGridSize:()=>y,getParticleNumber:()=>p,getPhysicsSubstepsAmount:()=>h,getPointerFunction:()=>v,setFieldSize:()=>C,setFieldStrength:()=>x,setGravityDirection:()=>m,setParticleNumber:()=>S,setPhysicsSubstepsAmount:()=>P,setPointerFunction:()=>w});var i=n("./src/Vec2D.ts"),r=10,o=4,s=new i.default(0,1.3),a=100,c=200,u="field",d=26;function l(){return s}function h(){return o}function f(){return r}function g(){return a}function p(){return c}function v(){return u}function y(){return d}function m(t){s=t}function P(t){o=t}function x(t){r=t}function C(t){a=t}function S(t){c=t}function w(t){u=t}},"./src/Grid.ts":(t,e,n)=>{n.r(e),n.d(e,{Grid:()=>r});var i=n("./src/Config.ts"),r=function(){function t(t,e){void 0===e&&(e=i.getGridSize()),this.pixelSize=e,this.canvas=t,this.columns=Math.ceil(this.canvas.width/this.pixelSize),this.rows=Math.ceil(this.canvas.height/this.pixelSize),this.cells=this.initialize(),this.canvasCtx=this.canvas.getContext("2d")}return t.prototype.initialize=function(){for(var t=[],e=0;e<this.columns;e++){t[e]=[];for(var n=0;n<this.rows;n++)t[e][n]=[]}return t},t.prototype.removeAll=function(){for(var t=0;t<this.columns;t++)for(var e=0;e<this.rows&&null!=this.cells[t];e++)this.cells[t][e]=[]},t.prototype.put=function(t){var e=Math.floor(t.currentPosition.x/this.pixelSize),n=Math.floor(t.currentPosition.y/this.pixelSize);e>=0&&e<this.cells.length&&n>=0&&n<this.cells[e].length&&this.cells[e][n].push(t)},t.prototype.updateSize=function(){this.columns=Math.ceil(this.canvas.width/this.pixelSize),this.rows=Math.ceil(this.canvas.height/this.pixelSize),this.initialize()},t.prototype.draw=function(){this.canvasCtx.clearRect(0,0,this.canvas.width,this.canvas.height),this.canvasCtx.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--grid-color"),this.canvasCtx.lineWidth=1;for(var t=this.pixelSize;t<this.canvas.width;t+=this.pixelSize)this.canvasCtx.beginPath(),this.canvasCtx.moveTo(t,0),this.canvasCtx.lineTo(t,this.canvas.height),this.canvasCtx.stroke();for(var e=this.pixelSize;e<this.canvas.height;e+=this.pixelSize)this.canvasCtx.beginPath(),this.canvasCtx.moveTo(0,e),this.canvasCtx.lineTo(this.canvas.width,e),this.canvasCtx.stroke()},t}()},"./src/InputHandler.ts":(t,e,n)=>{n.r(e),n.d(e,{InputHandler:()=>d});var i=n("./src/Vec2D.ts"),r=n("./src/Config.ts"),o=n("./src/MenuManager.ts"),s=n("./src/UIManager.ts"),a=n("./src/script.ts"),c=n("./src/Utils.ts"),u=n("./src/Particle.ts"),d=function(){function t(){this.clicked=!1,this.pointerPosition=new i.default(0,0),this.clickStartPosition=new i.default(0,0),this.pointerFunction="field"}return t.getInstance=function(){return t.instance||(t.instance=new t,t.instance.initializeEventListeners()),t.instance},t.prototype.initializeEventListeners=function(){var t=document.getElementById("main_container");t&&(t.addEventListener("mousedown",this.handleMouseDown.bind(this)),t.addEventListener("mouseup",this.handleMouseUp.bind(this)),t.addEventListener("mousemove",this.handleMoveEvent.bind(this)),t.addEventListener("touchstart",this.handleMouseDown.bind(this)),t.addEventListener("touchend",this.handleMouseUp.bind(this)),t.addEventListener("touchmove",this.handleMoveEvent.bind(this)),t.addEventListener("click",(function(t){t.stopPropagation(),(0,o.closeMenu)()})))},t.prototype.handleMouseDown=function(t){t.stopPropagation(),this.clicked=!0,t instanceof MouseEvent?(this.pointerPosition.x=t.clientX,this.pointerPosition.y=t.clientY):t instanceof TouchEvent&&(this.pointerPosition.x=t.touches[0].clientX,this.pointerPosition.y=t.touches[0].clientY),this.clickStartPosition.x=this.pointerPosition.x,this.clickStartPosition.y=this.pointerPosition.y},t.prototype.handleMouseUp=function(t){if(t.stopPropagation(),this.clicked=!1,"throw"==r.getPointerFunction()){var e=this.clickStartPosition.clone().difference(this.pointerPosition);e.multiply(s.fps/15),a.particles.push(new u.default(this.clickStartPosition.clone(),r.getGridSize()/2,e,(0,c.getRandomColor)(),a.grid))}},t.prototype.handleMoveEvent=function(t){t.stopPropagation(),this.clicked&&(t instanceof MouseEvent?(this.pointerPosition.x=t.clientX,this.pointerPosition.y=t.clientY):t instanceof TouchEvent&&(this.pointerPosition.x=t.touches[0].clientX,this.pointerPosition.y=t.touches[0].clientY))},t}()},"./src/MenuManager.ts":(t,e,n)=>{n.r(e),n.d(e,{closeMenu:()=>u,openMenu:()=>c,setGravityStrength:()=>v,updatePointerFunction:()=>p});var i=n("./src/Config.ts"),r=n("./src/Vec2D.ts"),o=n("./src/script.ts"),s=document.getElementById("menu-button"),a=document.querySelectorAll(".menu-element");function c(){"false"==s.getAttribute("open")&&(s.setAttribute("open","true"),s.style.cursor="auto",a.forEach((function(t){setTimeout((function(){t.style.display="block"}),300)})))}function u(){s.setAttribute("open","false"),s.style.cursor="pointer",a.forEach((function(t){t.style.display="none"}))}s.addEventListener("click",(function(t){t.stopPropagation(),c()})),document.querySelector("#theme-switch").addEventListener("click",(function(){var t,e=document.documentElement;t="light"===e.getAttribute("theme")?"dark":"light",e.setAttribute("theme",t),o.grid.draw()}));var d=document.getElementById("field-size-slider"),l=document.getElementById("field-strength-slider"),h=document.getElementById("gravity-strength-slider"),f=document.getElementById("substeps-amount-entry"),g=document.getElementById("particles-amount-entry");function p(){for(var t=document.getElementsByName("cursor-function"),e=0;e<t.length;e++)if(t[e].checked)return t[e].value}function v(t){i.setGravityDirection(new r.default(0,.1*t))}document.getElementsByName("cursor-function").forEach((function(t){t.addEventListener("change",(function(){t.checked&&i.setPointerFunction(t.value)}))})),d.oninput=function(){i.setFieldSize(parseInt(d.value))},l.oninput=function(){i.setFieldStrength(parseInt(l.value))},h.oninput=function(){v(parseInt(h.value))},f.addEventListener("change",(function(){i.setPhysicsSubstepsAmount(parseInt(f.value))})),g.addEventListener("change",(function(){i.setParticleNumber(parseInt(g.value));for(var t=o.particles.length-i.getParticleNumber();t>0;)o.particles.pop(),t--}))},"./src/Particle.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var i=n("./src/Vec2D.ts");const r=function(){function t(t,e,n,r,o){this.currentPosition=t,this.previousPosition=this.currentPosition,this.radius=e,this.acceleration=n,this.color=r,this.grid=o,this.cell=new i.default(Math.floor(this.currentPosition.x/o.pixelSize),Math.floor(this.currentPosition.y/o.pixelSize))}return t.prototype.updatePosition=function(t){var e=new i.default(this.currentPosition.x-this.previousPosition.x,this.currentPosition.y-this.previousPosition.y);this.previousPosition=this.currentPosition.clone(),this.currentPosition.add(e),this.acceleration.multiply(t*t),this.currentPosition.add(this.acceleration),this.acceleration.x=0,this.acceleration.y=0,this.updateCell()},t.prototype.accelerate=function(t){this.acceleration.add(t)},t.prototype.getNeighboringParticles=function(){for(var t=[],e=this.cell.x-1;e<=this.cell.x+1;e++)for(var n=this.cell.y-1;n<=this.cell.y+1;n++)e>=0&&e<this.grid.columns&&n>=0&&n<this.grid.rows&&t.push.apply(t,this.grid.cells[e][n]);return t},t.prototype.updateCell=function(){this.cell=new i.default(Math.floor(this.currentPosition.x/this.grid.pixelSize),Math.floor(this.currentPosition.y/this.grid.pixelSize))},t.canvas=document.getElementById("foreground-canvas"),t}()},"./src/PhysicsEngine.ts":(t,e,n)=>{n.r(e),n.d(e,{applyAttractorForces:()=>g,applyAttractorForcesToAll:()=>l,applyConstraint:()=>f,tick:()=>h});var i=n("./src/CanvasManager.ts"),r=n("./src/Config.ts"),o=n("./src/InputHandler.ts"),s=n("./src/Vec2D.ts"),a=n("./src/script.ts"),c=o.InputHandler.getInstance();function u(t){a.grid.removeAll(),a.particles.forEach((function(e){e.updatePosition(t),a.grid.put(e)}))}function d(t){a.particles.forEach((function(e){var n=t.difference(e.currentPosition),i=n.length();i<r.getFieldSize()&&i>10&&(n.multiply(100*r.getFieldStrength()),n.divide(i*i),e.accelerate(n))}))}function l(){a.particles.forEach((function(t){g(t)}))}function h(t){for(var e=t/r.getPhysicsSubstepsAmount(),n=0;n<r.getPhysicsSubstepsAmount();n++){if(0!=r.getGravityDirection().y&&a.particles.forEach((function(t){t.accelerate(r.getGravityDirection())})),c.clicked)switch(r.getPointerFunction()){case"field":d(c.pointerPosition);break;case"gravity":r.setGravityDirection(c.pointerPosition.difference(c.clickStartPosition).divide(400))}a.particles.forEach((function(t){f(t)})),p(),u(e)}}function f(t){t.currentPosition.y+t.radius>i.foregroundCanvas.height&&(t.currentPosition.y=i.foregroundCanvas.height-t.radius,t.previousPosition.y=t.currentPosition.y+t.currentPosition.y-t.previousPosition.y),t.currentPosition.y-t.radius<0&&(t.currentPosition.y=t.radius,t.previousPosition.y=t.currentPosition.y+t.currentPosition.y-t.previousPosition.y),t.currentPosition.x-t.radius<0&&(t.currentPosition.x=t.radius,t.previousPosition.x=t.currentPosition.x+t.currentPosition.x-t.previousPosition.x),t.currentPosition.x+t.radius>i.foregroundCanvas.width&&(t.currentPosition.x=i.foregroundCanvas.width-t.radius)}function g(t){a.attractors.forEach((function(e){var n=e.position.difference(t.currentPosition),i=n.length();i<e.radius&&i>10&&(n.multiply(e.force),n.divide(i*i),t.accelerate(n))}))}function p(){var t=new s.default(0,0),e=0,n=0;a.particles.forEach((function(i){i.getNeighboringParticles().forEach((function(r){if(i!==r&&(t.set(i.currentPosition).subtract(r.currentPosition),e=t.squaredLength(),n=i.radius+r.radius,e<n*n&&0!=e)){var o=Math.sqrt(e);t.divide(o);var s=n-o;t.multiply(.5*s),i.currentPosition.add(t),r.currentPosition.subtract(t)}}))}))}},"./src/Renderer.ts":(t,e,n)=>{n.r(e),n.d(e,{drawArrow:()=>R,drawCursorFunction:()=>T,drawDot:()=>I,drawDottedLine:()=>k,drawLasso:()=>F,drawParticles:()=>z,drawPredictedPath:()=>A,setGeometry:()=>_});var i=n("./src/Vec2D.ts"),r=n("./src/Config.ts"),o=n("./src/shaders/particleFragmentShader.frag"),s=n("./src/shaders/particleVertexShader.vert"),a=n("./src/ShaderHelper.ts"),c=n("./src/CanvasManager.ts"),u=n("./src/PhysicsEngine.ts"),d=n("./src/InputHandler.ts"),l=n("./src/script.ts"),h=n("./src/Particle.ts"),f=n("./src/UIManager.ts"),g=document.getElementById("webgl-canvas"),p=g.getContext("webgl");g.width=g.getBoundingClientRect().width,g.height=g.getBoundingClientRect().height;var v=d.InputHandler.getInstance();p||console.error("Unable to initialize WebGL. Your browser may not support it."),p.enable(p.BLEND),p.blendFunc(p.SRC_ALPHA,p.ONE_MINUS_SRC_ALPHA);var y=(0,a.createShader)(p,p.VERTEX_SHADER,s),m=(0,a.createShader)(p,p.FRAGMENT_SHADER,o),P=(0,a.createProgram)(p,y,m),x=p.getAttribLocation(P,"a_position"),C=p.getUniformLocation(P,"u_resolution"),S=p.getUniformLocation(P,"u_color"),w=p.getUniformLocation(P,"u_translation"),b=p.getUniformLocation(P,"u_radius"),E=p.getUniformLocation(P,"u_outline_black"),M=p.createBuffer();function _(){l.particles.forEach((function(t){!function(t,e,n,i,r){var o=0-i/2,s=0+i/2,a=0-r/2,c=0+r/2;t.bufferData(t.ARRAY_BUFFER,new Float32Array([o,a,s,a,o,c,o,c,s,a,s,c]),t.STATIC_DRAW)}(p,0,0,r.getGridSize(),r.getGridSize())}))}function z(){(0,a.resizeCanvasToDisplaySize)(p.canvas),p.viewport(0,0,p.canvas.width,p.canvas.height),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),p.useProgram(P),p.enableVertexAttribArray(x),p.bindBuffer(p.ARRAY_BUFFER,M),p.vertexAttribPointer(x,2,p.FLOAT,!1,0,0);var t=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--is-outline-dark")),e=[p.canvas.width,p.canvas.height];l.particles.forEach((function(n){p.uniform2fv(C,e),p.uniform2f(w,n.currentPosition.x,n.currentPosition.y),p.uniform3f(S,n.color.r,n.color.g,n.color.b),p.uniform1f(b,n.radius),p.uniform1f(E,t),p.drawArrays(p.TRIANGLES,0,6)}))}function k(t,e,n,r){if(void 0===n&&(n=5),void 0===r&&(r=8),v.clicked&&t.x!=e.x&&t.y!=e.y){var o=t.difference(e);A(t.clone(),o.clone()),o.divide(r);var s=Math.atan2(e.y-t.y,e.x-t.x),a=new i.default(e.x,e.y);a.x-=Math.cos(s),a.y-=Math.sin(s);for(var c=0;c<=r;c++)I(t.x-o.x*c,t.y-o.y*c,n,255)}}function A(t,e){for(var n=new h.default(t,r.getGridSize()/2,e,{r:0,g:0,b:0},l.grid),i=1;i<=127;i++)n.accelerate(r.getGravityDirection()),(0,u.applyConstraint)(n),(0,u.applyAttractorForces)(n),n.updatePosition((0,f.getAverageFrameTime)()/20),i%3==0&&I(n.currentPosition.x,n.currentPosition.y,5,255-2*i)}function I(t,e,n,i){c.foregroundCanvasCtx.beginPath(),c.foregroundCanvasCtx.arc(t,e,n,0,2*Math.PI,!1),c.foregroundCanvasCtx.fillStyle="rgba(210, 210, 210, ".concat(i/255,")"),c.foregroundCanvasCtx.fill(),c.foregroundCanvasCtx.closePath()}function F(t){void 0===t&&(t=3),v.clicked&&(c.foregroundCanvasCtx.beginPath(),c.foregroundCanvasCtx.arc(v.pointerPosition.x,v.pointerPosition.y,r.getFieldSize(),0,2*Math.PI),c.foregroundCanvasCtx.lineWidth=t,c.foregroundCanvasCtx.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--grid-color"),c.foregroundCanvasCtx.stroke(),c.foregroundCanvasCtx.closePath())}function R(t,e){if(v.clicked&&t.x!=e.x&&t.y!=e.y){var n=Math.atan2(e.y-t.y,e.x-t.x),r=10,o=new i.default(e.x,e.y);o.x-=11.5*Math.cos(n),o.y-=11.5*Math.sin(n),c.foregroundCanvasCtx.beginPath(),c.foregroundCanvasCtx.moveTo(t.x,t.y),c.foregroundCanvasCtx.lineTo(o.x,o.y),c.foregroundCanvasCtx.strokeStyle="#bbbbbb",c.foregroundCanvasCtx.lineWidth=10,c.foregroundCanvasCtx.stroke(),c.foregroundCanvasCtx.beginPath(),c.foregroundCanvasCtx.moveTo(o.x,o.y),c.foregroundCanvasCtx.lineTo(o.x-r*Math.cos(n-Math.PI/7),o.y-r*Math.sin(n-Math.PI/7)),c.foregroundCanvasCtx.lineTo(o.x-r*Math.cos(n+Math.PI/7),o.y-r*Math.sin(n+Math.PI/7)),c.foregroundCanvasCtx.lineTo(o.x,o.y),c.foregroundCanvasCtx.lineTo(o.x-r*Math.cos(n-Math.PI/7),o.y-r*Math.sin(n-Math.PI/7)),c.foregroundCanvasCtx.strokeStyle="#bbbbbb",c.foregroundCanvasCtx.lineWidth=10,c.foregroundCanvasCtx.stroke(),c.foregroundCanvasCtx.fillStyle="#bbbbbb",c.foregroundCanvasCtx.fill(),c.foregroundCanvasCtx.closePath()}}function T(){if(v.clicked)switch(r.getPointerFunction()){case"field":F();break;case"gravity":R(v.clickStartPosition,v.pointerPosition);break;case"throw":k(v.clickStartPosition,v.pointerPosition)}}p.bindBuffer(p.ARRAY_BUFFER,M)},"./src/ShaderHelper.ts":(t,e,n)=>{function i(t,e,n){var i=t.createShader(e);if(t.shaderSource(i,n),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS))return i;console.log(t.getShaderInfoLog(i)),t.deleteShader(i)}function r(t,e,n){var i=t.createProgram();if(t.attachShader(i,e),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS))return i;console.log(t.getProgramInfoLog(i)),t.deleteProgram(i)}function o(t){var e=t.clientWidth,n=t.clientHeight,i=t.width!==e||t.height!==n;return i&&(t.width=e,t.height=n),i}n.r(e),n.d(e,{createProgram:()=>r,createShader:()=>i,resizeCanvasToDisplaySize:()=>o})},"./src/UIManager.ts":(t,e,n)=>{n.r(e),n.d(e,{fps:()=>r,frameTimes:()=>o,getAverageFrameTime:()=>u,updateUI:()=>c});var i=document.createElement("div");i.style.position="absolute",i.style.top="10px",i.style.left="10px",document.body.appendChild(i);var r=60,o=[],s=100,a=performance.now();function c(){var t=function(){var t=performance.now(),e=t-a;o.push(e),o.length>s&&o.shift();var n=o.reduce((function(t,e){return t+e}),0)/o.length;return a=t,1e3/n}();i.innerText="FPS: ".concat(Math.round(t))}function u(){return o.reduce((function(t,e){return t+e}),0)/o.length}},"./src/Utils.ts":(t,e,n)=>{function i(){return{r:Math.random(),g:Math.random(),b:Math.random()}}n.r(e),n.d(e,{getRandomColor:()=>i})},"./src/Vec2D.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});const i=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.set=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.multiply=function(t){return this.x*=t,this.y*=t,this},t.prototype.divide=function(t){return this.x/=t,this.y/=t,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.squaredLength=function(){return this.x*this.x+this.y*this.y},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.difference=function(e){return new t(this.x-e.x,this.y-e.y)},t}()},"./src/script.ts":(t,e,n)=>{n.r(e),n.d(e,{attractors:()=>f,grid:()=>p,particles:()=>h});var i=n("./src/Renderer.ts"),r=n("./src/Particle.ts"),o=n("./src/Vec2D.ts"),s=n("./src/UIManager.ts"),a=n("./src/CanvasManager.ts"),c=n("./src/PhysicsEngine.ts"),u=n("./src/Config.ts"),d=n("./src/Grid.ts"),l=n("./src/Utils.ts"),h=[],f=[],g=0,p=new d.Grid(a.backgroundCanvas);p.draw(),requestAnimationFrame((function t(){var e=(0,s.getAverageFrameTime)();(0,c.tick)(e/20),(0,a.clearCanvas)(),(0,i.drawParticles)(),(0,i.drawCursorFunction)(),(0,s.updateUI)();var n=10/e;g%3==0&&h.length<u.getParticleNumber()&&g>120&&(h.push(new r.default(new o.default(200,200),p.pixelSize/2,new o.default(200*n,-80*n),(0,l.getRandomColor)(),p)),h.push(new r.default(new o.default(200,260),p.pixelSize/2,new o.default(180*n,-80*n),(0,l.getRandomColor)(),p)),h.push(new r.default(new o.default(200,320),p.pixelSize/2,new o.default(170*n,-80*n),(0,l.getRandomColor)(),p)),h.push(new r.default(new o.default(200,380),p.pixelSize/2,new o.default(180*n,-80*n),(0,l.getRandomColor)(),p)),h.push(new r.default(new o.default(200,440),p.pixelSize/2,new o.default(170*n,-80*n),(0,l.getRandomColor)(),p)),(0,i.setGeometry)()),g++,requestAnimationFrame(t)}))},"./src/shaders/particleFragmentShader.frag":t=>{t.exports="precision mediump float;\r\n\r\nuniform vec2 u_resolution;\r\n\r\nuniform vec3 u_color;\r\nuniform float u_radius;\r\nuniform vec2 u_translation;\r\nuniform float u_outline_black;\r\nfloat mask(in vec2 _st, in float _radius){\r\n    vec2 dist = _st;\r\n    return 1.-smoothstep(_radius-(_radius*0.15),\r\n                         _radius+(_radius*0.15),\r\n                         dot(dist,dist)*3.9);\r\n}\r\n\r\n\r\nvec3 circle(in vec2 _st, in float radius, in vec3 color) {\r\n\tvec2 dist = _st;\r\n\treturn smoothstep(\r\n\t\tradius + (radius * 0.15),\r\n\t\tradius -(radius * 0.15),\r\n\t\tdot(dist, dist) * 3.9) * color + u_outline_black * (smoothstep(\r\n\t\tradius - (radius * 0.15),\r\n\t\tradius +(radius * 0.15),\r\n\t\tdot(dist, dist) * 5.3));\r\n}\r\nvoid main(){\r\n \tvec2 st =  (gl_FragCoord.xy - u_translation*vec2(1., -1.) - u_resolution*vec2(0.,1.)) / u_radius; \r\n\r\n\tvec3 color = circle(st,4.0, u_color);\r\n\r\n\tgl_FragColor = vec4(color, mask(st, 4.0));\r\n}"},"./src/shaders/particleVertexShader.vert":t=>{t.exports="precision mediump float;\r\n\r\nattribute vec2 a_position;\r\n\r\n// attribute vec3 color;\r\n// varying vec3 v_color;\r\nuniform vec2 u_resolution;\r\nuniform vec2 u_translation;\r\n\r\nvoid main() {\r\n    //move the position of the shader\r\n    vec2 position = a_position + u_translation ;\r\n\r\n    // convert the position from pixels to 0.0 to 1.0\r\n    vec2 zeroToOne = position / u_resolution;\r\n\r\n    // convert from 0->1 to 0->2\r\n    vec2 zeroToTwo = zeroToOne * 2.0;\r\n\r\n    // convert from 0->2 to -1->+1 (clipspace)\r\n    vec2 clipSpace = zeroToTwo - 1.0;\r\n\r\n    gl_Position = vec4(clipSpace * vec2(1., -1.), 0, 1);\r\n\r\n    // // Pass the vertex color to the fragment shader.\r\n    // v_position = a_position;\r\n}"}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n("./src/script.ts"),n("./src/MenuManager.ts")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFBNkwsZ0JBRUY4RyxJQUNBRSxzQkFBc0JDLEVBQ3hCLG8wREN2Q0lHLEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQkUsSUFBakJELEVBQ0gsT0FBT0EsRUFBYUUsUUFHckIsSUFBSUMsRUFBU04sRUFBeUJFLEdBQVksQ0FHakRHLFFBQVMsQ0FBQyxHQU9YLE9BSEFFLEVBQW9CTCxHQUFVSSxFQUFRQSxFQUFPRCxRQUFTSixHQUcvQ0ssRUFBT0QsT0FDZixDQ3JCQUosRUFBb0JPLEVBQUksQ0FBQ0gsRUFBU0ksS0FDakMsSUFBSSxJQUFJQyxLQUFPRCxFQUNYUixFQUFvQlUsRUFBRUYsRUFBWUMsS0FBU1QsRUFBb0JVLEVBQUVOLEVBQVNLLElBQzVFRSxPQUFPQyxlQUFlUixFQUFTSyxFQUFLLENBQUVJLFlBQVksRUFBTUMsSUFBS04sRUFBV0MsSUFFMUUsRUNORFQsRUFBb0JVLEVBQUksQ0FBQ0ssRUFBS0MsSUFBVUwsT0FBT00sVUFBVUMsZUFBZUMsS0FBS0osRUFBS0MsR0NDbEZoQixFQUFvQjFGLEVBQUs4RixJQUNILG9CQUFYZ0IsUUFBMEJBLE9BQU9DLGFBQzFDVixPQUFPQyxlQUFlUixFQUFTZ0IsT0FBT0MsWUFBYSxDQUFFcE4sTUFBTyxXQUU3RDBNLE9BQU9DLGVBQWVSLEVBQVMsYUFBYyxDQUFFbk0sT0FBTyxHQUFPLEVDRjlEK0wsRUFBb0IsbUJBQ01BLEVBQW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi8uL3NyYy9DYW52YXNNYW5hZ2VyLnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvQ29uZmlnLnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvR3JpZC50cyIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyLy4vc3JjL0lucHV0SGFuZGxlci50cyIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyLy4vc3JjL01lbnVNYW5hZ2VyLnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvUGFydGljbGUudHMiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi8uL3NyYy9QaHlzaWNzRW5naW5lLnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvUmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi8uL3NyYy9TaGFkZXJIZWxwZXIudHMiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi8uL3NyYy9VSU1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi8uL3NyYy9VdGlscy50cyIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyLy4vc3JjL1ZlYzJELnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvc2NyaXB0LnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBncmlkIH0gZnJvbSBcIi4vc2NyaXB0XCI7XHJcblxyXG5leHBvcnQgY29uc3QgZm9yZWdyb3VuZENhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JlZ3JvdW5kLWNhbnZhcycpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG5leHBvcnQgY29uc3QgYmFja2dyb3VuZENhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWNrZ3JvdW5kLWNhbnZhcycpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG5jb25zdCB3ZWJnbENhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3ZWJnbC1jYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuXHJcbmZvcmVncm91bmRDYW52YXMhLndpZHRoID0gZm9yZWdyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuZm9yZWdyb3VuZENhbnZhcyEuaGVpZ2h0ID0gZm9yZWdyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbmJhY2tncm91bmRDYW52YXMhLndpZHRoID0gYmFja2dyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuYmFja2dyb3VuZENhbnZhcyEuaGVpZ2h0ID0gYmFja2dyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbndlYmdsQ2FudmFzLndpZHRoID0gd2ViZ2xDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbndlYmdsQ2FudmFzLmhlaWdodCA9IHdlYmdsQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuZXhwb3J0IGNvbnN0IGZvcmVncm91bmRDYW52YXNDdHggPSBmb3JlZ3JvdW5kQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbmV4cG9ydCBjb25zdCBiYWNrZ3JvdW5kQ2FudmFzQ3R4ID0gYmFja2dyb3VuZENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHVwZGF0ZUNhbnZhc1NpemUpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQ2FudmFzKCkge1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5jbGVhclJlY3QoMCwgMCwgZm9yZWdyb3VuZENhbnZhcy53aWR0aCwgZm9yZWdyb3VuZENhbnZhcy5oZWlnaHQpO1xyXG4gIH1cclxuICBcclxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUNhbnZhc1NpemUoKSB7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzLndpZHRoID0gZm9yZWdyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgIGZvcmVncm91bmRDYW52YXMuaGVpZ2h0ID0gZm9yZWdyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICBiYWNrZ3JvdW5kQ2FudmFzLndpZHRoID0gYmFja2dyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgIGJhY2tncm91bmRDYW52YXMuaGVpZ2h0ID0gYmFja2dyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICB3ZWJnbENhbnZhcy53aWR0aCA9IHdlYmdsQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gICAgd2ViZ2xDYW52YXMuaGVpZ2h0ID0gd2ViZ2xDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgZ3JpZC5jYW52YXMgPSBiYWNrZ3JvdW5kQ2FudmFzO1xyXG4gICAgZ3JpZC51cGRhdGVTaXplKCk7XHJcbiAgICBncmlkLmRyYXcoKTtcclxuICB9XHJcbiAgIiwiaW1wb3J0IHsgUG9pbnRlckZ1bmN0aW9uVHlwZSB9IGZyb20gXCIuL0lucHV0SGFuZGxlclwiO1xyXG5pbXBvcnQgVmVjMkQgZnJvbSBcIi4vVmVjMkRcIjtcclxuXHJcbnZhciBmaWVsZFN0cmVuZ3RoID0gMTA7XHJcbnZhciBwaHlzaWNzU3Vic3RlcHNBbW91bnQgPSA0O1xyXG52YXIgZ3Jhdml0eURpcmVjdGlvbiA9IG5ldyBWZWMyRCgwLCAxLjMpO1xyXG52YXIgZmllbGRTaXplID0gMTAwO1xyXG52YXIgcGFydGljbGVOdW1iZXIgPSAyMDA7XHJcbnZhciBwb2ludGVyRnVuY3Rpb246IFBvaW50ZXJGdW5jdGlvblR5cGUgPSAnZmllbGQnO1xyXG52YXIgZ3JpZFNpemUgPSAyNjtcclxuZXhwb3J0IGZ1bmN0aW9uIGdldEdyYXZpdHlEaXJlY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gZ3Jhdml0eURpcmVjdGlvbjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBoeXNpY3NTdWJzdGVwc0Ftb3VudCgpIHtcclxuICAgIHJldHVybiBwaHlzaWNzU3Vic3RlcHNBbW91bnQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWVsZFN0cmVuZ3RoKCkge1xyXG4gICAgcmV0dXJuIGZpZWxkU3RyZW5ndGg7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWVsZFNpemUoKSB7XHJcbiAgICByZXR1cm4gZmllbGRTaXplO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFydGljbGVOdW1iZXIoKSB7XHJcbiAgICByZXR1cm4gcGFydGljbGVOdW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQb2ludGVyRnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gcG9pbnRlckZ1bmN0aW9uO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0R3JpZFNpemUoKSB7XHJcbiAgICByZXR1cm4gZ3JpZFNpemU7ICAgIFxyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEdyYXZpdHlEaXJlY3Rpb24obmV3R3Jhdml0eURpcmVjdGlvbjogVmVjMkQpIHtcclxuICAgIGdyYXZpdHlEaXJlY3Rpb24gPSBuZXdHcmF2aXR5RGlyZWN0aW9uO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0UGh5c2ljc1N1YnN0ZXBzQW1vdW50KG5ld0Ftb3VudDogbnVtYmVyKSB7XHJcbiAgICBwaHlzaWNzU3Vic3RlcHNBbW91bnQgPSBuZXdBbW91bnQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRGaWVsZFN0cmVuZ3RoKG5ld2ZpZWxkU3RyZW5ndGg6IG51bWJlcikge1xyXG4gICAgZmllbGRTdHJlbmd0aCA9IG5ld2ZpZWxkU3RyZW5ndGg7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRGaWVsZFNpemUobmV3ZmllbGRTaXplOiBudW1iZXIpIHtcclxuICAgIGZpZWxkU2l6ZSA9IG5ld2ZpZWxkU2l6ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldFBhcnRpY2xlTnVtYmVyKG5ld1BhcnRpY2xlTnVtYmVyOiBudW1iZXIpIHtcclxuICAgIHBhcnRpY2xlTnVtYmVyID0gbmV3UGFydGljbGVOdW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRQb2ludGVyRnVuY3Rpb24obmV3UG9pbnRlckZ1bmN0aW9uOiBQb2ludGVyRnVuY3Rpb25UeXBlKSB7XHJcbiAgICBwb2ludGVyRnVuY3Rpb24gPSBuZXdQb2ludGVyRnVuY3Rpb247XHJcbn0iLCJpbXBvcnQgeyBiYWNrZ3JvdW5kQ2FudmFzQ3R4IH0gZnJvbSBcIi4vQ2FudmFzTWFuYWdlclwiO1xyXG5pbXBvcnQgUGFydGljbGUgZnJvbSBcIi4vUGFydGljbGVcIjtcclxuaW1wb3J0IHsgZ3JpZCB9IGZyb20gXCIuL3NjcmlwdFwiO1xyXG5pbXBvcnQgKiBhcyBDb25maWcgZnJvbSAnLi9Db25maWcnO1xyXG5leHBvcnQgY2xhc3MgR3JpZCB7XHJcbiAgICBwdWJsaWMgY2VsbHM6IFBhcnRpY2xlW11bXVtdO1xyXG4gICAgcHVibGljIGNvbHVtbnM6IG51bWJlcjtcclxuICAgIHB1YmxpYyByb3dzOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGl4ZWxTaXplOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIHByaXZhdGUgY2FudmFzQ3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcbiAgICBjb25zdHJ1Y3RvcihjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LCBncmlkUGl4ZWxTaXplOiBudW1iZXIgPSBDb25maWcuZ2V0R3JpZFNpemUoKSkge1xyXG4gICAgICAgIHRoaXMucGl4ZWxTaXplID0gZ3JpZFBpeGVsU2l6ZTtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICB0aGlzLmNvbHVtbnMgPSBNYXRoLmNlaWwodGhpcy5jYW52YXMud2lkdGggLyB0aGlzLnBpeGVsU2l6ZSk7XHJcbiAgICAgICAgdGhpcy5yb3dzID0gTWF0aC5jZWlsKHRoaXMuY2FudmFzLmhlaWdodCAvIHRoaXMucGl4ZWxTaXplKTtcclxuICAgICAgICB0aGlzLmNlbGxzID0gdGhpcy5pbml0aWFsaXplKCk7XHJcbiAgICAgICAgdGhpcy5jYW52YXNDdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0aWFsaXplKCk6IFBhcnRpY2xlW11bXVtdIHtcclxuICAgICAgICBjb25zdCBjZWxsczogUGFydGljbGVbXVtdW10gPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29sdW1uczsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNlbGxzW2ldID0gW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5yb3dzOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGNlbGxzW2ldW2pdID0gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNlbGxzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVBbGwoKTogdm9pZCB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbHVtbnM7IGkrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMucm93czsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmNlbGxzW2ldPT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNlbGxzW2ldW2pdID0gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHB1dChwYXJ0aWNsZTogUGFydGljbGUpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBjb2x1bW4gPSBNYXRoLmZsb29yKHBhcnRpY2xlLmN1cnJlbnRQb3NpdGlvbi54IC8gdGhpcy5waXhlbFNpemUpO1xyXG4gICAgICAgIGNvbnN0IHJvdyA9IE1hdGguZmxvb3IocGFydGljbGUuY3VycmVudFBvc2l0aW9uLnkgLyB0aGlzLnBpeGVsU2l6ZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGNvbHVtbiA+PSAwICYmIGNvbHVtbiA8IHRoaXMuY2VsbHMubGVuZ3RoICYmIHJvdyA+PSAwICYmIHJvdyA8IHRoaXMuY2VsbHNbY29sdW1uXS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5jZWxsc1tjb2x1bW5dW3Jvd10ucHVzaChwYXJ0aWNsZSk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGAke2NvbHVtbn0gICAke3Jvd31gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZVNpemUoKTp2b2lkIHtcclxuICAgICAgICB0aGlzLmNvbHVtbnMgPSBNYXRoLmNlaWwodGhpcy5jYW52YXMud2lkdGggLyB0aGlzLnBpeGVsU2l6ZSk7XHJcbiAgICAgICAgdGhpcy5yb3dzID0gTWF0aC5jZWlsKHRoaXMuY2FudmFzLmhlaWdodCAvIHRoaXMucGl4ZWxTaXplKTtcclxuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdygpe1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LnN0cm9rZVN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoJy0tZ3JpZC1jb2xvcicpO1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5saW5lV2lkdGggPSAxO1xyXG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gdGhpcy5waXhlbFNpemU7IHggPCB0aGlzLmNhbnZhcy53aWR0aDsgeCArPSB0aGlzLnBpeGVsU2l6ZSkge1xyXG4gICAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4Lm1vdmVUbyh4LCAwKTtcclxuICAgICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5saW5lVG8oeCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5zdHJva2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGxldCB5ID0gdGhpcy5waXhlbFNpemU7IHkgPCB0aGlzLmNhbnZhcy5oZWlnaHQ7IHkgKz0gdGhpcy5waXhlbFNpemUpIHtcclxuICAgICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5tb3ZlVG8oMCwgeSk7XHJcbiAgICAgICAgICAgICAgdGhpcy5jYW52YXNDdHgubGluZVRvKHRoaXMuY2FudmFzLndpZHRoLCB5KTtcclxuICAgICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5zdHJva2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBERUJVR1xyXG4gICAgICAgICAgICAvLyAgIGZvciAobGV0IHggPSAwOyB4IDwgZ3JpZC5jb2x1bW5zOyB4ICs9IDEpIHtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyAgIGZvciAobGV0IHkgPSAwOyB5IDwgZ3JpZC5yb3dzOyB5ICs9IDEpIHtcclxuICAgICAgICAgICAgLy8gICAgIGJhY2tncm91bmRDYW52YXNDdHguZm9udCA9IFwiMTJweCBzZXJpZlwiO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vICAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4LmZpbGxUZXh0KGAke2dyaWQuY2VsbHNbeF1beV0ubGVuZ3RofWAsICh4KzEpKnRoaXMucGl4ZWxTaXplIC0gdGhpcy5waXhlbFNpemUvMiAtIDIsICh5KzEpKnRoaXMucGl4ZWxTaXplIC10aGlzLnBpeGVsU2l6ZS8yICsgNCk7XHJcbiAgICAgICAgICAgICAgICAvLyBiYWNrX2N0eC5maWxsVGV4dChgJHt4fSAke3l9YCwgKHgrMSkqdGhpcy5waXhlbFNpemUgLSB0aGlzLnBpeGVsU2l6ZS8yIC0gMiwgKHkrMSkqdGhpcy5waXhlbFNpemUgLXRoaXMucGl4ZWxTaXplLzIgKyA0KTtcclxuICAgICAgICAgICAgLy8gICB9XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgIH1cclxuICAgIH0iLCJpbXBvcnQgVmVjMkQgZnJvbSBcIi4vVmVjMkRcIjtcclxuaW1wb3J0ICogYXMgQ29uZmlnIGZyb20gJy4vQ29uZmlnJztcclxuaW1wb3J0IHsgY2xvc2VNZW51LCB1cGRhdGVQb2ludGVyRnVuY3Rpb24gfSBmcm9tIFwiLi9NZW51TWFuYWdlclwiO1xyXG5pbXBvcnQgeyBmcHMgfSBmcm9tIFwiLi9VSU1hbmFnZXJcIjtcclxuaW1wb3J0IHsgZ3JpZCwgcGFydGljbGVzIH0gZnJvbSBcIi4vc2NyaXB0XCI7XHJcbmltcG9ydCB7IGdldFJhbmRvbUNvbG9yIH0gZnJvbSBcIi4vVXRpbHNcIjtcclxuaW1wb3J0IFBhcnRpY2xlIGZyb20gXCIuL1BhcnRpY2xlXCI7XHJcbmV4cG9ydCB0eXBlIFBvaW50ZXJGdW5jdGlvblR5cGUgPSAnZmllbGQnIHwgJ2dyYXZpdHknIHwgJ3Rocm93JztcclxuXHJcbmV4cG9ydCBjbGFzcyBJbnB1dEhhbmRsZXIge1xyXG4gIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBJbnB1dEhhbmRsZXI7XHJcbiAgcHVibGljIGNsaWNrZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBwcml2YXRlIHBvaW50ZXJGdW5jdGlvbjogUG9pbnRlckZ1bmN0aW9uVHlwZTtcclxuICBwdWJsaWMgcG9pbnRlclBvc2l0aW9uID0gbmV3IFZlYzJEKDAsIDApXHJcbiAgcHVibGljIGNsaWNrU3RhcnRQb3NpdGlvbiA9IG5ldyBWZWMyRCgwLCAwKVxyXG5cclxuXHJcbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMucG9pbnRlckZ1bmN0aW9uID0gJ2ZpZWxkJztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogSW5wdXRIYW5kbGVyIHtcclxuICAgIGlmICghSW5wdXRIYW5kbGVyLmluc3RhbmNlKSB7XHJcbiAgICAgIElucHV0SGFuZGxlci5pbnN0YW5jZSA9IG5ldyBJbnB1dEhhbmRsZXIoKTtcclxuICAgICAgSW5wdXRIYW5kbGVyLmluc3RhbmNlLmluaXRpYWxpemVFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIElucHV0SGFuZGxlci5pbnN0YW5jZTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5pdGlhbGl6ZUV2ZW50TGlzdGVuZXJzKCk6IHZvaWQge1xyXG4gICAgY29uc3QgbWFpbl9ib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW5fY29udGFpbmVyJyk7XHJcbiAgICBpZiAoIW1haW5fYm9keSkgcmV0dXJuO1xyXG5cclxuICAgIG1haW5fYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuaGFuZGxlTW91c2VEb3duLmJpbmQodGhpcykpO1xyXG4gICAgbWFpbl9ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMuaGFuZGxlTW91c2VVcC5iaW5kKHRoaXMpKTtcclxuICAgIG1haW5fYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuaGFuZGxlTW92ZUV2ZW50LmJpbmQodGhpcykpO1xyXG4gICAgbWFpbl9ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRoaXMuaGFuZGxlTW91c2VEb3duLmJpbmQodGhpcykpO1xyXG4gICAgbWFpbl9ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCB0aGlzLmhhbmRsZU1vdXNlVXAuYmluZCh0aGlzKSk7XHJcbiAgICBtYWluX2JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCB0aGlzLmhhbmRsZU1vdmVFdmVudC5iaW5kKHRoaXMpKTtcclxuICAgIG1haW5fYm9keS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICBjbG9zZU1lbnUoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVNb3VzZURvd24oZXZlbnQ6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50KTogdm9pZCB7XHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIHRoaXMuY2xpY2tlZCA9IHRydWU7XHJcbiAgICBcclxuXHJcbiAgICBpZiAoZXZlbnQgaW5zdGFuY2VvZiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgIHRoaXMucG9pbnRlclBvc2l0aW9uLnggPSBldmVudC5jbGllbnRYO1xyXG4gICAgICB0aGlzLnBvaW50ZXJQb3NpdGlvbi55ID0gZXZlbnQuY2xpZW50WTtcclxuICAgIH0gZWxzZSBpZiAoZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50KSB7XHJcbiAgICAgIHRoaXMucG9pbnRlclBvc2l0aW9uLnggPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFg7XHJcbiAgICAgIHRoaXMucG9pbnRlclBvc2l0aW9uLnkgPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jbGlja1N0YXJ0UG9zaXRpb24ueCA9IHRoaXMucG9pbnRlclBvc2l0aW9uLng7XHJcbiAgICB0aGlzLmNsaWNrU3RhcnRQb3NpdGlvbi55ID0gdGhpcy5wb2ludGVyUG9zaXRpb24ueTtcclxuICAgIFxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVNb3VzZVVwKGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCk6IHZvaWQge1xyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB0aGlzLmNsaWNrZWQgPSBmYWxzZTtcclxuICAgIGlmKENvbmZpZy5nZXRQb2ludGVyRnVuY3Rpb24oKSA9PSAndGhyb3cnKXtcclxuICAgICAgbGV0IGxhdW5jaF9kaXIgPSB0aGlzLmNsaWNrU3RhcnRQb3NpdGlvbi5jbG9uZSgpLmRpZmZlcmVuY2UodGhpcy5wb2ludGVyUG9zaXRpb24pXHJcbiAgICBsYXVuY2hfZGlyLm11bHRpcGx5KGZwcyAvIDE1KVxyXG4gICAgcGFydGljbGVzLnB1c2gobmV3IFBhcnRpY2xlKHRoaXMuY2xpY2tTdGFydFBvc2l0aW9uLmNsb25lKCksIENvbmZpZy5nZXRHcmlkU2l6ZSgpLzIsIGxhdW5jaF9kaXIsIGdldFJhbmRvbUNvbG9yKCksIGdyaWQpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlTW92ZUV2ZW50KGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCk6IHZvaWQge1xyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBpZiAodGhpcy5jbGlja2VkKSB7XHJcbiAgICAgIGlmIChldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQpIHtcclxuICAgICAgICB0aGlzLnBvaW50ZXJQb3NpdGlvbi54ID0gZXZlbnQuY2xpZW50WDtcclxuICAgICAgICB0aGlzLnBvaW50ZXJQb3NpdGlvbi55ID0gZXZlbnQuY2xpZW50WTtcclxuICAgICAgfSBlbHNlIGlmIChldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpIHtcclxuICAgICAgICB0aGlzLnBvaW50ZXJQb3NpdGlvbi54ID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYO1xyXG4gICAgICAgIHRoaXMucG9pbnRlclBvc2l0aW9uLnkgPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn0iLCJpbXBvcnQgKiBhcyBDb25maWcgZnJvbSAnLi9Db25maWcnO1xyXG5pbXBvcnQgeyBQb2ludGVyRnVuY3Rpb25UeXBlIH0gZnJvbSAnLi9JbnB1dEhhbmRsZXInO1xyXG5pbXBvcnQgVmVjMkQgZnJvbSBcIi4vVmVjMkRcIjtcclxuaW1wb3J0IHsgZ3JpZCwgcGFydGljbGVzIH0gZnJvbSAnLi9zY3JpcHQnO1xyXG5cclxuY29uc3QgbWVudUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVudS1idXR0b25cIik7XHJcbmNvbnN0IG1lbnVFbGVtZW50czogTm9kZUxpc3RPZjxIVE1MRWxlbWVudD4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1lbnUtZWxlbWVudFwiKTtcclxuXHJcbm1lbnVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICBvcGVuTWVudSgpO1xyXG59KTtcclxuXHJcbmNvbnN0IHN3aXRjaFRoZW1lID0gKCkgPT4ge1xyXG4gIGNvbnN0IHJvb3RFbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XHJcbiAgbGV0IHRoZW1lID0gcm9vdEVsZW0uZ2V0QXR0cmlidXRlKCd0aGVtZScpLCBuZXdUaGVtZTtcclxuICBuZXdUaGVtZSA9ICh0aGVtZSA9PT0gJ2xpZ2h0JykgPyAnZGFyaycgOiAnbGlnaHQnO1xyXG5cclxuICByb290RWxlbS5zZXRBdHRyaWJ1dGUoJ3RoZW1lJywgbmV3VGhlbWUpO1xyXG4gIGdyaWQuZHJhdygpO1xyXG59XHJcblxyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RoZW1lLXN3aXRjaCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3dpdGNoVGhlbWUpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5NZW51KCkge1xyXG4gIGlmIChtZW51QnV0dG9uLmdldEF0dHJpYnV0ZShcIm9wZW5cIikgPT0gXCJmYWxzZVwiKSB7XHJcbiAgICBtZW51QnV0dG9uLnNldEF0dHJpYnV0ZShcIm9wZW5cIiwgXCJ0cnVlXCIpO1xyXG4gICAgbWVudUJ1dHRvbi5zdHlsZS5jdXJzb3IgPSBcImF1dG9cIjtcclxuXHJcbiAgICBtZW51RWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICB9LCAzMDApO1xyXG4gICAgfSk7XHJcblxyXG4gIH1cclxuICBlbHNlIHtcclxuXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VNZW51KCkge1xyXG4gIG1lbnVCdXR0b24uc2V0QXR0cmlidXRlKFwib3BlblwiLCBcImZhbHNlXCIpO1xyXG4gIG1lbnVCdXR0b24uc3R5bGUuY3Vyc29yID0gXCJwb2ludGVyXCI7XHJcbiAgbWVudUVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICB9KTtcclxuXHJcbn1cclxuXHJcbnZhciBmaWVsZFNpemVTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpZWxkLXNpemUtc2xpZGVyXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbnZhciBmaWVsZFN0cmVuZ3RoU2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaWVsZC1zdHJlbmd0aC1zbGlkZXJcIikgYXMgSFRNTElucHV0RWxlbWVudDtcclxudmFyIGdyYXZpdHlTdHJlbmd0aFNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ3Jhdml0eS1zdHJlbmd0aC1zbGlkZXJcIikgYXMgSFRNTElucHV0RWxlbWVudDtcclxudmFyIHN1YnN0ZXBzQW1vdW50RW50cnlCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1YnN0ZXBzLWFtb3VudC1lbnRyeVwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG52YXIgcGFydGljbGVzQW1vdW50RW50cnlCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhcnRpY2xlcy1hbW91bnQtZW50cnlcIikgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHJcbmNvbnN0IHJhZGlvQnV0dG9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCdjdXJzb3ItZnVuY3Rpb24nKSBhcyBOb2RlTGlzdE9mPEhUTUxJbnB1dEVsZW1lbnQ+O1xyXG5cclxuICByYWRpb0J1dHRvbnMuZm9yRWFjaChyYWRpb0J1dHRvbiA9PiB7XHJcbiAgICByYWRpb0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XHJcbiAgICAgIGlmIChyYWRpb0J1dHRvbi5jaGVja2VkKSB7XHJcbiAgICAgICAgQ29uZmlnLnNldFBvaW50ZXJGdW5jdGlvbihyYWRpb0J1dHRvbi52YWx1ZSBhcyBQb2ludGVyRnVuY3Rpb25UeXBlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG5maWVsZFNpemVTbGlkZXIub25pbnB1dCA9IGZ1bmN0aW9uICgpIHtcclxuICBDb25maWcuc2V0RmllbGRTaXplKHBhcnNlSW50KGZpZWxkU2l6ZVNsaWRlci52YWx1ZSkpO1xyXG59XHJcblxyXG5maWVsZFN0cmVuZ3RoU2xpZGVyLm9uaW5wdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgQ29uZmlnLnNldEZpZWxkU3RyZW5ndGgocGFyc2VJbnQoZmllbGRTdHJlbmd0aFNsaWRlci52YWx1ZSkpO1xyXG59XHJcblxyXG5ncmF2aXR5U3RyZW5ndGhTbGlkZXIub25pbnB1dCA9IGZ1bmN0aW9uICgpIHtcclxuICBzZXRHcmF2aXR5U3RyZW5ndGgocGFyc2VJbnQoZ3Jhdml0eVN0cmVuZ3RoU2xpZGVyLnZhbHVlKSk7XHJcbn1cclxuXHJcbnN1YnN0ZXBzQW1vdW50RW50cnlCb3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gIENvbmZpZy5zZXRQaHlzaWNzU3Vic3RlcHNBbW91bnQocGFyc2VJbnQoc3Vic3RlcHNBbW91bnRFbnRyeUJveC52YWx1ZSkpO1xyXG59KTtcclxuXHJcbnBhcnRpY2xlc0Ftb3VudEVudHJ5Qm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICBDb25maWcuc2V0UGFydGljbGVOdW1iZXIocGFyc2VJbnQocGFydGljbGVzQW1vdW50RW50cnlCb3gudmFsdWUpKTtcclxuICBsZXQgZGlmZiA9IHBhcnRpY2xlcy5sZW5ndGggLSBDb25maWcuZ2V0UGFydGljbGVOdW1iZXIoKTtcclxuICB3aGlsZSggZGlmZiA+IDApe1xyXG4gICBwYXJ0aWNsZXMucG9wKCk7XHJcbiAgIGRpZmYtLTtcclxuICB9XHJcbn0pO1xyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVQb2ludGVyRnVuY3Rpb24oKSB7XHJcbiAgdmFyIHJhZGlvQnV0dG9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCdjdXJzb3ItZnVuY3Rpb24nKSBhcyBOb2RlTGlzdE9mPEhUTUxJbnB1dEVsZW1lbnQ+XHJcblxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmFkaW9CdXR0b25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBpZiAocmFkaW9CdXR0b25zW2ldLmNoZWNrZWQpIHtcclxuICAgICAgcmV0dXJuIHJhZGlvQnV0dG9uc1tpXS52YWx1ZTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRHcmF2aXR5U3RyZW5ndGgodmFsdWU6IG51bWJlcikge1xyXG4gIENvbmZpZy5zZXRHcmF2aXR5RGlyZWN0aW9uKG5ldyBWZWMyRCgwLCB2YWx1ZSAqIDAuMSkpO1xyXG59XHJcbiIsImltcG9ydCB7IEdyaWQgfSBmcm9tIFwiLi9HcmlkXCI7XHJcbmltcG9ydCBWZWMyRCBmcm9tIFwiLi9WZWMyRFwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXJ0aWNsZSB7XHJcbiAgc3RhdGljIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JlZ3JvdW5kLWNhbnZhcycpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG5cclxuICBwdWJsaWMgY3VycmVudFBvc2l0aW9uOiBWZWMyRDtcclxuICBwdWJsaWMgcHJldmlvdXNQb3NpdGlvbjogVmVjMkQ7XHJcbiAgcHVibGljIGFjY2VsZXJhdGlvbjogVmVjMkQ7XHJcbiAgcHVibGljIHJhZGl1czogbnVtYmVyO1xyXG4gIHB1YmxpYyBjb2xvcjogeyByOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyIH07XHJcbiAgcHJpdmF0ZSBncmlkOiBHcmlkO1xyXG4gIHByaXZhdGUgY2VsbDogVmVjMkQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBvczogVmVjMkQsIHJhZGl1czogbnVtYmVyLCBhY2M6IFZlYzJELCBjb2xvcjogeyByOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyIH0sIGdyaWQ6IEdyaWQpIHtcclxuICAgIHRoaXMuY3VycmVudFBvc2l0aW9uID0gcG9zO1xyXG4gICAgdGhpcy5wcmV2aW91c1Bvc2l0aW9uID0gdGhpcy5jdXJyZW50UG9zaXRpb247XHJcbiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcclxuICAgIHRoaXMuYWNjZWxlcmF0aW9uID0gYWNjO1xyXG4gICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgdGhpcy5ncmlkID0gZ3JpZDtcclxuICAgIHRoaXMuY2VsbCA9IG5ldyBWZWMyRChNYXRoLmZsb29yKHRoaXMuY3VycmVudFBvc2l0aW9uLnggLyBncmlkLnBpeGVsU2l6ZSksIE1hdGguZmxvb3IodGhpcy5jdXJyZW50UG9zaXRpb24ueSAvIGdyaWQucGl4ZWxTaXplKSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVQb3NpdGlvbihkdDogbnVtYmVyKSB7XHJcbiAgICBsZXQgdmVsb2NpdHk6IFZlYzJEID0gbmV3IFZlYzJEKHRoaXMuY3VycmVudFBvc2l0aW9uLnggLSB0aGlzLnByZXZpb3VzUG9zaXRpb24ueCwgdGhpcy5jdXJyZW50UG9zaXRpb24ueSAtIHRoaXMucHJldmlvdXNQb3NpdGlvbi55KTtcclxuICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbiA9IHRoaXMuY3VycmVudFBvc2l0aW9uLmNsb25lKCk7XHJcblxyXG4gICAgdGhpcy5jdXJyZW50UG9zaXRpb24uYWRkKHZlbG9jaXR5KTtcclxuICAgIHRoaXMuYWNjZWxlcmF0aW9uLm11bHRpcGx5KGR0ICogZHQpO1xyXG4gICAgdGhpcy5jdXJyZW50UG9zaXRpb24uYWRkKHRoaXMuYWNjZWxlcmF0aW9uKTtcclxuXHJcbiAgICB0aGlzLmFjY2VsZXJhdGlvbi54ID0gMDtcclxuICAgIHRoaXMuYWNjZWxlcmF0aW9uLnkgPSAwO1xyXG4gICAgdGhpcy51cGRhdGVDZWxsKCk7XHJcbiAgfVxyXG5cclxuICBhY2NlbGVyYXRlKGFjYzogVmVjMkQpIHtcclxuICAgIHRoaXMuYWNjZWxlcmF0aW9uLmFkZChhY2MpO1xyXG4gIH1cclxuXHJcblxyXG4gIGdldE5laWdoYm9yaW5nUGFydGljbGVzKCk6IFBhcnRpY2xlW10ge1xyXG4gICAgY29uc3QgbmVpZ2hib3JpbmdQYXJ0aWNsZXM6IFBhcnRpY2xlW10gPSBbXTtcclxuICBcclxuICAgIGZvciAobGV0IGkgPSB0aGlzLmNlbGwueCAtIDE7IGkgPD0gdGhpcy5jZWxsLnggKyAxOyBpKyspIHtcclxuICAgICAgZm9yIChsZXQgaiA9IHRoaXMuY2VsbC55IC0gMTsgaiA8PSB0aGlzLmNlbGwueSArIDE7IGorKykge1xyXG4gICAgICAgIGlmIChpID49IDAgJiYgaSA8IHRoaXMuZ3JpZC5jb2x1bW5zICYmIGogPj0gMCAmJiBqIDwgdGhpcy5ncmlkLnJvd3MpIHtcclxuICAgICAgICAgIG5laWdoYm9yaW5nUGFydGljbGVzLnB1c2goLi4udGhpcy5ncmlkLmNlbGxzW2ldW2pdKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBuZWlnaGJvcmluZ1BhcnRpY2xlcztcclxuICB9XHJcbiAgXHJcbiAgdXBkYXRlQ2VsbCgpe1xyXG4gICAgdGhpcy5jZWxsID0gbmV3IFZlYzJEKE1hdGguZmxvb3IodGhpcy5jdXJyZW50UG9zaXRpb24ueCAvIHRoaXMuZ3JpZC5waXhlbFNpemUpLCBNYXRoLmZsb29yKHRoaXMuY3VycmVudFBvc2l0aW9uLnkgLyB0aGlzLmdyaWQucGl4ZWxTaXplKSk7XHJcbiAgfVxyXG5cclxuXHJcblxyXG59IiwiaW1wb3J0IHsgZm9yZWdyb3VuZENhbnZhcyB9IGZyb20gJy4vQ2FudmFzTWFuYWdlcic7XHJcbmltcG9ydCAqIGFzIENvbmZpZyBmcm9tICcuL0NvbmZpZyc7XHJcbmltcG9ydCB7IElucHV0SGFuZGxlciB9IGZyb20gJy4vSW5wdXRIYW5kbGVyJztcclxuaW1wb3J0IFBhcnRpY2xlIGZyb20gJy4vUGFydGljbGUnO1xyXG5pbXBvcnQgVmVjMkQgZnJvbSAnLi9WZWMyRCc7XHJcbmltcG9ydCB7IGF0dHJhY3RvcnMsIGdyaWQsIHBhcnRpY2xlcyB9IGZyb20gJy4vc2NyaXB0JztcclxuXHJcbmNvbnN0IGlucHV0SGFuZGxlciA9IElucHV0SGFuZGxlci5nZXRJbnN0YW5jZSgpO1xyXG5cclxuZnVuY3Rpb24gdXBkYXRlUG9zaXRpb25zKGR0OiBudW1iZXIpIHtcclxuICAgIGdyaWQucmVtb3ZlQWxsKCk7XHJcbiAgICBwYXJ0aWNsZXMuZm9yRWFjaCgocGFydGljbGUpID0+IHtcclxuICBcclxuICAgICAgcGFydGljbGUudXBkYXRlUG9zaXRpb24oZHQpO1xyXG4gICAgICBncmlkLnB1dChwYXJ0aWNsZSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgXHJcbiAgZnVuY3Rpb24gYXBwbHlHcmF2aXR5KCkge1xyXG4gICAgcGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgICAgIHBhcnRpY2xlLmFjY2VsZXJhdGUoQ29uZmlnLmdldEdyYXZpdHlEaXJlY3Rpb24oKSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgXHJcbiAgZnVuY3Rpb24gYXBwbHlGaWVsZChmaWVsZFBvczogVmVjMkQpIHtcclxuICAgIHBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgICBjb25zdCBwdWxsRGlyZWN0aW9uID0gZmllbGRQb3MuZGlmZmVyZW5jZShwYXJ0aWNsZS5jdXJyZW50UG9zaXRpb24pXHJcbiAgICAgIGNvbnN0IGRpc3RhbmNlID0gcHVsbERpcmVjdGlvbi5sZW5ndGgoKTtcclxuICBcclxuICAgICAgaWYgKGRpc3RhbmNlIDwgQ29uZmlnLmdldEZpZWxkU2l6ZSgpICYmIGRpc3RhbmNlID4gMTApIHtcclxuICAgICAgICBwdWxsRGlyZWN0aW9uLm11bHRpcGx5KENvbmZpZy5nZXRGaWVsZFN0cmVuZ3RoKCkgKiAxMDApO1xyXG4gICAgICAgIHB1bGxEaXJlY3Rpb24uZGl2aWRlKGRpc3RhbmNlICogZGlzdGFuY2UpO1xyXG4gICAgICAgIHBhcnRpY2xlLmFjY2VsZXJhdGUocHVsbERpcmVjdGlvbik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBcclxuICBleHBvcnQgZnVuY3Rpb24gYXBwbHlBdHRyYWN0b3JGb3JjZXNUb0FsbCgpIHtcclxuICAgIHBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgICBhcHBseUF0dHJhY3RvckZvcmNlcyhwYXJ0aWNsZSlcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcblxyXG4gIGV4cG9ydCBmdW5jdGlvbiB0aWNrKGR0OiBudW1iZXIpIHtcclxuICAgIHZhciBzdWJfZHQgPSBkdCAvIENvbmZpZy5nZXRQaHlzaWNzU3Vic3RlcHNBbW91bnQoKTtcclxuICBcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQ29uZmlnLmdldFBoeXNpY3NTdWJzdGVwc0Ftb3VudCgpOyBpKyspIHtcclxuICAgICAgaWYgKENvbmZpZy5nZXRHcmF2aXR5RGlyZWN0aW9uKCkueSAhPSAwKSB7XHJcbiAgICAgICAgYXBwbHlHcmF2aXR5KCk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGlucHV0SGFuZGxlci5jbGlja2VkKSB7XHJcbiAgICAgICAgc3dpdGNoIChDb25maWcuZ2V0UG9pbnRlckZ1bmN0aW9uKCkpIHtcclxuICAgICAgICAgIGNhc2UgJ2ZpZWxkJzpcclxuICAgICAgICAgICAgYXBwbHlGaWVsZChpbnB1dEhhbmRsZXIucG9pbnRlclBvc2l0aW9uKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlICdncmF2aXR5JzpcclxuICAgICAgICAgICAgQ29uZmlnLnNldEdyYXZpdHlEaXJlY3Rpb24oaW5wdXRIYW5kbGVyLnBvaW50ZXJQb3NpdGlvbi5kaWZmZXJlbmNlKGlucHV0SGFuZGxlci5jbGlja1N0YXJ0UG9zaXRpb24pLmRpdmlkZSg0MDApKTtcclxuICAgICAgICAgIGNhc2UgJ3Rocm93JzpcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgXHJcbiAgICAgICAgfVxyXG4gIFxyXG4gICAgICB9XHJcbiAgICAgIC8vIGFwcGx5QXR0cmFjdG9yRm9yY2VzVG9BbGwoKTtcclxuICAgICAgYXBwbHlDb25zdHJhaW50VG9BbGxFZGdlcygpO1xyXG4gICAgICBzb2x2ZUNvbGxpc2lvbnMoKTtcclxuICAgICAgdXBkYXRlUG9zaXRpb25zKHN1Yl9kdCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBhcHBseUNvbnN0cmFpbnRUb0FsbEVkZ2VzKCkge1xyXG5cclxuICAgIHBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgICBhcHBseUNvbnN0cmFpbnQocGFydGljbGUpO1xyXG4gICAgfSk7XHJcbiAgICAvLyBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCBncmlkLmxlbmd0aDsgY29sKyspIHtcclxuICAgIC8vICAgZm9yICh2YXIgdGhpY2tuZXNzID0gMDsgdGhpY2tuZXNzIDwgMjsgdGhpY2tuZXNzKyspIHtcclxuICAgIC8vICAgICBncmlkW2NvbF1bdGhpY2tuZXNzXS5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgLy8gICAgICAgYXBwbHlDb25zdHJhaW50KHBhcnRpY2xlKTtcclxuICAgIC8vICAgICB9KTtcclxuICBcclxuICAgIC8vICAgICBncmlkW2NvbF1bZ3JpZFswXS5sZW5ndGggLSB0aGlja25lc3MgLSAxXS5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgLy8gICAgICAgYXBwbHlDb25zdHJhaW50KHBhcnRpY2xlKTtcclxuICAgIC8vICAgICB9KTtcclxuICAgIC8vICAgfVxyXG4gICAgLy8gfVxyXG4gIFxyXG4gICAgLy8gZm9yICh2YXIgcm93ID0gMDsgcm93IDwgZ3JpZFswXS5sZW5ndGg7IHJvdysrKSB7XHJcbiAgICAvLyAgIGZvciAodmFyIHRoaWNrbmVzcyA9IDA7IHRoaWNrbmVzcyA8IDI7IHRoaWNrbmVzcysrKSB7XHJcbiAgICAvLyAgICAgZ3JpZFt0aGlja25lc3NdW3Jvd10uZm9yRWFjaCgocGFydGljbGUpID0+IHtcclxuICAgIC8vICAgICAgIGFwcGx5Q29uc3RyYWludChwYXJ0aWNsZSk7XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgXHJcbiAgICAvLyAgICAgZ3JpZFtncmlkLmxlbmd0aCAtIHRoaWNrbmVzcyAtIDFdW3Jvd10uZm9yRWFjaCgocGFydGljbGUpID0+IHtcclxuICAgIC8vICAgICAgIGFwcGx5Q29uc3RyYWludChwYXJ0aWNsZSk7XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvLyAgIH1cclxuICAgIC8vIH1cclxuICB9XHJcblxyXG4gIGV4cG9ydCBmdW5jdGlvbiBhcHBseUNvbnN0cmFpbnQocGFydGljbGU6IFBhcnRpY2xlKSB7XHJcbiAgICAvLyBBcHBseSBmbG9vciBjb25zdHJhaW50XHJcbiAgICBpZiAocGFydGljbGUuY3VycmVudFBvc2l0aW9uLnkgKyBwYXJ0aWNsZS5yYWRpdXMgPiBmb3JlZ3JvdW5kQ2FudmFzLmhlaWdodCkge1xyXG4gICAgICBwYXJ0aWNsZS5jdXJyZW50UG9zaXRpb24ueSA9IGZvcmVncm91bmRDYW52YXMuaGVpZ2h0IC0gcGFydGljbGUucmFkaXVzO1xyXG4gICAgICBwYXJ0aWNsZS5wcmV2aW91c1Bvc2l0aW9uLnkgPSBwYXJ0aWNsZS5jdXJyZW50UG9zaXRpb24ueSArIHBhcnRpY2xlLmN1cnJlbnRQb3NpdGlvbi55IC0gcGFydGljbGUucHJldmlvdXNQb3NpdGlvbi55O1xyXG4gICAgfVxyXG4gIFxyXG4gICAgLy8gQXBwbHkgQ2VpbGluZyBjb25zdHJhaW50XHJcbiAgICBpZiAocGFydGljbGUuY3VycmVudFBvc2l0aW9uLnkgLSBwYXJ0aWNsZS5yYWRpdXMgPCAwKSB7XHJcbiAgICAgIHBhcnRpY2xlLmN1cnJlbnRQb3NpdGlvbi55ID0gcGFydGljbGUucmFkaXVzO1xyXG4gICAgICBwYXJ0aWNsZS5wcmV2aW91c1Bvc2l0aW9uLnkgPSBwYXJ0aWNsZS5jdXJyZW50UG9zaXRpb24ueSArIHBhcnRpY2xlLmN1cnJlbnRQb3NpdGlvbi55IC0gcGFydGljbGUucHJldmlvdXNQb3NpdGlvbi55O1xyXG4gICAgfVxyXG4gIFxyXG4gIFxyXG4gICAgLy8gQXBwbHkgbGVmdCB3YWxsIGNvbnN0cmFpbnRcclxuICAgIGlmIChwYXJ0aWNsZS5jdXJyZW50UG9zaXRpb24ueCAtIHBhcnRpY2xlLnJhZGl1cyA8IDApIHtcclxuICAgICAgcGFydGljbGUuY3VycmVudFBvc2l0aW9uLnggPSBwYXJ0aWNsZS5yYWRpdXM7XHJcbiAgICAgIHBhcnRpY2xlLnByZXZpb3VzUG9zaXRpb24ueCA9IHBhcnRpY2xlLmN1cnJlbnRQb3NpdGlvbi54ICsgcGFydGljbGUuY3VycmVudFBvc2l0aW9uLnggLSBwYXJ0aWNsZS5wcmV2aW91c1Bvc2l0aW9uLng7XHJcbiAgICB9XHJcbiAgXHJcbiAgICAvLyBBcHBseSByaWdodCB3YWxsIGNvbnN0cmFpbnRcclxuICAgIGlmIChwYXJ0aWNsZS5jdXJyZW50UG9zaXRpb24ueCArIHBhcnRpY2xlLnJhZGl1cyA+IGZvcmVncm91bmRDYW52YXMud2lkdGgpIHtcclxuICAgICAgcGFydGljbGUuY3VycmVudFBvc2l0aW9uLnggPSBmb3JlZ3JvdW5kQ2FudmFzLndpZHRoIC0gcGFydGljbGUucmFkaXVzO1xyXG4gIFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZXhwb3J0IGZ1bmN0aW9uIGFwcGx5QXR0cmFjdG9yRm9yY2VzKHBhcnRpY2xlOiBQYXJ0aWNsZSkge1xyXG4gICAgYXR0cmFjdG9ycy5mb3JFYWNoKChhdHRyYWN0b3IpID0+IHtcclxuICAgICAgY29uc3QgcHVsbERpcmVjdGlvbiA9IGF0dHJhY3Rvci5wb3NpdGlvbi5kaWZmZXJlbmNlKHBhcnRpY2xlLmN1cnJlbnRQb3NpdGlvbilcclxuICAgICAgY29uc3QgZGlzdGFuY2UgPSBwdWxsRGlyZWN0aW9uLmxlbmd0aCgpO1xyXG4gIFxyXG4gICAgICBpZiAoZGlzdGFuY2UgPCBhdHRyYWN0b3IucmFkaXVzICYmIGRpc3RhbmNlID4gMTApIHtcclxuICAgICAgICBwdWxsRGlyZWN0aW9uLm11bHRpcGx5KGF0dHJhY3Rvci5mb3JjZSk7XHJcbiAgICAgICAgcHVsbERpcmVjdGlvbi5kaXZpZGUoZGlzdGFuY2UgKiBkaXN0YW5jZSlcclxuICAgICAgICBwYXJ0aWNsZS5hY2NlbGVyYXRlKHB1bGxEaXJlY3Rpb24pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgXHJcbiAgZnVuY3Rpb24gc29sdmVDb2xsaXNpb25zKCkge1xyXG4gICAgdmFyIG51bWJlck9mQ29sbGlzaW9ucyA9IDA7XHJcbiAgXHJcbiAgXHJcbiAgICBsZXQgdGVtcENvbGxpc2lvbkRpcmVjdGlvbiA9IG5ldyBWZWMyRCgwLCAwKTtcclxuICAgIGxldCBzcXVhcmVkRGlzdGFuY2UgPSAwO1xyXG4gICAgbGV0IHJhZGlpU3VtID0gMDtcclxuICAgIGxldCBzcXVhcmVkUmFkaWlTdW0gPSAwO1xyXG4gIFxyXG4gICAgcGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlMSkgPT4ge1xyXG4gICAgICBjb25zdCBuZWlnaGJvcmluZ1BhcnRpY2xlcyA9IHBhcnRpY2xlMS5nZXROZWlnaGJvcmluZ1BhcnRpY2xlcygpO1xyXG4gICAgICBuZWlnaGJvcmluZ1BhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZTIpID0+IHtcclxuICAgICAgICBpZiAocGFydGljbGUxID09PSBwYXJ0aWNsZTIpIHJldHVybjtcclxuICBcclxuICAgICAgICB0ZW1wQ29sbGlzaW9uRGlyZWN0aW9uLnNldChwYXJ0aWNsZTEuY3VycmVudFBvc2l0aW9uKS5zdWJ0cmFjdChwYXJ0aWNsZTIuY3VycmVudFBvc2l0aW9uKTtcclxuICAgICAgICBzcXVhcmVkRGlzdGFuY2UgPSB0ZW1wQ29sbGlzaW9uRGlyZWN0aW9uLnNxdWFyZWRMZW5ndGgoKTtcclxuICAgICAgICBcclxuICAgICAgICByYWRpaVN1bSA9IHBhcnRpY2xlMS5yYWRpdXMgKyBwYXJ0aWNsZTIucmFkaXVzO1xyXG4gICAgICAgIHNxdWFyZWRSYWRpaVN1bSA9IHJhZGlpU3VtICogcmFkaWlTdW07XHJcbiAgXHJcbiAgICAgICAgaWYgKHNxdWFyZWREaXN0YW5jZSA8IHNxdWFyZWRSYWRpaVN1bSAmJiBzcXVhcmVkRGlzdGFuY2UgIT0gMCkge1xyXG4gICAgICAgICAgbnVtYmVyT2ZDb2xsaXNpb25zKys7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KHNxdWFyZWREaXN0YW5jZSk7XHJcbiAgICAgICAgICAgIHRlbXBDb2xsaXNpb25EaXJlY3Rpb24uZGl2aWRlKGRpc3RhbmNlKTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgbGV0IGRlbHRhID0gcmFkaWlTdW0gLSBkaXN0YW5jZTtcclxuICAgICAgICAgICAgdGVtcENvbGxpc2lvbkRpcmVjdGlvbi5tdWx0aXBseShkZWx0YSAqIDAuNSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIHBhcnRpY2xlMS5jdXJyZW50UG9zaXRpb24uYWRkKHRlbXBDb2xsaXNpb25EaXJlY3Rpb24pO1xyXG4gICAgICAgICAgICBwYXJ0aWNsZTIuY3VycmVudFBvc2l0aW9uLnN1YnRyYWN0KHRlbXBDb2xsaXNpb25EaXJlY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIC8vIGNvbnNvbGUubG9nKG51bWJlck9mQ29sbGlzaW9ucyk7XHJcbiAgfVxyXG4gICIsImltcG9ydCBWZWMyRCBmcm9tIFwiLi9WZWMyRFwiO1xyXG5pbXBvcnQgKiBhcyBDb25maWcgZnJvbSAnLi9Db25maWcnO1xyXG5pbXBvcnQgcGFydGljbGVGcmFnbWVudFNoYWRlciBmcm9tIFwiLi9zaGFkZXJzL3BhcnRpY2xlRnJhZ21lbnRTaGFkZXIuZnJhZ1wiO1xyXG5pbXBvcnQgcGFydGljbGVWZXJ0ZXhTaGFkZXIgZnJvbSBcIi4vc2hhZGVycy9wYXJ0aWNsZVZlcnRleFNoYWRlci52ZXJ0XCI7XHJcbmltcG9ydCB7IGNyZWF0ZVByb2dyYW0sIGNyZWF0ZVNoYWRlciwgcmVzaXplQ2FudmFzVG9EaXNwbGF5U2l6ZSB9IGZyb20gXCIuL1NoYWRlckhlbHBlclwiO1xyXG5pbXBvcnQgQXR0cmFjdG9yIGZyb20gXCIuL0F0dHJhY3RvclwiO1xyXG5pbXBvcnQgeyBiYWNrZ3JvdW5kQ2FudmFzQ3R4LCBmb3JlZ3JvdW5kQ2FudmFzLCBmb3JlZ3JvdW5kQ2FudmFzQ3R4IH0gZnJvbSBcIi4vQ2FudmFzTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBhcHBseUF0dHJhY3RvckZvcmNlcywgYXBwbHlDb25zdHJhaW50IH0gZnJvbSBcIi4vUGh5c2ljc0VuZ2luZVwiO1xyXG5pbXBvcnQgeyBJbnB1dEhhbmRsZXIgfSBmcm9tIFwiLi9JbnB1dEhhbmRsZXJcIjtcclxuaW1wb3J0IHsgZ3JpZCwgcGFydGljbGVzIH0gZnJvbSBcIi4vc2NyaXB0XCI7XHJcbmltcG9ydCBQYXJ0aWNsZSBmcm9tIFwiLi9QYXJ0aWNsZVwiO1xyXG5pbXBvcnQgeyBnZXRBdmVyYWdlRnJhbWVUaW1lIH0gZnJvbSBcIi4vVUlNYW5hZ2VyXCI7XHJcblxyXG5cclxudmFyIHdlYmdsQ2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dlYmdsLWNhbnZhcycpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG52YXIgZ2wgPSB3ZWJnbENhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIik7XHJcbndlYmdsQ2FudmFzIS53aWR0aCA9IHdlYmdsQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG53ZWJnbENhbnZhcyEuaGVpZ2h0ID0gd2ViZ2xDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG5cclxuY29uc3QgaW5wdXRIYW5kbGVyID0gSW5wdXRIYW5kbGVyLmdldEluc3RhbmNlKCk7XHJcblxyXG5pZiAoIWdsKSB7XHJcbiAgY29uc29sZS5lcnJvcihcIlVuYWJsZSB0byBpbml0aWFsaXplIFdlYkdMLiBZb3VyIGJyb3dzZXIgbWF5IG5vdCBzdXBwb3J0IGl0LlwiKTtcclxufVxyXG5cclxuLy9lbmFsYmluZyBibGVuZGluZyBmb3IgcHJvcGVyIGFscGhhIG9uIHRoZSBwYXJ0aWNsZXNcclxuZ2wuZW5hYmxlKGdsLkJMRU5EKTtcclxuZ2wuYmxlbmRGdW5jKGdsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSk7XHJcblxyXG4vL2NvbXBpbGluZyB0aGUgc2hhZGVycyB3aXRoIGEgaGVscGVyIGZ1bmN0aW9uXHJcbnZhciB2ZXJ0ZXhTaGFkZXIgPSBjcmVhdGVTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHBhcnRpY2xlVmVydGV4U2hhZGVyKTtcclxudmFyIGZyYWdtZW50U2hhZGVyID0gY3JlYXRlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIHBhcnRpY2xlRnJhZ21lbnRTaGFkZXIpO1xyXG5cclxuLy9jcmVhdGluZyBhIFdlYkdMIHByb2dyYW0gYW5kIGF0dGFjaGluZyB0aGUgc2hhZGVycyB0byBpdCB3aXRoIGEgaGVscGVyIGZ1bmN0aW9uXHJcbnZhciBwcm9ncmFtID0gY3JlYXRlUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlcik7XHJcblxyXG4vL2xvb2tpbmcgdXAgdW5pZm9ybSBsb2NhdGlvbiBhbmQgd2hlcmUgdGhlIHZlcnRleCBkYXRhIG5lZWRzIHRvIGdvXHJcbnZhciBwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgXCJhX3Bvc2l0aW9uXCIpO1xyXG52YXIgcmVzb2x1dGlvblVuaWZvcm1Mb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCBcInVfcmVzb2x1dGlvblwiKTtcclxudmFyIGNvbG9yVW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sIFwidV9jb2xvclwiKTtcclxudmFyIHRyYW5zbGF0aW9uTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgXCJ1X3RyYW5zbGF0aW9uXCIpO1xyXG52YXIgcmFkaXVzVW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sIFwidV9yYWRpdXNcIik7XHJcbnZhciBvdXRsaW5lVW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sIFwidV9vdXRsaW5lX2JsYWNrXCIpO1xyXG52YXIgcG9zaXRpb25CdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHBvc2l0aW9uQnVmZmVyKTtcclxuXHJcbmZ1bmN0aW9uIHNldFJlY3RhbmdsZShnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCB4Om51bWJlciwgeTpudW1iZXIsIHdpZHRoOm51bWJlciwgaGVpZ2h0Om51bWJlcikge1xyXG4gIHZhciB4MSA9IHggLSB3aWR0aCAvIDI7XHJcbiAgdmFyIHgyID0geCArIHdpZHRoIC8gMjtcclxuICB2YXIgeTEgPSB5IC0gaGVpZ2h0IC8gMjtcclxuICB2YXIgeTIgPSB5ICsgaGVpZ2h0IC8gMjtcclxuIFxyXG4gIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KFtcclxuICAgICB4MSwgeTEsXHJcbiAgICAgeDIsIHkxLFxyXG4gICAgIHgxLCB5MixcclxuICAgICB4MSwgeTIsXHJcbiAgICAgeDIsIHkxLFxyXG4gICAgIHgyLCB5Ml0pLCBnbC5TVEFUSUNfRFJBVyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRHZW9tZXRyeSgpe1xyXG4gIHBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgc2V0UmVjdGFuZ2xlKFxyXG4gICAgICBnbCwgMCwgMCwgQ29uZmlnLmdldEdyaWRTaXplKCksIENvbmZpZy5nZXRHcmlkU2l6ZSgpKTtcclxuICB9KTtcclxuXHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdQYXJ0aWNsZXMoKSB7XHJcbiAgcmVzaXplQ2FudmFzVG9EaXNwbGF5U2l6ZShnbC5jYW52YXMpO1xyXG5cclxuICAvLyBUZWxsIFdlYkdMIGhvdyB0byBjb252ZXJ0IGZyb20gY2xpcCBzcGFjZSB0byBwaXhlbHNcclxuICBnbC52aWV3cG9ydCgwLCAwLCBnbC5jYW52YXMud2lkdGgsIGdsLmNhbnZhcy5oZWlnaHQpO1xyXG5cclxuICAvLyBDbGVhciB0aGUgY2FudmFzXHJcbiAgZ2wuY2xlYXJDb2xvcigwLCAwLCAwLCAwKTsgLy8gQ2xlYXIgdG8gdHJhbnNwYXJlbnQgYmxhY2tcclxuICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUKTtcclxuXHJcbiAgLy8gVGVsbCBpdCB0byB1c2UgcHJvZ3JhbSAocGFpciBvZiBzaGFkZXJzKVxyXG4gIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XHJcblxyXG4gIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24pO1xyXG5cclxuICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcG9zaXRpb25CdWZmZXIpO1xyXG4gIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIocG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbiwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcclxuICB2YXIgb3V0bGluZUNvbG9yID0gcGFyc2VGbG9hdChnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZSgnLS1pcy1vdXRsaW5lLWRhcmsnKSk7XHJcbiAgdmFyIHJlc29sdXRpb24gPSBbZ2wuY2FudmFzLndpZHRoLCBnbC5jYW52YXMuaGVpZ2h0XVxyXG4gIC8vIERyYXcgdGhlIHJlY3RhbmdsZS5cclxuICBwYXJ0aWNsZXMuZm9yRWFjaCgocGFydGljbGUpID0+IHtcclxuICAgICAgZ2wudW5pZm9ybTJmdihyZXNvbHV0aW9uVW5pZm9ybUxvY2F0aW9uLCByZXNvbHV0aW9uKTtcclxuICAgICAgZ2wudW5pZm9ybTJmKHRyYW5zbGF0aW9uTG9jYXRpb24sIHBhcnRpY2xlLmN1cnJlbnRQb3NpdGlvbi54LCBwYXJ0aWNsZS5jdXJyZW50UG9zaXRpb24ueSk7XHJcbiAgICAgIGdsLnVuaWZvcm0zZihjb2xvclVuaWZvcm1Mb2NhdGlvbiwgcGFydGljbGUuY29sb3IucixwYXJ0aWNsZS5jb2xvci5nLCBwYXJ0aWNsZS5jb2xvci5iKTtcclxuICAgICAgZ2wudW5pZm9ybTFmKHJhZGl1c1VuaWZvcm1Mb2NhdGlvbiwgcGFydGljbGUucmFkaXVzKVxyXG4gICAgICBnbC51bmlmb3JtMWYob3V0bGluZVVuaWZvcm1Mb2NhdGlvbiwgb3V0bGluZUNvbG9yKTtcclxuICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRVMsIDAsIDYpO1xyXG4gIH0pO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd0F0dHJhY3RvcnMoYXR0cmFjdG9yczogQXR0cmFjdG9yW10pIHtcclxuICBhdHRyYWN0b3JzLmZvckVhY2goKGF0dHJhY3RvcikgPT4ge1xyXG4gICAgYXR0cmFjdG9yLmFuaW1hdGUoKTtcclxuICB9KTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkcmF3RG90dGVkTGluZShmcm9tOiBWZWMyRCwgdG86IFZlYzJELCByYWRpdXM6IG51bWJlciA9IDUsIGRvdENvdW50OiBudW1iZXIgPSA4KSB7XHJcbiAgaWYgKGlucHV0SGFuZGxlci5jbGlja2VkICYmIGZyb20ueCAhPSB0by54ICYmIGZyb20ueSAhPSB0by55KSB7XHJcbiAgICBjb25zdCBkaXN0YW5jZSA9IGZyb20uZGlmZmVyZW5jZSh0byk7XHJcbiAgICBkcmF3UHJlZGljdGVkUGF0aChmcm9tLmNsb25lKCksIGRpc3RhbmNlLmNsb25lKCkpXHJcbiAgICBkaXN0YW5jZS5kaXZpZGUoZG90Q291bnQpO1xyXG4gICAgdmFyIGFuZ2xlID0gTWF0aC5hdGFuMih0by55IC0gZnJvbS55LCB0by54IC0gZnJvbS54KTtcclxuICAgIHZhciBuZXdfdG8gPSBuZXcgVmVjMkQodG8ueCwgdG8ueSk7XHJcblxyXG4gICAgbmV3X3RvLnggLT0gTWF0aC5jb3MoYW5nbGUpO1xyXG4gICAgbmV3X3RvLnkgLT0gTWF0aC5zaW4oYW5nbGUpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IGRvdENvdW50OyBpKyspIHtcclxuICAgICAgdmFyIGRvdFggPSBmcm9tLnggLSBkaXN0YW5jZS54ICogaTtcclxuICAgICAgdmFyIGRvdFkgPSBmcm9tLnkgLSBkaXN0YW5jZS55ICogaTtcclxuICAgICAgZHJhd0RvdChkb3RYLCBkb3RZLCByYWRpdXMsIDI1NSk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdQcmVkaWN0ZWRQYXRoKHN0YXJ0UG9zOiBWZWMyRCwgQWNjZWxlcmF0aW9uVmVjdG9yOiBWZWMyRCkge1xyXG4gIGxldCBkb3RDb3VudCA9IDEyNztcclxuICBsZXQgcHJlZGljdGVkRG90ID0gbmV3IFBhcnRpY2xlKHN0YXJ0UG9zLCBDb25maWcuZ2V0R3JpZFNpemUoKS8yLCBBY2NlbGVyYXRpb25WZWN0b3IsIHtyOjAsIGc6MCwgYjowfSxncmlkKVxyXG4gIGZvciAobGV0IGkgPSAxOyBpIDw9IGRvdENvdW50OyBpKyspIHtcclxuXHJcbiAgICBwcmVkaWN0ZWREb3QuYWNjZWxlcmF0ZShDb25maWcuZ2V0R3Jhdml0eURpcmVjdGlvbigpKTtcclxuICAgIGFwcGx5Q29uc3RyYWludChwcmVkaWN0ZWREb3QpO1xyXG4gICAgYXBwbHlBdHRyYWN0b3JGb3JjZXMocHJlZGljdGVkRG90KTtcclxuICAgIHByZWRpY3RlZERvdC51cGRhdGVQb3NpdGlvbihnZXRBdmVyYWdlRnJhbWVUaW1lKCkvMjApO1xyXG4gICAgaWYgKGkgJSAzID09IDApIHtcclxuICAgICAgZHJhd0RvdChwcmVkaWN0ZWREb3QuY3VycmVudFBvc2l0aW9uLngsIHByZWRpY3RlZERvdC5jdXJyZW50UG9zaXRpb24ueSwgNSwgMjU1IC0gaSoyKVxyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZHJhd0RvdChkb3RYOiBudW1iZXIsIGRvdFk6IG51bWJlciwgZG90U2l6ZTogbnVtYmVyLCBvcGFjaXR5OiBudW1iZXIpIHtcclxuICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmJlZ2luUGF0aCgpO1xyXG4gIGZvcmVncm91bmRDYW52YXNDdHguYXJjKFxyXG4gICAgZG90WCxcclxuICAgIGRvdFksXHJcbiAgICBkb3RTaXplLFxyXG4gICAgMCxcclxuICAgIDIgKiBNYXRoLlBJLFxyXG4gICAgZmFsc2VcclxuICApO1xyXG5cclxuICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmZpbGxTdHlsZSA9IGByZ2JhKDIxMCwgMjEwLCAyMTAsICR7b3BhY2l0eSAvIDI1NX0pYDtcclxuICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmZpbGwoKTtcclxuXHJcbiAgZm9yZWdyb3VuZENhbnZhc0N0eC5jbG9zZVBhdGgoKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdMYXNzbyhsaW5lV2lkdGg6IG51bWJlciA9IDMpIHtcclxuICBpZiAoaW5wdXRIYW5kbGVyLmNsaWNrZWQpIHtcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHguYmVnaW5QYXRoKCk7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmFyYyhpbnB1dEhhbmRsZXIucG9pbnRlclBvc2l0aW9uLngsIGlucHV0SGFuZGxlci5wb2ludGVyUG9zaXRpb24ueSwgQ29uZmlnLmdldEZpZWxkU2l6ZSgpLCAwLCAyICogTWF0aC5QSSk7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmxpbmVXaWR0aCA9IGxpbmVXaWR0aDtcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHguc3Ryb2tlU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZSgnLS1ncmlkLWNvbG9yJyk7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LnN0cm9rZSgpO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5jbG9zZVBhdGgoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkcmF3QXJyb3coZnJvbTogVmVjMkQsIHRvOiBWZWMyRCkge1xyXG4gIGlmIChpbnB1dEhhbmRsZXIuY2xpY2tlZCAmJiBmcm9tLnggIT0gdG8ueCAmJiBmcm9tLnkgIT0gdG8ueSkge1xyXG4gICAgdmFyIGFuZ2xlID0gTWF0aC5hdGFuMih0by55IC0gZnJvbS55LCB0by54IC0gZnJvbS54KTtcclxuICAgIGNvbnN0IHdpZHRoID0gMTA7XHJcbiAgICB2YXIgaGVhZGxlbiA9IDEwO1xyXG4gICAgdmFyIG5ld190byA9IG5ldyBWZWMyRCh0by54LCB0by55KTtcclxuICAgIC8vIFRoaXMgbWFrZXMgaXQgc28gdGhlIGVuZCBvZiB0aGUgYXJyb3cgaGVhZCBpcyBsb2NhdGVkIGF0IHRveCwgdG95LCBkb24ndCBhc2sgd2hlcmUgMS4xNSBjb21lcyBmcm9tXHJcbiAgICBuZXdfdG8ueCAtPSBNYXRoLmNvcyhhbmdsZSkgKiAoKHdpZHRoICogMS4xNSkpO1xyXG4gICAgbmV3X3RvLnkgLT0gTWF0aC5zaW4oYW5nbGUpICogKCh3aWR0aCAqIDEuMTUpKTtcclxuXHJcblxyXG5cclxuICAgIC8vc3RhcnRpbmcgcGF0aCBvZiB0aGUgYXJyb3cgZnJvbSB0aGUgc3RhcnQgc3F1YXJlIHRvIHRoZSBlbmQgc3F1YXJlIGFuZCBkcmF3aW5nIHRoZSBzdHJva2VcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHguYmVnaW5QYXRoKCk7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4Lm1vdmVUbyhmcm9tLngsIGZyb20ueSk7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmxpbmVUbyhuZXdfdG8ueCwgbmV3X3RvLnkpO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5zdHJva2VTdHlsZSA9IFwiI2JiYmJiYlwiO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5saW5lV2lkdGggPSB3aWR0aDtcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHguc3Ryb2tlKCk7XHJcblxyXG4gICAgLy9zdGFydGluZyBhIG5ldyBwYXRoIGZyb20gdGhlIGhlYWQgb2YgdGhlIGFycm93IHRvIG9uZSBvZiB0aGUgc2lkZXMgb2YgdGhlIHBvaW50XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5tb3ZlVG8obmV3X3RvLngsIG5ld190by55KTtcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHgubGluZVRvKG5ld190by54IC0gaGVhZGxlbiAqIE1hdGguY29zKGFuZ2xlIC0gTWF0aC5QSSAvIDcpLCBuZXdfdG8ueSAtIGhlYWRsZW4gKiBNYXRoLnNpbihhbmdsZSAtIE1hdGguUEkgLyA3KSk7XHJcblxyXG4gICAgLy9wYXRoIGZyb20gdGhlIHNpZGUgcG9pbnQgb2YgdGhlIGFycm93LCB0byB0aGUgb3RoZXIgc2lkZSBwb2ludFxyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5saW5lVG8obmV3X3RvLnggLSBoZWFkbGVuICogTWF0aC5jb3MoYW5nbGUgKyBNYXRoLlBJIC8gNyksIG5ld190by55IC0gaGVhZGxlbiAqIE1hdGguc2luKGFuZ2xlICsgTWF0aC5QSSAvIDcpKTtcclxuXHJcbiAgICAvL3BhdGggZnJvbSB0aGUgc2lkZSBwb2ludCBiYWNrIHRvIHRoZSB0aXAgb2YgdGhlIGFycm93LCBhbmQgdGhlbiBhZ2FpbiB0byB0aGUgb3Bwb3NpdGUgc2lkZSBwb2ludFxyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5saW5lVG8obmV3X3RvLngsIG5ld190by55KTtcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHgubGluZVRvKG5ld190by54IC0gaGVhZGxlbiAqIE1hdGguY29zKGFuZ2xlIC0gTWF0aC5QSSAvIDcpLCBuZXdfdG8ueSAtIGhlYWRsZW4gKiBNYXRoLnNpbihhbmdsZSAtIE1hdGguUEkgLyA3KSk7XHJcblxyXG4gICAgLy9kcmF3cyB0aGUgcGF0aHMgY3JlYXRlZCBhYm92ZVxyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5zdHJva2VTdHlsZSA9IFwiI2JiYmJiYlwiO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5saW5lV2lkdGggPSB3aWR0aDtcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHguc3Ryb2tlKCk7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmZpbGxTdHlsZSA9IFwiI2JiYmJiYlwiO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5maWxsKCk7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmNsb3NlUGF0aCgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdDdXJzb3JGdW5jdGlvbigpIHtcclxuICBpZiAoaW5wdXRIYW5kbGVyLmNsaWNrZWQpIHtcclxuc3dpdGNoIChDb25maWcuZ2V0UG9pbnRlckZ1bmN0aW9uKCkpIHtcclxuICBjYXNlICdmaWVsZCc6XHJcbiAgICBkcmF3TGFzc28oKTtcclxuICAgIGJyZWFrO1xyXG4gIGNhc2UgJ2dyYXZpdHknOlxyXG4gICAgZHJhd0Fycm93KGlucHV0SGFuZGxlci5jbGlja1N0YXJ0UG9zaXRpb24sIGlucHV0SGFuZGxlci5wb2ludGVyUG9zaXRpb24pXHJcbiAgICBicmVhaztcclxuICBjYXNlICd0aHJvdyc6XHJcbiAgICBkcmF3RG90dGVkTGluZShpbnB1dEhhbmRsZXIuY2xpY2tTdGFydFBvc2l0aW9uLCBpbnB1dEhhbmRsZXIucG9pbnRlclBvc2l0aW9uKVxyXG4gICAgYnJlYWs7XHJcbn1cclxuICB9XHJcbn0iLCJleHBvcnQgZnVuY3Rpb24gY3JlYXRlU2hhZGVyKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHR5cGU6IGFueSwgc291cmNlOiBhbnkpIHtcclxuICAgIHZhciBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIodHlwZSk7XHJcbiAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzb3VyY2UpO1xyXG4gICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xyXG4gICAgdmFyIHN1Y2Nlc3MgPSBnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUyk7XHJcbiAgICBpZiAoc3VjY2Vzcykge1xyXG4gICAgICByZXR1cm4gc2hhZGVyO1xyXG4gICAgfVxyXG4gICBcclxuICAgIGNvbnNvbGUubG9nKGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKSk7XHJcbiAgICBnbC5kZWxldGVTaGFkZXIoc2hhZGVyKTtcclxuICB9XHJcblxyXG4gIGV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQcm9ncmFtKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHZlcnRleFNoYWRlcjogV2ViR0xTaGFkZXIsIGZyYWdtZW50U2hhZGVyOiBXZWJHTFNoYWRlcikge1xyXG4gICAgdmFyIHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XHJcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcclxuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XHJcbiAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgIHZhciBzdWNjZXNzID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUyk7XHJcbiAgICBpZiAoc3VjY2Vzcykge1xyXG4gICAgICByZXR1cm4gcHJvZ3JhbTtcclxuICAgIH1cclxuICAgXHJcbiAgICBjb25zb2xlLmxvZyhnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSk7XHJcbiAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xyXG4gIH1cclxuXHJcbiAgZXhwb3J0IGZ1bmN0aW9uIHJlc2l6ZUNhbnZhc1RvRGlzcGxheVNpemUoY2FudmFzOmFueSkge1xyXG4gICAgLy8gTG9va3VwIHRoZSBzaXplIHRoZSBicm93c2VyIGlzIGRpc3BsYXlpbmcgdGhlIGNhbnZhcyBpbiBDU1MgcGl4ZWxzLlxyXG4gICAgY29uc3QgZGlzcGxheVdpZHRoICA9IGNhbnZhcy5jbGllbnRXaWR0aDtcclxuICAgIGNvbnN0IGRpc3BsYXlIZWlnaHQgPSBjYW52YXMuY2xpZW50SGVpZ2h0O1xyXG4gICBcclxuICAgIC8vIENoZWNrIGlmIHRoZSBjYW52YXMgaXMgbm90IHRoZSBzYW1lIHNpemUuXHJcbiAgICBjb25zdCBuZWVkUmVzaXplID0gY2FudmFzLndpZHRoICAhPT0gZGlzcGxheVdpZHRoIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCAhPT0gZGlzcGxheUhlaWdodDtcclxuICAgXHJcbiAgICBpZiAobmVlZFJlc2l6ZSkge1xyXG4gICAgICAvLyBNYWtlIHRoZSBjYW52YXMgdGhlIHNhbWUgc2l6ZVxyXG4gICAgICBjYW52YXMud2lkdGggID0gZGlzcGxheVdpZHRoO1xyXG4gICAgICBjYW52YXMuaGVpZ2h0ID0gZGlzcGxheUhlaWdodDtcclxuICAgIH1cclxuICAgXHJcbiAgICByZXR1cm4gbmVlZFJlc2l6ZTtcclxuXHJcbiAgfSIsImltcG9ydCAqIGFzIENvbmZpZyBmcm9tICcuL0NvbmZpZyc7XHJcblxyXG5sZXQgZnBzQ291bnRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5mcHNDb3VudGVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuZnBzQ291bnRlci5zdHlsZS50b3AgPSAnMTBweCc7XHJcbmZwc0NvdW50ZXIuc3R5bGUubGVmdCA9ICcxMHB4JztcclxuXHJcbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZnBzQ291bnRlcik7XHJcblxyXG5leHBvcnQgdmFyIGZwcyA9IDYwO1xyXG5leHBvcnQgdmFyIGZyYW1lVGltZXM6bnVtYmVyW10gPSBbXTtcclxuY29uc3QgbWF4RnJhbWVzID0gMTAwOyBcclxuXHJcbmxldCBsYXN0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVVJKCkge1xyXG4gICAgbGV0IGF2ZXJhZ2VkRlBTID0gY2FsY3VsYXRlRlBTKCk7XHJcbiAgICBmcHNDb3VudGVyLmlubmVyVGV4dCA9IGBGUFM6ICR7TWF0aC5yb3VuZChhdmVyYWdlZEZQUyl9YDtcclxufVxyXG5cclxuZnVuY3Rpb24gY2FsY3VsYXRlRlBTKCkge1xyXG4gICAgY29uc3QgY3VycmVudFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuICAgIGNvbnN0IHRpbWVEaWZmID0gY3VycmVudFRpbWUgLSBsYXN0VGltZTtcclxuICAgIGZyYW1lVGltZXMucHVzaCh0aW1lRGlmZik7XHJcblxyXG4gICAgaWYgKGZyYW1lVGltZXMubGVuZ3RoID4gbWF4RnJhbWVzKSB7XHJcbiAgICAgICAgZnJhbWVUaW1lcy5zaGlmdCgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjb25zdCBhdmVyYWdlRlBTID0gZnJhbWVUaW1lcy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKSAvIGZyYW1lVGltZXMubGVuZ3RoO1xyXG5cclxuICAgIGxhc3RUaW1lID0gY3VycmVudFRpbWU7XHJcblxyXG4gICAgcmV0dXJuIDEwMDAgLyBhdmVyYWdlRlBTO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXZlcmFnZUZyYW1lVGltZSgpe1xyXG4gICAgcmV0dXJuIGZyYW1lVGltZXMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyBmcmFtZVRpbWVzLmxlbmd0aDtcclxufVxyXG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0UmFuZG9tQ29sb3IoKTogeyByOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyIH0ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcjogTWF0aC5yYW5kb20oKSxcclxuICAgICAgZzogTWF0aC5yYW5kb20oKSxcclxuICAgICAgYjogTWF0aC5yYW5kb20oKVxyXG4gICAgfVxyXG4gIH1cclxuICAiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBWZWMyRCB7XHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbiAgXHJcbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgICB0aGlzLnggPSB4O1xyXG4gICAgICB0aGlzLnkgPSB5O1xyXG4gICAgfVxyXG4gIFxyXG4gICAgYWRkKG90aGVyOiBWZWMyRCl7XHJcbiAgICAgIHRoaXMueCArPSBvdGhlci54O1xyXG4gICAgICB0aGlzLnkgKz0gb3RoZXIueTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0KG90aGVyOiBWZWMyRCl7XHJcbiAgICAgIHRoaXMueCA9IG90aGVyLng7XHJcbiAgICAgIHRoaXMueSA9IG90aGVyLnk7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzdWJ0cmFjdChvdGhlcjogVmVjMkQpe1xyXG4gICAgICB0aGlzLnggLT0gb3RoZXIueDtcclxuICAgICAgdGhpcy55IC09IG90aGVyLnk7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgbXVsdGlwbHkoc2NhbGFyOiBudW1iZXIpIHtcclxuICAgICAgdGhpcy54ICo9IHNjYWxhcjtcclxuICAgICAgdGhpcy55ICo9IHNjYWxhcjtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBkaXZpZGUoc2NhbGFyOiBudW1iZXIpe1xyXG4gICAgICB0aGlzLnggLz0gc2NhbGFyO1xyXG4gICAgICB0aGlzLnkgLz0gc2NhbGFyO1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICBcclxuICAgIGRvdCh2ZWM6IFZlYzJEKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMueCAqIHZlYy54ICsgdGhpcy55ICogdmVjLnk7XHJcbiAgICB9XHJcblxyXG4gICAgbGVuZ3RoKCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55KTtcclxuICAgIH1cclxuXHJcbiAgICBzcXVhcmVkTGVuZ3RoKCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvbmUoKTogVmVjMkR7XHJcbiAgICAgIHJldHVybiBuZXcgVmVjMkQodGhpcy54LCB0aGlzLnkpXHJcbiAgICB9XHJcblxyXG4gICAgZGlmZmVyZW5jZShvdGhlcjogVmVjMkQpOiBWZWMyRHtcclxuICAgICAgcmV0dXJuIG5ldyBWZWMyRCh0aGlzLnggLSBvdGhlci54LCB0aGlzLnkgLSBvdGhlci55KVxyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBBdHRyYWN0b3IgZnJvbSBcIi4vQXR0cmFjdG9yXCI7XHJcbmltcG9ydCB7IGRyYXdBcnJvdywgZHJhd0xhc3NvLCBkcmF3UGFydGljbGVzLCBkcmF3RG90dGVkTGluZSwgc2V0R2VvbWV0cnksIGRyYXdDdXJzb3JGdW5jdGlvbiB9IGZyb20gXCIuL1JlbmRlcmVyXCI7XHJcbmltcG9ydCB7IGNsb3NlTWVudSwgdXBkYXRlUG9pbnRlckZ1bmN0aW9uIH0gZnJvbSBcIi4vTWVudU1hbmFnZXJcIjtcclxuaW1wb3J0IFBhcnRpY2xlIGZyb20gXCIuL1BhcnRpY2xlXCI7XHJcbmltcG9ydCBWZWMyRCBmcm9tIFwiLi9WZWMyRFwiO1xyXG5pbXBvcnQgeyBmcHMsIGdldEF2ZXJhZ2VGcmFtZVRpbWUsIHVwZGF0ZVVJIH0gZnJvbSBcIi4vVUlNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IGJhY2tncm91bmRDYW52YXMsIGNsZWFyQ2FudmFzLCBmb3JlZ3JvdW5kQ2FudmFzIH0gZnJvbSBcIi4vQ2FudmFzTWFuYWdlclwiO1xyXG5pbXBvcnQgeyB0aWNrIH0gZnJvbSBcIi4vUGh5c2ljc0VuZ2luZVwiO1xyXG5pbXBvcnQgKiBhcyBDb25maWcgZnJvbSAnLi9Db25maWcnO1xyXG5pbXBvcnQgeyBHcmlkIH0gZnJvbSBcIi4vR3JpZFwiO1xyXG5pbXBvcnQgeyBnZXRSYW5kb21Db2xvciB9IGZyb20gXCIuL1V0aWxzXCI7XHJcblxyXG5leHBvcnQgdmFyIHBhcnRpY2xlczogUGFydGljbGVbXSA9IFtdO1xyXG5leHBvcnQgdmFyIGF0dHJhY3RvcnM6IEF0dHJhY3RvcltdID0gW107XHJcblxyXG5sZXQgZnJhbWVDb3VudCA9IDA7XHJcbmV4cG9ydCBsZXQgZ3JpZCA9IG5ldyBHcmlkKGJhY2tncm91bmRDYW52YXMpO1xyXG5cclxuZnVuY3Rpb24gYW5pbWF0ZSgpIHtcclxuICBsZXQgZnJhbWVUaW1lID0gZ2V0QXZlcmFnZUZyYW1lVGltZSgpXHJcbiAgdGljayhmcmFtZVRpbWUvMjApO1xyXG5cclxuICBjbGVhckNhbnZhcygpO1xyXG4gIGRyYXdQYXJ0aWNsZXMoKTtcclxuICBkcmF3Q3Vyc29yRnVuY3Rpb24oKTtcclxuICAvLyBkcmF3R3JpZCgpO1xyXG4gIC8vIGRyYXdBdHRyYWN0b3JzKCk7XHJcbiAgdXBkYXRlVUkoKTtcclxuXHJcbiAgY29uc3QgbXVsdCA9IDEwIC9mcmFtZVRpbWU7XHJcbiAgaWYgKGZyYW1lQ291bnQgJSAzID09PSAwICYmIHBhcnRpY2xlcy5sZW5ndGggPCBDb25maWcuZ2V0UGFydGljbGVOdW1iZXIoKSAmJiBmcmFtZUNvdW50ID4gMTIwKSB7XHJcbiAgICBwYXJ0aWNsZXMucHVzaChuZXcgUGFydGljbGUobmV3IFZlYzJEKDIwMCwgMjAwKSwgZ3JpZC5waXhlbFNpemUvMiwgbmV3IFZlYzJEKDIwMCAqIG11bHQsIC04MCAqIG11bHQpLCBnZXRSYW5kb21Db2xvcigpLCBncmlkKSk7XHJcbiAgICBwYXJ0aWNsZXMucHVzaChuZXcgUGFydGljbGUobmV3IFZlYzJEKDIwMCwgMjYwKSwgZ3JpZC5waXhlbFNpemUvMiwgbmV3IFZlYzJEKDE4MCAqIG11bHQsIC04MCAqIG11bHQpLCBnZXRSYW5kb21Db2xvcigpLCBncmlkKSk7XHJcbiAgICBwYXJ0aWNsZXMucHVzaChuZXcgUGFydGljbGUobmV3IFZlYzJEKDIwMCwgMzIwKSwgZ3JpZC5waXhlbFNpemUvMiwgbmV3IFZlYzJEKDE3MCAqIG11bHQsIC04MCAqIG11bHQpLCBnZXRSYW5kb21Db2xvcigpLCBncmlkKSk7XHJcbiAgICBwYXJ0aWNsZXMucHVzaChuZXcgUGFydGljbGUobmV3IFZlYzJEKDIwMCwgMzgwKSwgZ3JpZC5waXhlbFNpemUvMiwgbmV3IFZlYzJEKDE4MCAqIG11bHQsIC04MCAqIG11bHQpLCBnZXRSYW5kb21Db2xvcigpLCBncmlkKSk7XHJcbiAgICBwYXJ0aWNsZXMucHVzaChuZXcgUGFydGljbGUobmV3IFZlYzJEKDIwMCwgNDQwKSwgZ3JpZC5waXhlbFNpemUvMiwgbmV3IFZlYzJEKDE3MCAqIG11bHQsIC04MCAqIG11bHQpLCBnZXRSYW5kb21Db2xvcigpLCBncmlkKSk7XHJcbiAgICBzZXRHZW9tZXRyeSgpO1xyXG4gIH1cclxuICBmcmFtZUNvdW50Kys7XHJcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xyXG59XHJcblxyXG5ncmlkLmRyYXcoKTtcclxucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxuX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL3NjcmlwdC50c1wiKTtcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL01lbnVNYW5hZ2VyLnRzXCIpO1xuIl0sIm5hbWVzIjpbImZvcmVncm91bmRDYW52YXMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiYmFja2dyb3VuZENhbnZhcyIsIndlYmdsQ2FudmFzIiwid2lkdGgiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJoZWlnaHQiLCJmb3JlZ3JvdW5kQ2FudmFzQ3R4IiwiZ2V0Q29udGV4dCIsImJhY2tncm91bmRDYW52YXNDdHgiLCJjbGVhckNhbnZhcyIsImNsZWFyUmVjdCIsInVwZGF0ZUNhbnZhc1NpemUiLCJncmlkIiwiY2FudmFzIiwidXBkYXRlU2l6ZSIsImRyYXciLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZmllbGRTdHJlbmd0aCIsInBoeXNpY3NTdWJzdGVwc0Ftb3VudCIsImdyYXZpdHlEaXJlY3Rpb24iLCJmaWVsZFNpemUiLCJwYXJ0aWNsZU51bWJlciIsInBvaW50ZXJGdW5jdGlvbiIsImdyaWRTaXplIiwiZ2V0R3Jhdml0eURpcmVjdGlvbiIsImdldFBoeXNpY3NTdWJzdGVwc0Ftb3VudCIsImdldEZpZWxkU3RyZW5ndGgiLCJnZXRGaWVsZFNpemUiLCJnZXRQYXJ0aWNsZU51bWJlciIsImdldFBvaW50ZXJGdW5jdGlvbiIsImdldEdyaWRTaXplIiwic2V0R3Jhdml0eURpcmVjdGlvbiIsIm5ld0dyYXZpdHlEaXJlY3Rpb24iLCJzZXRQaHlzaWNzU3Vic3RlcHNBbW91bnQiLCJuZXdBbW91bnQiLCJzZXRGaWVsZFN0cmVuZ3RoIiwibmV3ZmllbGRTdHJlbmd0aCIsInNldEZpZWxkU2l6ZSIsIm5ld2ZpZWxkU2l6ZSIsInNldFBhcnRpY2xlTnVtYmVyIiwibmV3UGFydGljbGVOdW1iZXIiLCJzZXRQb2ludGVyRnVuY3Rpb24iLCJuZXdQb2ludGVyRnVuY3Rpb24iLCJncmlkUGl4ZWxTaXplIiwidGhpcyIsInBpeGVsU2l6ZSIsImNvbHVtbnMiLCJNYXRoIiwiY2VpbCIsInJvd3MiLCJjZWxscyIsImluaXRpYWxpemUiLCJjYW52YXNDdHgiLCJpIiwiaiIsInJlbW92ZUFsbCIsInB1dCIsInBhcnRpY2xlIiwiY29sdW1uIiwiZmxvb3IiLCJjdXJyZW50UG9zaXRpb24iLCJ4Iiwicm93IiwieSIsImxlbmd0aCIsInB1c2giLCJzdHJva2VTdHlsZSIsImdldENvbXB1dGVkU3R5bGUiLCJkb2N1bWVudEVsZW1lbnQiLCJnZXRQcm9wZXJ0eVZhbHVlIiwibGluZVdpZHRoIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwiY2xpY2tlZCIsInBvaW50ZXJQb3NpdGlvbiIsImNsaWNrU3RhcnRQb3NpdGlvbiIsImdldEluc3RhbmNlIiwiSW5wdXRIYW5kbGVyIiwiaW5zdGFuY2UiLCJpbml0aWFsaXplRXZlbnRMaXN0ZW5lcnMiLCJtYWluX2JvZHkiLCJoYW5kbGVNb3VzZURvd24iLCJiaW5kIiwiaGFuZGxlTW91c2VVcCIsImhhbmRsZU1vdmVFdmVudCIsImV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwiY2xvc2VNZW51IiwiTW91c2VFdmVudCIsImNsaWVudFgiLCJjbGllbnRZIiwiVG91Y2hFdmVudCIsInRvdWNoZXMiLCJsYXVuY2hfZGlyIiwiY2xvbmUiLCJkaWZmZXJlbmNlIiwibXVsdGlwbHkiLCJmcHMiLCJwYXJ0aWNsZXMiLCJnZXRSYW5kb21Db2xvciIsIm1lbnVCdXR0b24iLCJtZW51RWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwib3Blbk1lbnUiLCJnZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJzdHlsZSIsImN1cnNvciIsImZvckVhY2giLCJlbGVtZW50Iiwic2V0VGltZW91dCIsImRpc3BsYXkiLCJxdWVyeVNlbGVjdG9yIiwibmV3VGhlbWUiLCJyb290RWxlbSIsImZpZWxkU2l6ZVNsaWRlciIsImZpZWxkU3RyZW5ndGhTbGlkZXIiLCJncmF2aXR5U3RyZW5ndGhTbGlkZXIiLCJzdWJzdGVwc0Ftb3VudEVudHJ5Qm94IiwicGFydGljbGVzQW1vdW50RW50cnlCb3giLCJ1cGRhdGVQb2ludGVyRnVuY3Rpb24iLCJyYWRpb0J1dHRvbnMiLCJnZXRFbGVtZW50c0J5TmFtZSIsImNoZWNrZWQiLCJ2YWx1ZSIsInNldEdyYXZpdHlTdHJlbmd0aCIsInJhZGlvQnV0dG9uIiwib25pbnB1dCIsInBhcnNlSW50IiwiZGlmZiIsInBvcCIsInBvcyIsInJhZGl1cyIsImFjYyIsImNvbG9yIiwicHJldmlvdXNQb3NpdGlvbiIsImFjY2VsZXJhdGlvbiIsImNlbGwiLCJ1cGRhdGVQb3NpdGlvbiIsImR0IiwidmVsb2NpdHkiLCJhZGQiLCJ1cGRhdGVDZWxsIiwiYWNjZWxlcmF0ZSIsImdldE5laWdoYm9yaW5nUGFydGljbGVzIiwibmVpZ2hib3JpbmdQYXJ0aWNsZXMiLCJpbnB1dEhhbmRsZXIiLCJ1cGRhdGVQb3NpdGlvbnMiLCJhcHBseUZpZWxkIiwiZmllbGRQb3MiLCJwdWxsRGlyZWN0aW9uIiwiZGlzdGFuY2UiLCJkaXZpZGUiLCJhcHBseUF0dHJhY3RvckZvcmNlc1RvQWxsIiwiYXBwbHlBdHRyYWN0b3JGb3JjZXMiLCJ0aWNrIiwic3ViX2R0IiwiYXBwbHlDb25zdHJhaW50Iiwic29sdmVDb2xsaXNpb25zIiwiYXR0cmFjdG9ycyIsImF0dHJhY3RvciIsInBvc2l0aW9uIiwiZm9yY2UiLCJ0ZW1wQ29sbGlzaW9uRGlyZWN0aW9uIiwic3F1YXJlZERpc3RhbmNlIiwicmFkaWlTdW0iLCJwYXJ0aWNsZTEiLCJwYXJ0aWNsZTIiLCJzZXQiLCJzdWJ0cmFjdCIsInNxdWFyZWRMZW5ndGgiLCJzcXJ0IiwiZGVsdGEiLCJnbCIsImNvbnNvbGUiLCJlcnJvciIsImVuYWJsZSIsIkJMRU5EIiwiYmxlbmRGdW5jIiwiU1JDX0FMUEhBIiwiT05FX01JTlVTX1NSQ19BTFBIQSIsInZlcnRleFNoYWRlciIsImNyZWF0ZVNoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJmcmFnbWVudFNoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsInByb2dyYW0iLCJjcmVhdGVQcm9ncmFtIiwicG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbiIsImdldEF0dHJpYkxvY2F0aW9uIiwicmVzb2x1dGlvblVuaWZvcm1Mb2NhdGlvbiIsImdldFVuaWZvcm1Mb2NhdGlvbiIsImNvbG9yVW5pZm9ybUxvY2F0aW9uIiwidHJhbnNsYXRpb25Mb2NhdGlvbiIsInJhZGl1c1VuaWZvcm1Mb2NhdGlvbiIsIm91dGxpbmVVbmlmb3JtTG9jYXRpb24iLCJwb3NpdGlvbkJ1ZmZlciIsImNyZWF0ZUJ1ZmZlciIsInNldEdlb21ldHJ5IiwieDEiLCJ4MiIsInkxIiwieTIiLCJidWZmZXJEYXRhIiwiQVJSQVlfQlVGRkVSIiwiRmxvYXQzMkFycmF5IiwiU1RBVElDX0RSQVciLCJzZXRSZWN0YW5nbGUiLCJkcmF3UGFydGljbGVzIiwicmVzaXplQ2FudmFzVG9EaXNwbGF5U2l6ZSIsInZpZXdwb3J0IiwiY2xlYXJDb2xvciIsImNsZWFyIiwiQ09MT1JfQlVGRkVSX0JJVCIsInVzZVByb2dyYW0iLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsImJpbmRCdWZmZXIiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiRkxPQVQiLCJvdXRsaW5lQ29sb3IiLCJwYXJzZUZsb2F0IiwicmVzb2x1dGlvbiIsInVuaWZvcm0yZnYiLCJ1bmlmb3JtMmYiLCJ1bmlmb3JtM2YiLCJyIiwiZyIsImIiLCJ1bmlmb3JtMWYiLCJkcmF3QXJyYXlzIiwiVFJJQU5HTEVTIiwiZHJhd0RvdHRlZExpbmUiLCJmcm9tIiwidG8iLCJkb3RDb3VudCIsImRyYXdQcmVkaWN0ZWRQYXRoIiwiYW5nbGUiLCJhdGFuMiIsIm5ld190byIsImNvcyIsInNpbiIsImRyYXdEb3QiLCJzdGFydFBvcyIsIkFjY2VsZXJhdGlvblZlY3RvciIsInByZWRpY3RlZERvdCIsImdldEF2ZXJhZ2VGcmFtZVRpbWUiLCJkb3RYIiwiZG90WSIsImRvdFNpemUiLCJvcGFjaXR5IiwiYXJjIiwiUEkiLCJmaWxsU3R5bGUiLCJmaWxsIiwiY2xvc2VQYXRoIiwiZHJhd0xhc3NvIiwiZHJhd0Fycm93IiwiaGVhZGxlbiIsImRyYXdDdXJzb3JGdW5jdGlvbiIsInR5cGUiLCJzb3VyY2UiLCJzaGFkZXIiLCJzaGFkZXJTb3VyY2UiLCJjb21waWxlU2hhZGVyIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJsb2ciLCJnZXRTaGFkZXJJbmZvTG9nIiwiZGVsZXRlU2hhZGVyIiwiYXR0YWNoU2hhZGVyIiwibGlua1Byb2dyYW0iLCJnZXRQcm9ncmFtUGFyYW1ldGVyIiwiTElOS19TVEFUVVMiLCJnZXRQcm9ncmFtSW5mb0xvZyIsImRlbGV0ZVByb2dyYW0iLCJkaXNwbGF5V2lkdGgiLCJjbGllbnRXaWR0aCIsImRpc3BsYXlIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJuZWVkUmVzaXplIiwiZnBzQ291bnRlciIsImNyZWF0ZUVsZW1lbnQiLCJ0b3AiLCJsZWZ0IiwiYm9keSIsImFwcGVuZENoaWxkIiwiZnJhbWVUaW1lcyIsIm1heEZyYW1lcyIsImxhc3RUaW1lIiwicGVyZm9ybWFuY2UiLCJub3ciLCJ1cGRhdGVVSSIsImF2ZXJhZ2VkRlBTIiwiY3VycmVudFRpbWUiLCJ0aW1lRGlmZiIsInNoaWZ0IiwiYXZlcmFnZUZQUyIsInJlZHVjZSIsImEiLCJjYWxjdWxhdGVGUFMiLCJpbm5lclRleHQiLCJyb3VuZCIsInJhbmRvbSIsIm90aGVyIiwic2NhbGFyIiwiZG90IiwidmVjIiwiVmVjMkQiLCJmcmFtZUNvdW50IiwiR3JpZCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImFuaW1hdGUiLCJmcmFtZVRpbWUiLCJtdWx0IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciXSwic291cmNlUm9vdCI6IiJ9