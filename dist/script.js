/*! For license information please see script.js.LICENSE.txt */
(()=>{"use strict";var t={"./src/CanvasManager.ts":(t,e,n)=>{n.r(e),n.d(e,{backgroundCanvas:()=>o,backgroundCanvasCtx:()=>c,clearCanvas:()=>u,foregroundCanvas:()=>r,foregroundCanvasCtx:()=>a,updateCanvasSize:()=>d});var i=n("./src/script.ts"),r=document.getElementById("foreground-canvas"),o=document.getElementById("background-canvas"),s=document.getElementById("webgl-canvas");r.width=r.getBoundingClientRect().width,r.height=r.getBoundingClientRect().height,o.width=o.getBoundingClientRect().width,o.height=o.getBoundingClientRect().height,s.width=s.getBoundingClientRect().width,s.height=s.getBoundingClientRect().height;var a=r.getContext("2d"),c=o.getContext("2d");function u(){a.clearRect(0,0,r.width,r.height)}function d(){r.width=r.getBoundingClientRect().width,r.height=r.getBoundingClientRect().height,o.width=o.getBoundingClientRect().width,o.height=o.getBoundingClientRect().height,s.width=s.getBoundingClientRect().width,s.height=s.getBoundingClientRect().height,i.grid.updateSize(),i.grid.draw()}window.addEventListener("resize",d)},"./src/Config.ts":(t,e,n)=>{n.r(e),n.d(e,{getFieldSize:()=>g,getFieldStrength:()=>f,getGravityDirection:()=>l,getGridSize:()=>y,getParticleNumber:()=>p,getPhysicsSubstepsAmount:()=>h,getPointerFunction:()=>v,setFieldSize:()=>C,setFieldStrength:()=>x,setGravityDirection:()=>m,setParticleNumber:()=>S,setPhysicsSubstepsAmount:()=>P,setPointerFunction:()=>w});var i=n("./src/Vec2D.ts"),r=10,o=4,s=new i.default(0,1),a=100,c=200,u="field",d=26;function l(){return s}function h(){return o}function f(){return r}function g(){return a}function p(){return c}function v(){return u}function y(){return d}function m(t){s=t}function P(t){o=t}function x(t){r=t}function C(t){a=t}function S(t){c=t}function w(t){u=t}},"./src/Grid.ts":(t,e,n)=>{n.r(e),n.d(e,{Grid:()=>r});var i=n("./src/Config.ts"),r=function(){function t(t,e){void 0===e&&(e=i.getGridSize()),this.pixelSize=e,this.canvas=t,this.columns=Math.ceil(this.canvas.width/this.pixelSize),this.rows=Math.ceil(this.canvas.height/this.pixelSize),this.cells=this.initialize(),this.canvasCtx=this.canvas.getContext("2d")}return t.prototype.initialize=function(){for(var t=[],e=0;e<this.columns;e++){t[e]=[];for(var n=0;n<this.rows;n++)t[e][n]=[]}return t},t.prototype.removeAll=function(){for(var t=0;t<this.columns;t++)for(var e=0;e<this.rows&&null!=this.cells[t];e++)this.cells[t][e]=[]},t.prototype.put=function(t){var e=Math.floor(t.currentPosition.x/this.pixelSize),n=Math.floor(t.currentPosition.y/this.pixelSize);e>=0&&e<this.cells.length&&n>=0&&n<this.cells[e].length&&this.cells[e][n].push(t)},t.prototype.updateSize=function(){this.columns=Math.ceil(this.canvas.width/this.pixelSize),this.rows=Math.ceil(this.canvas.height/this.pixelSize),this.initialize()},t.prototype.draw=function(){this.canvasCtx.clearRect(0,0,this.canvas.width,this.canvas.height),this.canvasCtx.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--grid-color"),this.canvasCtx.lineWidth=1;for(var t=this.pixelSize;t<this.canvas.width;t+=this.pixelSize)this.canvasCtx.beginPath(),this.canvasCtx.moveTo(t,0),this.canvasCtx.lineTo(t,this.canvas.height),this.canvasCtx.stroke();for(var e=this.pixelSize;e<this.canvas.height;e+=this.pixelSize)this.canvasCtx.beginPath(),this.canvasCtx.moveTo(0,e),this.canvasCtx.lineTo(this.canvas.width,e),this.canvasCtx.stroke()},t}()},"./src/InputHandler.ts":(t,e,n)=>{n.r(e),n.d(e,{InputHandler:()=>d});var i=n("./src/Vec2D.ts"),r=n("./src/Config.ts"),o=n("./src/MenuManager.ts"),s=n("./src/UIManager.ts"),a=n("./src/script.ts"),c=n("./src/Utils.ts"),u=n("./src/Particle.ts"),d=function(){function t(){this.clicked=!1,this.pointerPosition=new i.default(0,0),this.clickStartPosition=new i.default(0,0),this.pointerFunction="field"}return t.getInstance=function(){return t.instance||(t.instance=new t,t.instance.initializeEventListeners()),t.instance},t.prototype.initializeEventListeners=function(){var t=document.getElementById("main_container");t&&(t.addEventListener("mousedown",this.handleMouseDown.bind(this)),t.addEventListener("mouseup",this.handleMouseUp.bind(this)),t.addEventListener("mousemove",this.handleMoveEvent.bind(this)),t.addEventListener("touchstart",this.handleMouseDown.bind(this)),t.addEventListener("touchend",this.handleMouseUp.bind(this)),t.addEventListener("touchmove",this.handleMoveEvent.bind(this)),t.addEventListener("click",(function(t){t.stopPropagation(),(0,o.closeMenu)()})))},t.prototype.handleMouseDown=function(t){t.stopPropagation(),this.clicked=!0,t instanceof MouseEvent?(this.pointerPosition.x=t.clientX,this.pointerPosition.y=t.clientY):t instanceof TouchEvent&&(this.pointerPosition.x=t.touches[0].clientX,this.pointerPosition.y=t.touches[0].clientY),this.clickStartPosition.x=this.pointerPosition.x,this.clickStartPosition.y=this.pointerPosition.y},t.prototype.handleMouseUp=function(t){if(t.stopPropagation(),this.clicked=!1,"throw"==r.getPointerFunction()){var e=this.clickStartPosition.difference(this.pointerPosition);e.multiply(s.fps/60),a.particles.push(new u.default(this.clickStartPosition.clone(),r.getGridSize()/2,e,(0,c.getRandomColor)(),a.grid))}},t.prototype.handleMoveEvent=function(t){t.stopPropagation(),this.clicked&&(t instanceof MouseEvent?(this.pointerPosition.x=t.clientX,this.pointerPosition.y=t.clientY):t instanceof TouchEvent&&(this.pointerPosition.x=t.touches[0].clientX,this.pointerPosition.y=t.touches[0].clientY))},t}()},"./src/MenuManager.ts":(t,e,n)=>{n.r(e),n.d(e,{closeMenu:()=>u,openMenu:()=>c,setGravityStrength:()=>v,updatePointerFunction:()=>p});var i=n("./src/Config.ts"),r=n("./src/Vec2D.ts"),o=n("./src/script.ts"),s=document.getElementById("menu-button"),a=document.querySelectorAll(".menu-element");function c(){"false"==s.getAttribute("open")&&(s.setAttribute("open","true"),s.style.cursor="auto",a.forEach((function(t){setTimeout((function(){t.style.display="block"}),300)})))}function u(){s.setAttribute("open","false"),s.style.cursor="pointer",a.forEach((function(t){t.style.display="none"}))}s.addEventListener("click",(function(t){t.stopPropagation(),c()})),document.querySelector("#theme-switch").addEventListener("click",(function(){var t,e=document.documentElement;t="light"===e.getAttribute("theme")?"dark":"light",e.setAttribute("theme",t),o.grid.draw()}));var d=document.getElementById("field-size-slider"),l=document.getElementById("field-strength-slider"),h=document.getElementById("gravity-strength-slider"),f=document.getElementById("substeps-amount-entry"),g=document.getElementById("particles-amount-entry");function p(){for(var t=document.getElementsByName("cursor-function"),e=0;e<t.length;e++)if(t[e].checked)return t[e].value}function v(t){i.setGravityDirection(new r.default(0,.1*t))}document.getElementsByName("cursor-function").forEach((function(t){t.addEventListener("change",(function(){t.checked&&i.setPointerFunction(t.value)}))})),d.oninput=function(){i.setFieldSize(parseInt(d.value))},l.oninput=function(){i.setFieldStrength(parseInt(l.value))},h.oninput=function(){v(parseInt(h.value))},f.addEventListener("change",(function(){i.setPhysicsSubstepsAmount(parseInt(f.value))})),g.addEventListener("change",(function(){i.setParticleNumber(parseInt(g.value));for(var t=o.particles.length-i.getParticleNumber();t>0;)o.particles.pop(),t--}))},"./src/Particle.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var i=n("./src/Vec2D.ts");const r=function(){function t(t,e,n,r,o){this.currentPosition=t,this.previousPosition=this.currentPosition,this.radius=e,this.acceleration=n,this.color=r,this.grid=o,this.cell=new i.default(Math.floor(this.currentPosition.x/o.pixelSize),Math.floor(this.currentPosition.y/o.pixelSize))}return t.prototype.updatePosition=function(t){var e=new i.default(this.currentPosition.x-this.previousPosition.x,this.currentPosition.y-this.previousPosition.y);this.previousPosition=this.currentPosition.clone(),this.currentPosition.add(e),this.acceleration.multiply(t*t),this.currentPosition.add(this.acceleration),this.acceleration.x=0,this.acceleration.y=0,this.updateCell()},t.prototype.accelerate=function(t){this.acceleration.add(t)},t.prototype.getNeighboringParticles=function(){for(var t=[],e=this.cell.x-1;e<=this.cell.x+1;e++)for(var n=this.cell.y-1;n<=this.cell.y+1;n++)if(e>=0&&e<this.grid.columns&&n>=0&&n<this.grid.rows){if(null==this.grid.cells[e])break;t.push.apply(t,this.grid.cells[e][n])}return t},t.prototype.updateCell=function(){this.cell=new i.default(Math.floor(this.currentPosition.x/this.grid.pixelSize),Math.floor(this.currentPosition.y/this.grid.pixelSize))},t.canvas=document.getElementById("foreground-canvas"),t}()},"./src/PhysicsEngine.ts":(t,e,n)=>{n.r(e),n.d(e,{applyAttractorForces:()=>g,applyAttractorForcesToAll:()=>l,applyConstraint:()=>f,tick:()=>h});var i=n("./src/CanvasManager.ts"),r=n("./src/Config.ts"),o=n("./src/InputHandler.ts"),s=n("./src/Vec2D.ts"),a=n("./src/script.ts"),c=o.InputHandler.getInstance();function u(t){a.grid.removeAll(),a.particles.forEach((function(e){e.updatePosition(t),a.grid.put(e)}))}function d(t){a.particles.forEach((function(e){var n=t.difference(e.currentPosition),i=n.length();i<r.getFieldSize()&&i>10&&(n.multiply(100*r.getFieldStrength()),n.divide(i*i),e.accelerate(n))}))}function l(){a.particles.forEach((function(t){g(t)}))}function h(t){for(var e=t/r.getPhysicsSubstepsAmount(),n=0;n<r.getPhysicsSubstepsAmount();n++){if(0!=r.getGravityDirection().y&&a.particles.forEach((function(t){t.accelerate(r.getGravityDirection())})),c.clicked)switch(r.getPointerFunction()){case"field":d(c.pointerPosition);break;case"gravity":r.setGravityDirection(c.pointerPosition.difference(c.clickStartPosition).divide(400))}a.particles.forEach((function(t){f(t)})),p(),u(e)}}function f(t){t.currentPosition.y+t.radius>i.foregroundCanvas.height&&(t.currentPosition.y=i.foregroundCanvas.height-t.radius,t.previousPosition.y=t.currentPosition.y+t.currentPosition.y-t.previousPosition.y),t.currentPosition.y-t.radius<0&&(t.currentPosition.y=t.radius,t.previousPosition.y=t.currentPosition.y+t.currentPosition.y-t.previousPosition.y),t.currentPosition.x-t.radius<0&&(t.currentPosition.x=t.radius,t.previousPosition.x=t.currentPosition.x+t.currentPosition.x-t.previousPosition.x),t.currentPosition.x+t.radius>i.foregroundCanvas.width&&(t.currentPosition.x=i.foregroundCanvas.width-t.radius)}function g(t){a.attractors.forEach((function(e){var n=e.position.difference(t.currentPosition),i=n.length();i<e.radius&&i>10&&(n.multiply(e.force),n.divide(i*i),t.accelerate(n))}))}function p(){var t=new s.default(0,0),e=0,n=0;a.particles.forEach((function(i){i.getNeighboringParticles().forEach((function(r){if(i!==r&&(t.set(i.currentPosition).subtract(r.currentPosition),e=t.squaredLength(),n=i.radius+r.radius,e<n*n&&0!=e)){var o=Math.sqrt(e);t.divide(o);var s=n-o;t.multiply(.5*s),i.currentPosition.add(t),r.currentPosition.subtract(t)}}))}))}},"./src/Renderer.ts":(t,e,n)=>{n.r(e),n.d(e,{drawArrow:()=>F,drawCursorFunction:()=>R,drawDot:()=>A,drawDottedLine:()=>k,drawLasso:()=>I,drawParticles:()=>_,drawPredictedPath:()=>z,setGeometry:()=>M});var i=n("./src/Vec2D.ts"),r=n("./src/Config.ts"),o=n("./src/shaders/particleFragmentShader.frag"),s=n("./src/shaders/particleVertexShader.vert"),a=n("./src/ShaderHelper.ts"),c=n("./src/CanvasManager.ts"),u=n("./src/PhysicsEngine.ts"),d=n("./src/InputHandler.ts"),l=n("./src/script.ts"),h=n("./src/Particle.ts"),f=document.getElementById("webgl-canvas"),g=f.getContext("webgl");f.width=f.getBoundingClientRect().width,f.height=f.getBoundingClientRect().height;var p=d.InputHandler.getInstance();g||console.error("Unable to initialize WebGL. Your browser may not support it."),g.enable(g.BLEND),g.blendFunc(g.SRC_ALPHA,g.ONE_MINUS_SRC_ALPHA);var v=(0,a.createShader)(g,g.VERTEX_SHADER,s),y=(0,a.createShader)(g,g.FRAGMENT_SHADER,o),m=(0,a.createProgram)(g,v,y),P=g.getAttribLocation(m,"a_position"),x=g.getUniformLocation(m,"u_resolution"),C=g.getUniformLocation(m,"u_color"),S=g.getUniformLocation(m,"u_translation"),w=g.getUniformLocation(m,"u_radius"),b=g.getUniformLocation(m,"u_outline_black"),E=g.createBuffer();function M(){l.particles.forEach((function(t){!function(t,e,n,i,r){var o=0-i/2,s=0+i/2,a=0-r/2,c=0+r/2;t.bufferData(t.ARRAY_BUFFER,new Float32Array([o,a,s,a,o,c,o,c,s,a,s,c]),t.STATIC_DRAW)}(g,0,0,r.getGridSize(),r.getGridSize())}))}function _(){(0,a.resizeCanvasToDisplaySize)(g.canvas),g.viewport(0,0,g.canvas.width,g.canvas.height),g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT),g.useProgram(m),g.enableVertexAttribArray(P),g.bindBuffer(g.ARRAY_BUFFER,E),g.vertexAttribPointer(P,2,g.FLOAT,!1,0,0);var t=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--is-outline-dark")),e=[g.canvas.width,g.canvas.height];l.particles.forEach((function(n){g.uniform2fv(x,e),g.uniform2f(S,n.currentPosition.x,n.currentPosition.y),g.uniform3f(C,n.color.r,n.color.g,n.color.b),g.uniform1f(w,n.radius),g.uniform1f(b,t),g.drawArrays(g.TRIANGLES,0,6)}))}function k(t,e,n,r){if(void 0===n&&(n=5),void 0===r&&(r=8),p.clicked&&t.x!=e.x&&t.y!=e.y){var o=t.difference(e);z(t.clone(),o.clone()),o.divide(r);var s=Math.atan2(e.y-t.y,e.x-t.x),a=new i.default(e.x,e.y);a.x-=Math.cos(s),a.y-=Math.sin(s);for(var c=0;c<=r;c++)A(t.x-o.x*c,t.y-o.y*c,n,255)}}function z(t,e){for(var n=new h.default(t,r.getGridSize()/2,e,{r:0,g:0,b:0},l.grid),i=1;i<=255;i++)n.accelerate(r.getGravityDirection()),(0,u.applyConstraint)(n),(0,u.applyAttractorForces)(n),n.updatePosition(.2),i%6==0&&A(n.currentPosition.x,n.currentPosition.y,5,255-i)}function A(t,e,n,i){c.foregroundCanvasCtx.beginPath(),c.foregroundCanvasCtx.arc(t,e,n,0,2*Math.PI,!1),c.foregroundCanvasCtx.fillStyle="rgba(210, 210, 210, ".concat(i/255,")"),c.foregroundCanvasCtx.fill(),c.foregroundCanvasCtx.closePath()}function I(t){void 0===t&&(t=3),p.clicked&&(c.foregroundCanvasCtx.beginPath(),c.foregroundCanvasCtx.arc(p.pointerPosition.x,p.pointerPosition.y,r.getFieldSize(),0,2*Math.PI),c.foregroundCanvasCtx.lineWidth=t,c.foregroundCanvasCtx.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue("--grid-color"),c.foregroundCanvasCtx.stroke(),c.foregroundCanvasCtx.closePath())}function F(t,e){if(p.clicked&&t.x!=e.x&&t.y!=e.y){var n=Math.atan2(e.y-t.y,e.x-t.x),r=10,o=new i.default(e.x,e.y);o.x-=11.5*Math.cos(n),o.y-=11.5*Math.sin(n),c.foregroundCanvasCtx.beginPath(),c.foregroundCanvasCtx.moveTo(t.x,t.y),c.foregroundCanvasCtx.lineTo(o.x,o.y),c.foregroundCanvasCtx.strokeStyle="#bbbbbb",c.foregroundCanvasCtx.lineWidth=10,c.foregroundCanvasCtx.stroke(),c.foregroundCanvasCtx.beginPath(),c.foregroundCanvasCtx.moveTo(o.x,o.y),c.foregroundCanvasCtx.lineTo(o.x-r*Math.cos(n-Math.PI/7),o.y-r*Math.sin(n-Math.PI/7)),c.foregroundCanvasCtx.lineTo(o.x-r*Math.cos(n+Math.PI/7),o.y-r*Math.sin(n+Math.PI/7)),c.foregroundCanvasCtx.lineTo(o.x,o.y),c.foregroundCanvasCtx.lineTo(o.x-r*Math.cos(n-Math.PI/7),o.y-r*Math.sin(n-Math.PI/7)),c.foregroundCanvasCtx.strokeStyle="#bbbbbb",c.foregroundCanvasCtx.lineWidth=10,c.foregroundCanvasCtx.stroke(),c.foregroundCanvasCtx.fillStyle="#bbbbbb",c.foregroundCanvasCtx.fill(),c.foregroundCanvasCtx.closePath()}}function R(){if(p.clicked)switch(r.getPointerFunction()){case"field":I();break;case"gravity":F(p.clickStartPosition,p.pointerPosition);break;case"throw":k(p.clickStartPosition,p.pointerPosition)}}g.bindBuffer(g.ARRAY_BUFFER,E)},"./src/ShaderHelper.ts":(t,e,n)=>{function i(t,e,n){var i=t.createShader(e);if(t.shaderSource(i,n),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS))return i;console.log(t.getShaderInfoLog(i)),t.deleteShader(i)}function r(t,e,n){var i=t.createProgram();if(t.attachShader(i,e),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS))return i;console.log(t.getProgramInfoLog(i)),t.deleteProgram(i)}function o(t){var e=t.clientWidth,n=t.clientHeight,i=t.width!==e||t.height!==n;return i&&(t.width=e,t.height=n),i}n.r(e),n.d(e,{createProgram:()=>r,createShader:()=>i,resizeCanvasToDisplaySize:()=>o})},"./src/UIManager.ts":(t,e,n)=>{n.r(e),n.d(e,{fps:()=>r,frameTimes:()=>o,getAverageFrameTime:()=>u,updateUI:()=>c});var i=document.createElement("div");i.style.position="absolute",i.style.top="10px",i.style.left="10px",document.body.appendChild(i);var r=60,o=[],s=100,a=performance.now();function c(){var t=function(){var t=performance.now(),e=t-a;o.push(e),o.length>s&&o.shift();var n=o.reduce((function(t,e){return t+e}),0)/o.length;return a=t,1e3/n}();i.innerText="FPS: ".concat(Math.round(t))}function u(){return o.reduce((function(t,e){return t+e}),0)/o.length}},"./src/Utils.ts":(t,e,n)=>{function i(){return{r:Math.random(),g:Math.random(),b:Math.random()}}n.r(e),n.d(e,{getRandomColor:()=>i})},"./src/Vec2D.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});const i=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.set=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.multiply=function(t){return this.x*=t,this.y*=t,this},t.prototype.divide=function(t){return this.x/=t,this.y/=t,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.squaredLength=function(){return this.x*this.x+this.y*this.y},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.difference=function(e){return new t(this.x-e.x,this.y-e.y)},t}()},"./src/script.ts":(t,e,n)=>{n.r(e),n.d(e,{attractors:()=>f,grid:()=>p,particles:()=>h});var i=n("./src/Renderer.ts"),r=n("./src/Particle.ts"),o=n("./src/Vec2D.ts"),s=n("./src/UIManager.ts"),a=n("./src/CanvasManager.ts"),c=n("./src/PhysicsEngine.ts"),u=n("./src/Config.ts"),d=n("./src/Grid.ts"),l=n("./src/Utils.ts"),h=[],f=[],g=0,p=new d.Grid(a.backgroundCanvas);p.draw(),requestAnimationFrame((function t(){var e=(0,s.getAverageFrameTime)();(0,c.tick)(e/25),(0,a.clearCanvas)(),(0,i.drawParticles)(),(0,i.drawCursorFunction)(),(0,s.updateUI)();var n=10/e;g%3==0&&h.length<u.getParticleNumber()&&g>120&&(h.push(new r.default(new o.default(200,200),p.pixelSize/2,new o.default(200*n,-80*n),(0,l.getRandomColor)(),p)),h.push(new r.default(new o.default(200,260),p.pixelSize/2,new o.default(180*n,-80*n),(0,l.getRandomColor)(),p)),h.push(new r.default(new o.default(200,320),p.pixelSize/2,new o.default(170*n,-80*n),(0,l.getRandomColor)(),p)),h.push(new r.default(new o.default(200,380),p.pixelSize/2,new o.default(180*n,-80*n),(0,l.getRandomColor)(),p)),h.push(new r.default(new o.default(200,440),p.pixelSize/2,new o.default(170*n,-80*n),(0,l.getRandomColor)(),p)),(0,i.setGeometry)()),g++,requestAnimationFrame(t)}))},"./src/shaders/particleFragmentShader.frag":t=>{t.exports="precision mediump float;\r\n\r\nuniform vec2 u_resolution;\r\n\r\nuniform vec3 u_color;\r\nuniform float u_radius;\r\nuniform vec2 u_translation;\r\nuniform float u_outline_black;\r\nfloat mask(in vec2 _st, in float _radius){\r\n    vec2 dist = _st;\r\n    return 1.-smoothstep(_radius-(_radius*0.15),\r\n                         _radius+(_radius*0.15),\r\n                         dot(dist,dist)*3.9);\r\n}\r\n\r\n\r\nvec3 circle(in vec2 _st, in float radius, in vec3 color) {\r\n\tvec2 dist = _st;\r\n\treturn smoothstep(\r\n\t\tradius + (radius * 0.15),\r\n\t\tradius -(radius * 0.15),\r\n\t\tdot(dist, dist) * 3.9) * color + u_outline_black * (smoothstep(\r\n\t\tradius - (radius * 0.15),\r\n\t\tradius +(radius * 0.15),\r\n\t\tdot(dist, dist) * 5.3));\r\n}\r\nvoid main(){\r\n \tvec2 st =  (gl_FragCoord.xy - u_translation*vec2(1., -1.) - u_resolution*vec2(0.,1.)) / u_radius; \r\n\r\n\tvec3 color = circle(st,4.0, u_color);\r\n\r\n\tgl_FragColor = vec4(color, mask(st, 4.0));\r\n}"},"./src/shaders/particleVertexShader.vert":t=>{t.exports="precision mediump float;\r\n\r\nattribute vec2 a_position;\r\n\r\n// attribute vec3 color;\r\n// varying vec3 v_color;\r\nuniform vec2 u_resolution;\r\nuniform vec2 u_translation;\r\n\r\nvoid main() {\r\n    //move the position of the shader\r\n    vec2 position = a_position + u_translation ;\r\n\r\n    // convert the position from pixels to 0.0 to 1.0\r\n    vec2 zeroToOne = position / u_resolution;\r\n\r\n    // convert from 0->1 to 0->2\r\n    vec2 zeroToTwo = zeroToOne * 2.0;\r\n\r\n    // convert from 0->2 to -1->+1 (clipspace)\r\n    vec2 clipSpace = zeroToTwo - 1.0;\r\n\r\n    gl_Position = vec4(clipSpace * vec2(1., -1.), 0, 1);\r\n\r\n    // // Pass the vertex color to the fragment shader.\r\n    // v_position = a_position;\r\n}"}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n("./src/script.ts"),n("./src/MenuManager.ts")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUN4SCxJQUFBNkwsZ0JBRUY4RyxJQUNBRSxzQkFBc0JDLEVBQ3hCLG8wREN2Q0lHLEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQkUsSUFBakJELEVBQ0gsT0FBT0EsRUFBYUUsUUFHckIsSUFBSUMsRUFBU04sRUFBeUJFLEdBQVksQ0FHakRHLFFBQVMsQ0FBQyxHQU9YLE9BSEFFLEVBQW9CTCxHQUFVSSxFQUFRQSxFQUFPRCxRQUFTSixHQUcvQ0ssRUFBT0QsT0FDZixDQ3JCQUosRUFBb0JPLEVBQUksQ0FBQ0gsRUFBU0ksS0FDakMsSUFBSSxJQUFJQyxLQUFPRCxFQUNYUixFQUFvQlUsRUFBRUYsRUFBWUMsS0FBU1QsRUFBb0JVLEVBQUVOLEVBQVNLLElBQzVFRSxPQUFPQyxlQUFlUixFQUFTSyxFQUFLLENBQUVJLFlBQVksRUFBTUMsSUFBS04sRUFBV0MsSUFFMUUsRUNORFQsRUFBb0JVLEVBQUksQ0FBQ0ssRUFBS0MsSUFBVUwsT0FBT00sVUFBVUMsZUFBZUMsS0FBS0osRUFBS0MsR0NDbEZoQixFQUFvQjFGLEVBQUs4RixJQUNILG9CQUFYZ0IsUUFBMEJBLE9BQU9DLGFBQzFDVixPQUFPQyxlQUFlUixFQUFTZ0IsT0FBT0MsWUFBYSxDQUFFcE4sTUFBTyxXQUU3RDBNLE9BQU9DLGVBQWVSLEVBQVMsYUFBYyxDQUFFbk0sT0FBTyxHQUFPLEVDRjlEK0wsRUFBb0IsbUJBQ01BLEVBQW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi8uL3NyYy9DYW52YXNNYW5hZ2VyLnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvQ29uZmlnLnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvR3JpZC50cyIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyLy4vc3JjL0lucHV0SGFuZGxlci50cyIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyLy4vc3JjL01lbnVNYW5hZ2VyLnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvUGFydGljbGUudHMiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi8uL3NyYy9QaHlzaWNzRW5naW5lLnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvUmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi8uL3NyYy9TaGFkZXJIZWxwZXIudHMiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi8uL3NyYy9VSU1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi8uL3NyYy9VdGlscy50cyIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyLy4vc3JjL1ZlYzJELnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvLi9zcmMvc2NyaXB0LnRzIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vcGFydGljbGVzaW12Mi93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3BhcnRpY2xlc2ltdjIvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9wYXJ0aWNsZXNpbXYyL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBncmlkIH0gZnJvbSBcIi4vc2NyaXB0XCI7XHJcblxyXG5leHBvcnQgY29uc3QgZm9yZWdyb3VuZENhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JlZ3JvdW5kLWNhbnZhcycpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG5leHBvcnQgY29uc3QgYmFja2dyb3VuZENhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWNrZ3JvdW5kLWNhbnZhcycpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG5jb25zdCB3ZWJnbENhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3ZWJnbC1jYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuXHJcbmZvcmVncm91bmRDYW52YXMhLndpZHRoID0gZm9yZWdyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuZm9yZWdyb3VuZENhbnZhcyEuaGVpZ2h0ID0gZm9yZWdyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbmJhY2tncm91bmRDYW52YXMhLndpZHRoID0gYmFja2dyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuYmFja2dyb3VuZENhbnZhcyEuaGVpZ2h0ID0gYmFja2dyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbndlYmdsQ2FudmFzLndpZHRoID0gd2ViZ2xDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbndlYmdsQ2FudmFzLmhlaWdodCA9IHdlYmdsQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuZXhwb3J0IGNvbnN0IGZvcmVncm91bmRDYW52YXNDdHggPSBmb3JlZ3JvdW5kQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbmV4cG9ydCBjb25zdCBiYWNrZ3JvdW5kQ2FudmFzQ3R4ID0gYmFja2dyb3VuZENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHVwZGF0ZUNhbnZhc1NpemUpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQ2FudmFzKCkge1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5jbGVhclJlY3QoMCwgMCwgZm9yZWdyb3VuZENhbnZhcy53aWR0aCwgZm9yZWdyb3VuZENhbnZhcy5oZWlnaHQpO1xyXG4gIH1cclxuICBcclxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUNhbnZhc1NpemUoKSB7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzLndpZHRoID0gZm9yZWdyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgIGZvcmVncm91bmRDYW52YXMuaGVpZ2h0ID0gZm9yZWdyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICBiYWNrZ3JvdW5kQ2FudmFzLndpZHRoID0gYmFja2dyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgIGJhY2tncm91bmRDYW52YXMuaGVpZ2h0ID0gYmFja2dyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICB3ZWJnbENhbnZhcy53aWR0aCA9IHdlYmdsQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gICAgd2ViZ2xDYW52YXMuaGVpZ2h0ID0gd2ViZ2xDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgZ3JpZC51cGRhdGVTaXplKCk7XHJcbiAgICBncmlkLmRyYXcoKTtcclxuICB9XHJcbiAgIiwiaW1wb3J0IHsgUG9pbnRlckZ1bmN0aW9uVHlwZSB9IGZyb20gXCIuL0lucHV0SGFuZGxlclwiO1xyXG5pbXBvcnQgVmVjMkQgZnJvbSBcIi4vVmVjMkRcIjtcclxuXHJcbnZhciBmaWVsZFN0cmVuZ3RoID0gMTA7XHJcbnZhciBwaHlzaWNzU3Vic3RlcHNBbW91bnQgPSA0O1xyXG52YXIgZ3Jhdml0eURpcmVjdGlvbiA9IG5ldyBWZWMyRCgwLCAxKTtcclxudmFyIGZpZWxkU2l6ZSA9IDEwMDtcclxudmFyIHBhcnRpY2xlTnVtYmVyID0gMjAwO1xyXG52YXIgcG9pbnRlckZ1bmN0aW9uOiBQb2ludGVyRnVuY3Rpb25UeXBlID0gJ2ZpZWxkJztcclxudmFyIGdyaWRTaXplID0gMjY7XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRHcmF2aXR5RGlyZWN0aW9uKCkge1xyXG4gICAgcmV0dXJuIGdyYXZpdHlEaXJlY3Rpb247XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQaHlzaWNzU3Vic3RlcHNBbW91bnQoKSB7XHJcbiAgICByZXR1cm4gcGh5c2ljc1N1YnN0ZXBzQW1vdW50O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmllbGRTdHJlbmd0aCgpIHtcclxuICAgIHJldHVybiBmaWVsZFN0cmVuZ3RoO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmllbGRTaXplKCkge1xyXG4gICAgcmV0dXJuIGZpZWxkU2l6ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcnRpY2xlTnVtYmVyKCkge1xyXG4gICAgcmV0dXJuIHBhcnRpY2xlTnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9pbnRlckZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHBvaW50ZXJGdW5jdGlvbjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEdyaWRTaXplKCkge1xyXG4gICAgcmV0dXJuIGdyaWRTaXplOyAgICBcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRHcmF2aXR5RGlyZWN0aW9uKG5ld0dyYXZpdHlEaXJlY3Rpb246IFZlYzJEKSB7XHJcbiAgICBncmF2aXR5RGlyZWN0aW9uID0gbmV3R3Jhdml0eURpcmVjdGlvbjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldFBoeXNpY3NTdWJzdGVwc0Ftb3VudChuZXdBbW91bnQ6IG51bWJlcikge1xyXG4gICAgcGh5c2ljc1N1YnN0ZXBzQW1vdW50ID0gbmV3QW1vdW50O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0RmllbGRTdHJlbmd0aChuZXdmaWVsZFN0cmVuZ3RoOiBudW1iZXIpIHtcclxuICAgIGZpZWxkU3RyZW5ndGggPSBuZXdmaWVsZFN0cmVuZ3RoO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0RmllbGRTaXplKG5ld2ZpZWxkU2l6ZTogbnVtYmVyKSB7XHJcbiAgICBmaWVsZFNpemUgPSBuZXdmaWVsZFNpemU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRQYXJ0aWNsZU51bWJlcihuZXdQYXJ0aWNsZU51bWJlcjogbnVtYmVyKSB7XHJcbiAgICBwYXJ0aWNsZU51bWJlciA9IG5ld1BhcnRpY2xlTnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0UG9pbnRlckZ1bmN0aW9uKG5ld1BvaW50ZXJGdW5jdGlvbjogUG9pbnRlckZ1bmN0aW9uVHlwZSkge1xyXG4gICAgcG9pbnRlckZ1bmN0aW9uID0gbmV3UG9pbnRlckZ1bmN0aW9uO1xyXG59IiwiaW1wb3J0IHsgYmFja2dyb3VuZENhbnZhc0N0eCB9IGZyb20gXCIuL0NhbnZhc01hbmFnZXJcIjtcclxuaW1wb3J0IFBhcnRpY2xlIGZyb20gXCIuL1BhcnRpY2xlXCI7XHJcbmltcG9ydCB7IGdyaWQgfSBmcm9tIFwiLi9zY3JpcHRcIjtcclxuaW1wb3J0ICogYXMgQ29uZmlnIGZyb20gJy4vQ29uZmlnJztcclxuZXhwb3J0IGNsYXNzIEdyaWQge1xyXG4gICAgcHVibGljIGNlbGxzOiBQYXJ0aWNsZVtdW11bXTtcclxuICAgIHB1YmxpYyBjb2x1bW5zOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcm93czogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHBpeGVsU2l6ZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBjYW52YXNDdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgIGNvbnN0cnVjdG9yKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsIGdyaWRQaXhlbFNpemU6IG51bWJlciA9IENvbmZpZy5nZXRHcmlkU2l6ZSgpKSB7XHJcbiAgICAgICAgdGhpcy5waXhlbFNpemUgPSBncmlkUGl4ZWxTaXplO1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIHRoaXMuY29sdW1ucyA9IE1hdGguY2VpbCh0aGlzLmNhbnZhcy53aWR0aCAvIHRoaXMucGl4ZWxTaXplKTtcclxuICAgICAgICB0aGlzLnJvd3MgPSBNYXRoLmNlaWwodGhpcy5jYW52YXMuaGVpZ2h0IC8gdGhpcy5waXhlbFNpemUpO1xyXG4gICAgICAgIHRoaXMuY2VsbHMgPSB0aGlzLmluaXRpYWxpemUoKTtcclxuICAgICAgICB0aGlzLmNhbnZhc0N0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGluaXRpYWxpemUoKTogUGFydGljbGVbXVtdW10ge1xyXG4gICAgICAgIGNvbnN0IGNlbGxzOiBQYXJ0aWNsZVtdW11bXSA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb2x1bW5zOyBpKyspIHtcclxuICAgICAgICAgICAgY2VsbHNbaV0gPSBbXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLnJvd3M7IGorKykge1xyXG4gICAgICAgICAgICAgICAgY2VsbHNbaV1bal0gPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2VsbHM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUFsbCgpOiB2b2lkIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29sdW1uczsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5yb3dzOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuY2VsbHNbaV09PSBudWxsKXtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuY2VsbHNbaV1bal0gPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHV0KHBhcnRpY2xlOiBQYXJ0aWNsZSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGNvbHVtbiA9IE1hdGguZmxvb3IocGFydGljbGUuY3VycmVudFBvc2l0aW9uLnggLyB0aGlzLnBpeGVsU2l6ZSk7XHJcbiAgICAgICAgY29uc3Qgcm93ID0gTWF0aC5mbG9vcihwYXJ0aWNsZS5jdXJyZW50UG9zaXRpb24ueSAvIHRoaXMucGl4ZWxTaXplKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoY29sdW1uID49IDAgJiYgY29sdW1uIDwgdGhpcy5jZWxscy5sZW5ndGggJiYgcm93ID49IDAgJiYgcm93IDwgdGhpcy5jZWxsc1tjb2x1bW5dLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLmNlbGxzW2NvbHVtbl1bcm93XS5wdXNoKHBhcnRpY2xlKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYCR7Y29sdW1ufSAgICR7cm93fWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlU2l6ZSgpOnZvaWQge1xyXG4gICAgICAgIHRoaXMuY29sdW1ucyA9IE1hdGguY2VpbCh0aGlzLmNhbnZhcy53aWR0aCAvIHRoaXMucGl4ZWxTaXplKTtcclxuICAgICAgICB0aGlzLnJvd3MgPSBNYXRoLmNlaWwodGhpcy5jYW52YXMuaGVpZ2h0IC8gdGhpcy5waXhlbFNpemUpO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3KCl7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguc3Ryb2tlU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZSgnLS1ncmlkLWNvbG9yJyk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LmxpbmVXaWR0aCA9IDE7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHggPSB0aGlzLnBpeGVsU2l6ZTsgeCA8IHRoaXMuY2FudmFzLndpZHRoOyB4ICs9IHRoaXMucGl4ZWxTaXplKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgdGhpcy5jYW52YXNDdHgubW92ZVRvKHgsIDApO1xyXG4gICAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LmxpbmVUbyh4LCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAobGV0IHkgPSB0aGlzLnBpeGVsU2l6ZTsgeSA8IHRoaXMuY2FudmFzLmhlaWdodDsgeSArPSB0aGlzLnBpeGVsU2l6ZSkge1xyXG4gICAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4Lm1vdmVUbygwLCB5KTtcclxuICAgICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5saW5lVG8odGhpcy5jYW52YXMud2lkdGgsIHkpO1xyXG4gICAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIERFQlVHXHJcbiAgICAgICAgICAgIC8vICAgZm9yIChsZXQgeCA9IDA7IHggPCBncmlkLmNvbHVtbnM7IHggKz0gMSkge1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vICAgZm9yIChsZXQgeSA9IDA7IHkgPCBncmlkLnJvd3M7IHkgKz0gMSkge1xyXG4gICAgICAgICAgICAvLyAgICAgYmFja2dyb3VuZENhbnZhc0N0eC5mb250ID0gXCIxMnB4IHNlcmlmXCI7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gICAgIGJhY2tncm91bmRDYW52YXNDdHguZmlsbFRleHQoYCR7Z3JpZC5jZWxsc1t4XVt5XS5sZW5ndGh9YCwgKHgrMSkqdGhpcy5waXhlbFNpemUgLSB0aGlzLnBpeGVsU2l6ZS8yIC0gMiwgKHkrMSkqdGhpcy5waXhlbFNpemUgLXRoaXMucGl4ZWxTaXplLzIgKyA0KTtcclxuICAgICAgICAgICAgICAgIC8vIGJhY2tfY3R4LmZpbGxUZXh0KGAke3h9ICR7eX1gLCAoeCsxKSp0aGlzLnBpeGVsU2l6ZSAtIHRoaXMucGl4ZWxTaXplLzIgLSAyLCAoeSsxKSp0aGlzLnBpeGVsU2l6ZSAtdGhpcy5waXhlbFNpemUvMiArIDQpO1xyXG4gICAgICAgICAgICAvLyAgIH1cclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgfVxyXG4gICAgfSIsImltcG9ydCBWZWMyRCBmcm9tIFwiLi9WZWMyRFwiO1xyXG5pbXBvcnQgKiBhcyBDb25maWcgZnJvbSAnLi9Db25maWcnO1xyXG5pbXBvcnQgeyBjbG9zZU1lbnUsIHVwZGF0ZVBvaW50ZXJGdW5jdGlvbiB9IGZyb20gXCIuL01lbnVNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IGZwcyB9IGZyb20gXCIuL1VJTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBncmlkLCBwYXJ0aWNsZXMgfSBmcm9tIFwiLi9zY3JpcHRcIjtcclxuaW1wb3J0IHsgZ2V0UmFuZG9tQ29sb3IgfSBmcm9tIFwiLi9VdGlsc1wiO1xyXG5pbXBvcnQgUGFydGljbGUgZnJvbSBcIi4vUGFydGljbGVcIjtcclxuZXhwb3J0IHR5cGUgUG9pbnRlckZ1bmN0aW9uVHlwZSA9ICdmaWVsZCcgfCAnZ3Jhdml0eScgfCAndGhyb3cnO1xyXG5cclxuZXhwb3J0IGNsYXNzIElucHV0SGFuZGxlciB7XHJcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IElucHV0SGFuZGxlcjtcclxuICBwdWJsaWMgY2xpY2tlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIHByaXZhdGUgcG9pbnRlckZ1bmN0aW9uOiBQb2ludGVyRnVuY3Rpb25UeXBlO1xyXG4gIHB1YmxpYyBwb2ludGVyUG9zaXRpb24gPSBuZXcgVmVjMkQoMCwgMClcclxuICBwdWJsaWMgY2xpY2tTdGFydFBvc2l0aW9uID0gbmV3IFZlYzJEKDAsIDApXHJcblxyXG5cclxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5wb2ludGVyRnVuY3Rpb24gPSAnZmllbGQnO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBJbnB1dEhhbmRsZXIge1xyXG4gICAgaWYgKCFJbnB1dEhhbmRsZXIuaW5zdGFuY2UpIHtcclxuICAgICAgSW5wdXRIYW5kbGVyLmluc3RhbmNlID0gbmV3IElucHV0SGFuZGxlcigpO1xyXG4gICAgICBJbnB1dEhhbmRsZXIuaW5zdGFuY2UuaW5pdGlhbGl6ZUV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gSW5wdXRIYW5kbGVyLmluc3RhbmNlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpbml0aWFsaXplRXZlbnRMaXN0ZW5lcnMoKTogdm9pZCB7XHJcbiAgICBjb25zdCBtYWluX2JvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbl9jb250YWluZXInKTtcclxuICAgIGlmICghbWFpbl9ib2R5KSByZXR1cm47XHJcblxyXG4gICAgbWFpbl9ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5oYW5kbGVNb3VzZURvd24uYmluZCh0aGlzKSk7XHJcbiAgICBtYWluX2JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5oYW5kbGVNb3VzZVVwLmJpbmQodGhpcykpO1xyXG4gICAgbWFpbl9ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5oYW5kbGVNb3ZlRXZlbnQuYmluZCh0aGlzKSk7XHJcbiAgICBtYWluX2JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy5oYW5kbGVNb3VzZURvd24uYmluZCh0aGlzKSk7XHJcbiAgICBtYWluX2JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIHRoaXMuaGFuZGxlTW91c2VVcC5iaW5kKHRoaXMpKTtcclxuICAgIG1haW5fYm9keS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIHRoaXMuaGFuZGxlTW92ZUV2ZW50LmJpbmQodGhpcykpO1xyXG4gICAgbWFpbl9ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIGNsb3NlTWVudSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZU1vdXNlRG93bihldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpOiB2b2lkIHtcclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgdGhpcy5jbGlja2VkID0gdHJ1ZTtcclxuICAgIFxyXG5cclxuICAgIGlmIChldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQpIHtcclxuICAgICAgdGhpcy5wb2ludGVyUG9zaXRpb24ueCA9IGV2ZW50LmNsaWVudFg7XHJcbiAgICAgIHRoaXMucG9pbnRlclBvc2l0aW9uLnkgPSBldmVudC5jbGllbnRZO1xyXG4gICAgfSBlbHNlIGlmIChldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpIHtcclxuICAgICAgdGhpcy5wb2ludGVyUG9zaXRpb24ueCA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WDtcclxuICAgICAgdGhpcy5wb2ludGVyUG9zaXRpb24ueSA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNsaWNrU3RhcnRQb3NpdGlvbi54ID0gdGhpcy5wb2ludGVyUG9zaXRpb24ueDtcclxuICAgIHRoaXMuY2xpY2tTdGFydFBvc2l0aW9uLnkgPSB0aGlzLnBvaW50ZXJQb3NpdGlvbi55O1xyXG4gICAgXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZU1vdXNlVXAoZXZlbnQ6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50KTogdm9pZCB7XHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIHRoaXMuY2xpY2tlZCA9IGZhbHNlO1xyXG4gICAgaWYoQ29uZmlnLmdldFBvaW50ZXJGdW5jdGlvbigpID09ICd0aHJvdycpe1xyXG4gICAgICBsZXQgbGF1bmNoX2RpciA9IHRoaXMuY2xpY2tTdGFydFBvc2l0aW9uLmRpZmZlcmVuY2UodGhpcy5wb2ludGVyUG9zaXRpb24pXHJcbiAgICBsYXVuY2hfZGlyLm11bHRpcGx5KGZwcyAvIDYwKVxyXG4gICAgcGFydGljbGVzLnB1c2gobmV3IFBhcnRpY2xlKHRoaXMuY2xpY2tTdGFydFBvc2l0aW9uLmNsb25lKCksIENvbmZpZy5nZXRHcmlkU2l6ZSgpLzIsIGxhdW5jaF9kaXIsIGdldFJhbmRvbUNvbG9yKCksIGdyaWQpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlTW92ZUV2ZW50KGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCk6IHZvaWQge1xyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBpZiAodGhpcy5jbGlja2VkKSB7XHJcbiAgICAgIGlmIChldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQpIHtcclxuICAgICAgICB0aGlzLnBvaW50ZXJQb3NpdGlvbi54ID0gZXZlbnQuY2xpZW50WDtcclxuICAgICAgICB0aGlzLnBvaW50ZXJQb3NpdGlvbi55ID0gZXZlbnQuY2xpZW50WTtcclxuICAgICAgfSBlbHNlIGlmIChldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpIHtcclxuICAgICAgICB0aGlzLnBvaW50ZXJQb3NpdGlvbi54ID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYO1xyXG4gICAgICAgIHRoaXMucG9pbnRlclBvc2l0aW9uLnkgPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn0iLCJpbXBvcnQgKiBhcyBDb25maWcgZnJvbSAnLi9Db25maWcnO1xyXG5pbXBvcnQgeyBQb2ludGVyRnVuY3Rpb25UeXBlIH0gZnJvbSAnLi9JbnB1dEhhbmRsZXInO1xyXG5pbXBvcnQgVmVjMkQgZnJvbSBcIi4vVmVjMkRcIjtcclxuaW1wb3J0IHsgZ3JpZCwgcGFydGljbGVzIH0gZnJvbSAnLi9zY3JpcHQnO1xyXG5cclxuY29uc3QgbWVudUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVudS1idXR0b25cIik7XHJcbmNvbnN0IG1lbnVFbGVtZW50czogTm9kZUxpc3RPZjxIVE1MRWxlbWVudD4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1lbnUtZWxlbWVudFwiKTtcclxuXHJcbm1lbnVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICBvcGVuTWVudSgpO1xyXG59KTtcclxuXHJcbmNvbnN0IHN3aXRjaFRoZW1lID0gKCkgPT4ge1xyXG4gIGNvbnN0IHJvb3RFbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XHJcbiAgbGV0IHRoZW1lID0gcm9vdEVsZW0uZ2V0QXR0cmlidXRlKCd0aGVtZScpLCBuZXdUaGVtZTtcclxuICBuZXdUaGVtZSA9ICh0aGVtZSA9PT0gJ2xpZ2h0JykgPyAnZGFyaycgOiAnbGlnaHQnO1xyXG5cclxuICByb290RWxlbS5zZXRBdHRyaWJ1dGUoJ3RoZW1lJywgbmV3VGhlbWUpO1xyXG4gIGdyaWQuZHJhdygpO1xyXG59XHJcblxyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RoZW1lLXN3aXRjaCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3dpdGNoVGhlbWUpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5NZW51KCkge1xyXG4gIGlmIChtZW51QnV0dG9uLmdldEF0dHJpYnV0ZShcIm9wZW5cIikgPT0gXCJmYWxzZVwiKSB7XHJcbiAgICBtZW51QnV0dG9uLnNldEF0dHJpYnV0ZShcIm9wZW5cIiwgXCJ0cnVlXCIpO1xyXG4gICAgbWVudUJ1dHRvbi5zdHlsZS5jdXJzb3IgPSBcImF1dG9cIjtcclxuXHJcbiAgICBtZW51RWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICB9LCAzMDApO1xyXG4gICAgfSk7XHJcblxyXG4gIH1cclxuICBlbHNlIHtcclxuXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VNZW51KCkge1xyXG4gIG1lbnVCdXR0b24uc2V0QXR0cmlidXRlKFwib3BlblwiLCBcImZhbHNlXCIpO1xyXG4gIG1lbnVCdXR0b24uc3R5bGUuY3Vyc29yID0gXCJwb2ludGVyXCI7XHJcbiAgbWVudUVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICB9KTtcclxuXHJcbn1cclxuXHJcbnZhciBmaWVsZFNpemVTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpZWxkLXNpemUtc2xpZGVyXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbnZhciBmaWVsZFN0cmVuZ3RoU2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaWVsZC1zdHJlbmd0aC1zbGlkZXJcIikgYXMgSFRNTElucHV0RWxlbWVudDtcclxudmFyIGdyYXZpdHlTdHJlbmd0aFNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ3Jhdml0eS1zdHJlbmd0aC1zbGlkZXJcIikgYXMgSFRNTElucHV0RWxlbWVudDtcclxudmFyIHN1YnN0ZXBzQW1vdW50RW50cnlCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1YnN0ZXBzLWFtb3VudC1lbnRyeVwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG52YXIgcGFydGljbGVzQW1vdW50RW50cnlCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhcnRpY2xlcy1hbW91bnQtZW50cnlcIikgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHJcbmNvbnN0IHJhZGlvQnV0dG9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCdjdXJzb3ItZnVuY3Rpb24nKSBhcyBOb2RlTGlzdE9mPEhUTUxJbnB1dEVsZW1lbnQ+O1xyXG5cclxuICByYWRpb0J1dHRvbnMuZm9yRWFjaChyYWRpb0J1dHRvbiA9PiB7XHJcbiAgICByYWRpb0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XHJcbiAgICAgIGlmIChyYWRpb0J1dHRvbi5jaGVja2VkKSB7XHJcbiAgICAgICAgQ29uZmlnLnNldFBvaW50ZXJGdW5jdGlvbihyYWRpb0J1dHRvbi52YWx1ZSBhcyBQb2ludGVyRnVuY3Rpb25UeXBlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG5maWVsZFNpemVTbGlkZXIub25pbnB1dCA9IGZ1bmN0aW9uICgpIHtcclxuICBDb25maWcuc2V0RmllbGRTaXplKHBhcnNlSW50KGZpZWxkU2l6ZVNsaWRlci52YWx1ZSkpO1xyXG59XHJcblxyXG5maWVsZFN0cmVuZ3RoU2xpZGVyLm9uaW5wdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgQ29uZmlnLnNldEZpZWxkU3RyZW5ndGgocGFyc2VJbnQoZmllbGRTdHJlbmd0aFNsaWRlci52YWx1ZSkpO1xyXG59XHJcblxyXG5ncmF2aXR5U3RyZW5ndGhTbGlkZXIub25pbnB1dCA9IGZ1bmN0aW9uICgpIHtcclxuICBzZXRHcmF2aXR5U3RyZW5ndGgocGFyc2VJbnQoZ3Jhdml0eVN0cmVuZ3RoU2xpZGVyLnZhbHVlKSk7XHJcbn1cclxuXHJcbnN1YnN0ZXBzQW1vdW50RW50cnlCb3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gIENvbmZpZy5zZXRQaHlzaWNzU3Vic3RlcHNBbW91bnQocGFyc2VJbnQoc3Vic3RlcHNBbW91bnRFbnRyeUJveC52YWx1ZSkpO1xyXG59KTtcclxuXHJcbnBhcnRpY2xlc0Ftb3VudEVudHJ5Qm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICBDb25maWcuc2V0UGFydGljbGVOdW1iZXIocGFyc2VJbnQocGFydGljbGVzQW1vdW50RW50cnlCb3gudmFsdWUpKTtcclxuICBsZXQgZGlmZiA9IHBhcnRpY2xlcy5sZW5ndGggLSBDb25maWcuZ2V0UGFydGljbGVOdW1iZXIoKTtcclxuICB3aGlsZSggZGlmZiA+IDApe1xyXG4gICBwYXJ0aWNsZXMucG9wKCk7XHJcbiAgIGRpZmYtLTtcclxuICB9XHJcbn0pO1xyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVQb2ludGVyRnVuY3Rpb24oKSB7XHJcbiAgdmFyIHJhZGlvQnV0dG9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCdjdXJzb3ItZnVuY3Rpb24nKSBhcyBOb2RlTGlzdE9mPEhUTUxJbnB1dEVsZW1lbnQ+XHJcblxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmFkaW9CdXR0b25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBpZiAocmFkaW9CdXR0b25zW2ldLmNoZWNrZWQpIHtcclxuICAgICAgcmV0dXJuIHJhZGlvQnV0dG9uc1tpXS52YWx1ZTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRHcmF2aXR5U3RyZW5ndGgodmFsdWU6IG51bWJlcikge1xyXG4gIENvbmZpZy5zZXRHcmF2aXR5RGlyZWN0aW9uKG5ldyBWZWMyRCgwLCB2YWx1ZSAqIDAuMSkpO1xyXG59XHJcbiIsImltcG9ydCB7IEdyaWQgfSBmcm9tIFwiLi9HcmlkXCI7XHJcbmltcG9ydCBWZWMyRCBmcm9tIFwiLi9WZWMyRFwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXJ0aWNsZSB7XHJcbiAgc3RhdGljIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JlZ3JvdW5kLWNhbnZhcycpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG5cclxuICBwdWJsaWMgY3VycmVudFBvc2l0aW9uOiBWZWMyRDtcclxuICBwdWJsaWMgcHJldmlvdXNQb3NpdGlvbjogVmVjMkQ7XHJcbiAgcHVibGljIGFjY2VsZXJhdGlvbjogVmVjMkQ7XHJcbiAgcHVibGljIHJhZGl1czogbnVtYmVyO1xyXG4gIHB1YmxpYyBjb2xvcjogeyByOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyIH07XHJcbiAgcHJpdmF0ZSBncmlkOiBHcmlkO1xyXG4gIHByaXZhdGUgY2VsbDogVmVjMkQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBvczogVmVjMkQsIHJhZGl1czogbnVtYmVyLCBhY2M6IFZlYzJELCBjb2xvcjogeyByOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyIH0sIGdyaWQ6IEdyaWQpIHtcclxuICAgIHRoaXMuY3VycmVudFBvc2l0aW9uID0gcG9zO1xyXG4gICAgdGhpcy5wcmV2aW91c1Bvc2l0aW9uID0gdGhpcy5jdXJyZW50UG9zaXRpb247XHJcbiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcclxuICAgIHRoaXMuYWNjZWxlcmF0aW9uID0gYWNjO1xyXG4gICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgdGhpcy5ncmlkID0gZ3JpZDtcclxuICAgIHRoaXMuY2VsbCA9IG5ldyBWZWMyRChNYXRoLmZsb29yKHRoaXMuY3VycmVudFBvc2l0aW9uLnggLyBncmlkLnBpeGVsU2l6ZSksIE1hdGguZmxvb3IodGhpcy5jdXJyZW50UG9zaXRpb24ueSAvIGdyaWQucGl4ZWxTaXplKSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVQb3NpdGlvbihkdDogbnVtYmVyKSB7XHJcbiAgICBsZXQgdmVsb2NpdHk6IFZlYzJEID0gbmV3IFZlYzJEKHRoaXMuY3VycmVudFBvc2l0aW9uLnggLSB0aGlzLnByZXZpb3VzUG9zaXRpb24ueCwgdGhpcy5jdXJyZW50UG9zaXRpb24ueSAtIHRoaXMucHJldmlvdXNQb3NpdGlvbi55KTtcclxuICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbiA9IHRoaXMuY3VycmVudFBvc2l0aW9uLmNsb25lKCk7XHJcblxyXG4gICAgdGhpcy5jdXJyZW50UG9zaXRpb24uYWRkKHZlbG9jaXR5KTtcclxuICAgIHRoaXMuYWNjZWxlcmF0aW9uLm11bHRpcGx5KGR0ICogZHQpO1xyXG4gICAgdGhpcy5jdXJyZW50UG9zaXRpb24uYWRkKHRoaXMuYWNjZWxlcmF0aW9uKTtcclxuXHJcbiAgICB0aGlzLmFjY2VsZXJhdGlvbi54ID0gMDtcclxuICAgIHRoaXMuYWNjZWxlcmF0aW9uLnkgPSAwO1xyXG4gICAgdGhpcy51cGRhdGVDZWxsKCk7XHJcbiAgfVxyXG5cclxuICBhY2NlbGVyYXRlKGFjYzogVmVjMkQpIHtcclxuICAgIHRoaXMuYWNjZWxlcmF0aW9uLmFkZChhY2MpO1xyXG4gIH1cclxuXHJcblxyXG4gIGdldE5laWdoYm9yaW5nUGFydGljbGVzKCk6IFBhcnRpY2xlW10ge1xyXG4gICAgY29uc3QgbmVpZ2hib3JpbmdQYXJ0aWNsZXM6IFBhcnRpY2xlW10gPSBbXTtcclxuICBcclxuICAgIGZvciAobGV0IGkgPSB0aGlzLmNlbGwueCAtIDE7IGkgPD0gdGhpcy5jZWxsLnggKyAxOyBpKyspIHtcclxuICAgICAgZm9yIChsZXQgaiA9IHRoaXMuY2VsbC55IC0gMTsgaiA8PSB0aGlzLmNlbGwueSArIDE7IGorKykge1xyXG4gICAgICAgIGlmIChpID49IDAgJiYgaSA8IHRoaXMuZ3JpZC5jb2x1bW5zICYmIGogPj0gMCAmJiBqIDwgdGhpcy5ncmlkLnJvd3MpIHtcclxuICAgICAgICAgIGlmKHRoaXMuZ3JpZC5jZWxsc1tpXT09IG51bGwpe1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgICBuZWlnaGJvcmluZ1BhcnRpY2xlcy5wdXNoKC4uLnRoaXMuZ3JpZC5jZWxsc1tpXVtqXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmVpZ2hib3JpbmdQYXJ0aWNsZXM7XHJcbiAgfVxyXG4gIFxyXG4gIHVwZGF0ZUNlbGwoKXtcclxuICAgIHRoaXMuY2VsbCA9IG5ldyBWZWMyRChNYXRoLmZsb29yKHRoaXMuY3VycmVudFBvc2l0aW9uLnggLyB0aGlzLmdyaWQucGl4ZWxTaXplKSwgTWF0aC5mbG9vcih0aGlzLmN1cnJlbnRQb3NpdGlvbi55IC8gdGhpcy5ncmlkLnBpeGVsU2l6ZSkpO1xyXG4gIH1cclxuXHJcblxyXG5cclxufSIsImltcG9ydCB7IGZvcmVncm91bmRDYW52YXMgfSBmcm9tICcuL0NhbnZhc01hbmFnZXInO1xyXG5pbXBvcnQgKiBhcyBDb25maWcgZnJvbSAnLi9Db25maWcnO1xyXG5pbXBvcnQgeyBJbnB1dEhhbmRsZXIgfSBmcm9tICcuL0lucHV0SGFuZGxlcic7XHJcbmltcG9ydCBQYXJ0aWNsZSBmcm9tICcuL1BhcnRpY2xlJztcclxuaW1wb3J0IFZlYzJEIGZyb20gJy4vVmVjMkQnO1xyXG5pbXBvcnQgeyBhdHRyYWN0b3JzLCBncmlkLCBwYXJ0aWNsZXMgfSBmcm9tICcuL3NjcmlwdCc7XHJcblxyXG5jb25zdCBpbnB1dEhhbmRsZXIgPSBJbnB1dEhhbmRsZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVBvc2l0aW9ucyhkdDogbnVtYmVyKSB7XHJcbiAgICBncmlkLnJlbW92ZUFsbCgpO1xyXG4gICAgcGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgXHJcbiAgICAgIHBhcnRpY2xlLnVwZGF0ZVBvc2l0aW9uKGR0KTtcclxuICAgICAgZ3JpZC5wdXQocGFydGljbGUpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFxyXG4gIGZ1bmN0aW9uIGFwcGx5R3Jhdml0eSgpIHtcclxuICAgIHBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgICBwYXJ0aWNsZS5hY2NlbGVyYXRlKENvbmZpZy5nZXRHcmF2aXR5RGlyZWN0aW9uKCkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFxyXG4gIGZ1bmN0aW9uIGFwcGx5RmllbGQoZmllbGRQb3M6IFZlYzJEKSB7XHJcbiAgICBwYXJ0aWNsZXMuZm9yRWFjaCgocGFydGljbGUpID0+IHtcclxuICAgICAgY29uc3QgcHVsbERpcmVjdGlvbiA9IGZpZWxkUG9zLmRpZmZlcmVuY2UocGFydGljbGUuY3VycmVudFBvc2l0aW9uKVxyXG4gICAgICBjb25zdCBkaXN0YW5jZSA9IHB1bGxEaXJlY3Rpb24ubGVuZ3RoKCk7XHJcbiAgXHJcbiAgICAgIGlmIChkaXN0YW5jZSA8IENvbmZpZy5nZXRGaWVsZFNpemUoKSAmJiBkaXN0YW5jZSA+IDEwKSB7XHJcbiAgICAgICAgcHVsbERpcmVjdGlvbi5tdWx0aXBseShDb25maWcuZ2V0RmllbGRTdHJlbmd0aCgpICogMTAwKTtcclxuICAgICAgICBwdWxsRGlyZWN0aW9uLmRpdmlkZShkaXN0YW5jZSAqIGRpc3RhbmNlKTtcclxuICAgICAgICBwYXJ0aWNsZS5hY2NlbGVyYXRlKHB1bGxEaXJlY3Rpb24pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgXHJcbiAgZXhwb3J0IGZ1bmN0aW9uIGFwcGx5QXR0cmFjdG9yRm9yY2VzVG9BbGwoKSB7XHJcbiAgICBwYXJ0aWNsZXMuZm9yRWFjaCgocGFydGljbGUpID0+IHtcclxuICAgICAgYXBwbHlBdHRyYWN0b3JGb3JjZXMocGFydGljbGUpXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG5cclxuICBleHBvcnQgZnVuY3Rpb24gdGljayhkdDogbnVtYmVyKSB7XHJcbiAgICB2YXIgc3ViX2R0ID0gZHQgLyBDb25maWcuZ2V0UGh5c2ljc1N1YnN0ZXBzQW1vdW50KCk7XHJcbiAgXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IENvbmZpZy5nZXRQaHlzaWNzU3Vic3RlcHNBbW91bnQoKTsgaSsrKSB7XHJcbiAgICAgIGlmIChDb25maWcuZ2V0R3Jhdml0eURpcmVjdGlvbigpLnkgIT0gMCkge1xyXG4gICAgICAgIGFwcGx5R3Jhdml0eSgpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChpbnB1dEhhbmRsZXIuY2xpY2tlZCkge1xyXG4gICAgICAgIHN3aXRjaCAoQ29uZmlnLmdldFBvaW50ZXJGdW5jdGlvbigpKSB7XHJcbiAgICAgICAgICBjYXNlICdmaWVsZCc6XHJcbiAgICAgICAgICAgIGFwcGx5RmllbGQoaW5wdXRIYW5kbGVyLnBvaW50ZXJQb3NpdGlvbik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSAnZ3Jhdml0eSc6XHJcbiAgICAgICAgICAgIENvbmZpZy5zZXRHcmF2aXR5RGlyZWN0aW9uKGlucHV0SGFuZGxlci5wb2ludGVyUG9zaXRpb24uZGlmZmVyZW5jZShpbnB1dEhhbmRsZXIuY2xpY2tTdGFydFBvc2l0aW9uKS5kaXZpZGUoNDAwKSk7XHJcbiAgICAgICAgICBjYXNlICd0aHJvdyc6XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gIFxyXG4gICAgICAgIH1cclxuICBcclxuICAgICAgfVxyXG4gICAgICAvLyBhcHBseUF0dHJhY3RvckZvcmNlc1RvQWxsKCk7XHJcbiAgICAgIGFwcGx5Q29uc3RyYWludFRvQWxsRWRnZXMoKTtcclxuICAgICAgc29sdmVDb2xsaXNpb25zKCk7XHJcbiAgICAgIHVwZGF0ZVBvc2l0aW9ucyhzdWJfZHQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gYXBwbHlDb25zdHJhaW50VG9BbGxFZGdlcygpIHtcclxuXHJcbiAgICBwYXJ0aWNsZXMuZm9yRWFjaCgocGFydGljbGUpID0+IHtcclxuICAgICAgYXBwbHlDb25zdHJhaW50KHBhcnRpY2xlKTtcclxuICAgIH0pO1xyXG4gICAgLy8gZm9yICh2YXIgY29sID0gMDsgY29sIDwgZ3JpZC5sZW5ndGg7IGNvbCsrKSB7XHJcbiAgICAvLyAgIGZvciAodmFyIHRoaWNrbmVzcyA9IDA7IHRoaWNrbmVzcyA8IDI7IHRoaWNrbmVzcysrKSB7XHJcbiAgICAvLyAgICAgZ3JpZFtjb2xdW3RoaWNrbmVzc10uZm9yRWFjaCgocGFydGljbGUpID0+IHtcclxuICAgIC8vICAgICAgIGFwcGx5Q29uc3RyYWludChwYXJ0aWNsZSk7XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgXHJcbiAgICAvLyAgICAgZ3JpZFtjb2xdW2dyaWRbMF0ubGVuZ3RoIC0gdGhpY2tuZXNzIC0gMV0uZm9yRWFjaCgocGFydGljbGUpID0+IHtcclxuICAgIC8vICAgICAgIGFwcGx5Q29uc3RyYWludChwYXJ0aWNsZSk7XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvLyAgIH1cclxuICAgIC8vIH1cclxuICBcclxuICAgIC8vIGZvciAodmFyIHJvdyA9IDA7IHJvdyA8IGdyaWRbMF0ubGVuZ3RoOyByb3crKykge1xyXG4gICAgLy8gICBmb3IgKHZhciB0aGlja25lc3MgPSAwOyB0aGlja25lc3MgPCAyOyB0aGlja25lc3MrKykge1xyXG4gICAgLy8gICAgIGdyaWRbdGhpY2tuZXNzXVtyb3ddLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgICAvLyAgICAgICBhcHBseUNvbnN0cmFpbnQocGFydGljbGUpO1xyXG4gICAgLy8gICAgIH0pO1xyXG4gIFxyXG4gICAgLy8gICAgIGdyaWRbZ3JpZC5sZW5ndGggLSB0aGlja25lc3MgLSAxXVtyb3ddLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgICAvLyAgICAgICBhcHBseUNvbnN0cmFpbnQocGFydGljbGUpO1xyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy8gICB9XHJcbiAgICAvLyB9XHJcbiAgfVxyXG5cclxuICBleHBvcnQgZnVuY3Rpb24gYXBwbHlDb25zdHJhaW50KHBhcnRpY2xlOiBQYXJ0aWNsZSkge1xyXG4gICAgLy8gQXBwbHkgZmxvb3IgY29uc3RyYWludFxyXG4gICAgaWYgKHBhcnRpY2xlLmN1cnJlbnRQb3NpdGlvbi55ICsgcGFydGljbGUucmFkaXVzID4gZm9yZWdyb3VuZENhbnZhcy5oZWlnaHQpIHtcclxuICAgICAgcGFydGljbGUuY3VycmVudFBvc2l0aW9uLnkgPSBmb3JlZ3JvdW5kQ2FudmFzLmhlaWdodCAtIHBhcnRpY2xlLnJhZGl1cztcclxuICAgICAgcGFydGljbGUucHJldmlvdXNQb3NpdGlvbi55ID0gcGFydGljbGUuY3VycmVudFBvc2l0aW9uLnkgKyBwYXJ0aWNsZS5jdXJyZW50UG9zaXRpb24ueSAtIHBhcnRpY2xlLnByZXZpb3VzUG9zaXRpb24ueTtcclxuICAgIH1cclxuICBcclxuICAgIC8vIEFwcGx5IENlaWxpbmcgY29uc3RyYWludFxyXG4gICAgaWYgKHBhcnRpY2xlLmN1cnJlbnRQb3NpdGlvbi55IC0gcGFydGljbGUucmFkaXVzIDwgMCkge1xyXG4gICAgICBwYXJ0aWNsZS5jdXJyZW50UG9zaXRpb24ueSA9IHBhcnRpY2xlLnJhZGl1cztcclxuICAgICAgcGFydGljbGUucHJldmlvdXNQb3NpdGlvbi55ID0gcGFydGljbGUuY3VycmVudFBvc2l0aW9uLnkgKyBwYXJ0aWNsZS5jdXJyZW50UG9zaXRpb24ueSAtIHBhcnRpY2xlLnByZXZpb3VzUG9zaXRpb24ueTtcclxuICAgIH1cclxuICBcclxuICBcclxuICAgIC8vIEFwcGx5IGxlZnQgd2FsbCBjb25zdHJhaW50XHJcbiAgICBpZiAocGFydGljbGUuY3VycmVudFBvc2l0aW9uLnggLSBwYXJ0aWNsZS5yYWRpdXMgPCAwKSB7XHJcbiAgICAgIHBhcnRpY2xlLmN1cnJlbnRQb3NpdGlvbi54ID0gcGFydGljbGUucmFkaXVzO1xyXG4gICAgICBwYXJ0aWNsZS5wcmV2aW91c1Bvc2l0aW9uLnggPSBwYXJ0aWNsZS5jdXJyZW50UG9zaXRpb24ueCArIHBhcnRpY2xlLmN1cnJlbnRQb3NpdGlvbi54IC0gcGFydGljbGUucHJldmlvdXNQb3NpdGlvbi54O1xyXG4gICAgfVxyXG4gIFxyXG4gICAgLy8gQXBwbHkgcmlnaHQgd2FsbCBjb25zdHJhaW50XHJcbiAgICBpZiAocGFydGljbGUuY3VycmVudFBvc2l0aW9uLnggKyBwYXJ0aWNsZS5yYWRpdXMgPiBmb3JlZ3JvdW5kQ2FudmFzLndpZHRoKSB7XHJcbiAgICAgIHBhcnRpY2xlLmN1cnJlbnRQb3NpdGlvbi54ID0gZm9yZWdyb3VuZENhbnZhcy53aWR0aCAtIHBhcnRpY2xlLnJhZGl1cztcclxuICBcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGV4cG9ydCBmdW5jdGlvbiBhcHBseUF0dHJhY3RvckZvcmNlcyhwYXJ0aWNsZTogUGFydGljbGUpIHtcclxuICAgIGF0dHJhY3RvcnMuZm9yRWFjaCgoYXR0cmFjdG9yKSA9PiB7XHJcbiAgICAgIGNvbnN0IHB1bGxEaXJlY3Rpb24gPSBhdHRyYWN0b3IucG9zaXRpb24uZGlmZmVyZW5jZShwYXJ0aWNsZS5jdXJyZW50UG9zaXRpb24pXHJcbiAgICAgIGNvbnN0IGRpc3RhbmNlID0gcHVsbERpcmVjdGlvbi5sZW5ndGgoKTtcclxuICBcclxuICAgICAgaWYgKGRpc3RhbmNlIDwgYXR0cmFjdG9yLnJhZGl1cyAmJiBkaXN0YW5jZSA+IDEwKSB7XHJcbiAgICAgICAgcHVsbERpcmVjdGlvbi5tdWx0aXBseShhdHRyYWN0b3IuZm9yY2UpO1xyXG4gICAgICAgIHB1bGxEaXJlY3Rpb24uZGl2aWRlKGRpc3RhbmNlICogZGlzdGFuY2UpXHJcbiAgICAgICAgcGFydGljbGUuYWNjZWxlcmF0ZShwdWxsRGlyZWN0aW9uKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFxyXG4gIGZ1bmN0aW9uIHNvbHZlQ29sbGlzaW9ucygpIHtcclxuICAgIHZhciBudW1iZXJPZkNvbGxpc2lvbnMgPSAwO1xyXG4gIFxyXG4gIFxyXG4gICAgbGV0IHRlbXBDb2xsaXNpb25EaXJlY3Rpb24gPSBuZXcgVmVjMkQoMCwgMCk7XHJcbiAgICBsZXQgc3F1YXJlZERpc3RhbmNlID0gMDtcclxuICAgIGxldCByYWRpaVN1bSA9IDA7XHJcbiAgICBsZXQgc3F1YXJlZFJhZGlpU3VtID0gMDtcclxuICBcclxuICAgIHBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZTEpID0+IHtcclxuICAgICAgY29uc3QgbmVpZ2hib3JpbmdQYXJ0aWNsZXMgPSBwYXJ0aWNsZTEuZ2V0TmVpZ2hib3JpbmdQYXJ0aWNsZXMoKTtcclxuICAgICAgbmVpZ2hib3JpbmdQYXJ0aWNsZXMuZm9yRWFjaCgocGFydGljbGUyKSA9PiB7XHJcbiAgICAgICAgaWYgKHBhcnRpY2xlMSA9PT0gcGFydGljbGUyKSByZXR1cm47XHJcbiAgXHJcbiAgICAgICAgdGVtcENvbGxpc2lvbkRpcmVjdGlvbi5zZXQocGFydGljbGUxLmN1cnJlbnRQb3NpdGlvbikuc3VidHJhY3QocGFydGljbGUyLmN1cnJlbnRQb3NpdGlvbik7XHJcbiAgICAgICAgc3F1YXJlZERpc3RhbmNlID0gdGVtcENvbGxpc2lvbkRpcmVjdGlvbi5zcXVhcmVkTGVuZ3RoKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmFkaWlTdW0gPSBwYXJ0aWNsZTEucmFkaXVzICsgcGFydGljbGUyLnJhZGl1cztcclxuICAgICAgICBzcXVhcmVkUmFkaWlTdW0gPSByYWRpaVN1bSAqIHJhZGlpU3VtO1xyXG4gIFxyXG4gICAgICAgIGlmIChzcXVhcmVkRGlzdGFuY2UgPCBzcXVhcmVkUmFkaWlTdW0gJiYgc3F1YXJlZERpc3RhbmNlICE9IDApIHtcclxuICAgICAgICAgIG51bWJlck9mQ29sbGlzaW9ucysrO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBkaXN0YW5jZSA9IE1hdGguc3FydChzcXVhcmVkRGlzdGFuY2UpO1xyXG4gICAgICAgICAgICB0ZW1wQ29sbGlzaW9uRGlyZWN0aW9uLmRpdmlkZShkaXN0YW5jZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBkZWx0YSA9IHJhZGlpU3VtIC0gZGlzdGFuY2U7XHJcbiAgICAgICAgICAgIHRlbXBDb2xsaXNpb25EaXJlY3Rpb24ubXVsdGlwbHkoZGVsdGEgKiAwLjUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBwYXJ0aWNsZTEuY3VycmVudFBvc2l0aW9uLmFkZCh0ZW1wQ29sbGlzaW9uRGlyZWN0aW9uKTtcclxuICAgICAgICAgICAgcGFydGljbGUyLmN1cnJlbnRQb3NpdGlvbi5zdWJ0cmFjdCh0ZW1wQ29sbGlzaW9uRGlyZWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhudW1iZXJPZkNvbGxpc2lvbnMpO1xyXG4gIH1cclxuICAiLCJpbXBvcnQgVmVjMkQgZnJvbSBcIi4vVmVjMkRcIjtcclxuaW1wb3J0ICogYXMgQ29uZmlnIGZyb20gJy4vQ29uZmlnJztcclxuaW1wb3J0IHBhcnRpY2xlRnJhZ21lbnRTaGFkZXIgZnJvbSBcIi4vc2hhZGVycy9wYXJ0aWNsZUZyYWdtZW50U2hhZGVyLmZyYWdcIjtcclxuaW1wb3J0IHBhcnRpY2xlVmVydGV4U2hhZGVyIGZyb20gXCIuL3NoYWRlcnMvcGFydGljbGVWZXJ0ZXhTaGFkZXIudmVydFwiO1xyXG5pbXBvcnQgeyBjcmVhdGVQcm9ncmFtLCBjcmVhdGVTaGFkZXIsIHJlc2l6ZUNhbnZhc1RvRGlzcGxheVNpemUgfSBmcm9tIFwiLi9TaGFkZXJIZWxwZXJcIjtcclxuaW1wb3J0IEF0dHJhY3RvciBmcm9tIFwiLi9BdHRyYWN0b3JcIjtcclxuaW1wb3J0IHsgYmFja2dyb3VuZENhbnZhc0N0eCwgZm9yZWdyb3VuZENhbnZhcywgZm9yZWdyb3VuZENhbnZhc0N0eCB9IGZyb20gXCIuL0NhbnZhc01hbmFnZXJcIjtcclxuaW1wb3J0IHsgYXBwbHlBdHRyYWN0b3JGb3JjZXMsIGFwcGx5Q29uc3RyYWludCB9IGZyb20gXCIuL1BoeXNpY3NFbmdpbmVcIjtcclxuaW1wb3J0IHsgSW5wdXRIYW5kbGVyIH0gZnJvbSBcIi4vSW5wdXRIYW5kbGVyXCI7XHJcbmltcG9ydCB7IGdyaWQsIHBhcnRpY2xlcyB9IGZyb20gXCIuL3NjcmlwdFwiO1xyXG5pbXBvcnQgUGFydGljbGUgZnJvbSBcIi4vUGFydGljbGVcIjtcclxuXHJcblxyXG52YXIgd2ViZ2xDYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2ViZ2wtY2FudmFzJykgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbnZhciBnbCA9IHdlYmdsQ2FudmFzLmdldENvbnRleHQoXCJ3ZWJnbFwiKTtcclxud2ViZ2xDYW52YXMhLndpZHRoID0gd2ViZ2xDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XHJcbndlYmdsQ2FudmFzIS5oZWlnaHQgPSB3ZWJnbENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcblxyXG5jb25zdCBpbnB1dEhhbmRsZXIgPSBJbnB1dEhhbmRsZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHJcbmlmICghZ2wpIHtcclxuICBjb25zb2xlLmVycm9yKFwiVW5hYmxlIHRvIGluaXRpYWxpemUgV2ViR0wuIFlvdXIgYnJvd3NlciBtYXkgbm90IHN1cHBvcnQgaXQuXCIpO1xyXG59XHJcblxyXG4vL2VuYWxiaW5nIGJsZW5kaW5nIGZvciBwcm9wZXIgYWxwaGEgb24gdGhlIHBhcnRpY2xlc1xyXG5nbC5lbmFibGUoZ2wuQkxFTkQpO1xyXG5nbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcclxuXHJcbi8vY29tcGlsaW5nIHRoZSBzaGFkZXJzIHdpdGggYSBoZWxwZXIgZnVuY3Rpb25cclxudmFyIHZlcnRleFNoYWRlciA9IGNyZWF0ZVNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgcGFydGljbGVWZXJ0ZXhTaGFkZXIpO1xyXG52YXIgZnJhZ21lbnRTaGFkZXIgPSBjcmVhdGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgcGFydGljbGVGcmFnbWVudFNoYWRlcik7XHJcblxyXG4vL2NyZWF0aW5nIGEgV2ViR0wgcHJvZ3JhbSBhbmQgYXR0YWNoaW5nIHRoZSBzaGFkZXJzIHRvIGl0IHdpdGggYSBoZWxwZXIgZnVuY3Rpb25cclxudmFyIHByb2dyYW0gPSBjcmVhdGVQcm9ncmFtKGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKTtcclxuXHJcbi8vbG9va2luZyB1cCB1bmlmb3JtIGxvY2F0aW9uIGFuZCB3aGVyZSB0aGUgdmVydGV4IGRhdGEgbmVlZHMgdG8gZ29cclxudmFyIHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCBcImFfcG9zaXRpb25cIik7XHJcbnZhciByZXNvbHV0aW9uVW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sIFwidV9yZXNvbHV0aW9uXCIpO1xyXG52YXIgY29sb3JVbmlmb3JtTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgXCJ1X2NvbG9yXCIpO1xyXG52YXIgdHJhbnNsYXRpb25Mb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCBcInVfdHJhbnNsYXRpb25cIik7XHJcbnZhciByYWRpdXNVbmlmb3JtTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgXCJ1X3JhZGl1c1wiKTtcclxudmFyIG91dGxpbmVVbmlmb3JtTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgXCJ1X291dGxpbmVfYmxhY2tcIik7XHJcbnZhciBwb3NpdGlvbkJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG5nbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcG9zaXRpb25CdWZmZXIpO1xyXG5cclxuZnVuY3Rpb24gc2V0UmVjdGFuZ2xlKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHg6bnVtYmVyLCB5Om51bWJlciwgd2lkdGg6bnVtYmVyLCBoZWlnaHQ6bnVtYmVyKSB7XHJcbiAgdmFyIHgxID0geCAtIHdpZHRoIC8gMjtcclxuICB2YXIgeDIgPSB4ICsgd2lkdGggLyAyO1xyXG4gIHZhciB5MSA9IHkgLSBoZWlnaHQgLyAyO1xyXG4gIHZhciB5MiA9IHkgKyBoZWlnaHQgLyAyO1xyXG4gXHJcbiAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoW1xyXG4gICAgIHgxLCB5MSxcclxuICAgICB4MiwgeTEsXHJcbiAgICAgeDEsIHkyLFxyXG4gICAgIHgxLCB5MixcclxuICAgICB4MiwgeTEsXHJcbiAgICAgeDIsIHkyXSksIGdsLlNUQVRJQ19EUkFXKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEdlb21ldHJ5KCl7XHJcbiAgcGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgICBzZXRSZWN0YW5nbGUoXHJcbiAgICAgIGdsLCAwLCAwLCBDb25maWcuZ2V0R3JpZFNpemUoKSwgQ29uZmlnLmdldEdyaWRTaXplKCkpO1xyXG4gIH0pO1xyXG5cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZHJhd1BhcnRpY2xlcygpIHtcclxuICByZXNpemVDYW52YXNUb0Rpc3BsYXlTaXplKGdsLmNhbnZhcyk7XHJcblxyXG4gIC8vIFRlbGwgV2ViR0wgaG93IHRvIGNvbnZlcnQgZnJvbSBjbGlwIHNwYWNlIHRvIHBpeGVsc1xyXG4gIGdsLnZpZXdwb3J0KDAsIDAsIGdsLmNhbnZhcy53aWR0aCwgZ2wuY2FudmFzLmhlaWdodCk7XHJcblxyXG4gIC8vIENsZWFyIHRoZSBjYW52YXNcclxuICBnbC5jbGVhckNvbG9yKDAsIDAsIDAsIDApOyAvLyBDbGVhciB0byB0cmFuc3BhcmVudCBibGFja1xyXG4gIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQpO1xyXG5cclxuICAvLyBUZWxsIGl0IHRvIHVzZSBwcm9ncmFtIChwYWlyIG9mIHNoYWRlcnMpXHJcbiAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcclxuXHJcbiAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbik7XHJcblxyXG4gIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBwb3NpdGlvbkJ1ZmZlcik7XHJcbiAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xyXG4gIHZhciBvdXRsaW5lQ29sb3IgPSBwYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKCctLWlzLW91dGxpbmUtZGFyaycpKTtcclxuICB2YXIgcmVzb2x1dGlvbiA9IFtnbC5jYW52YXMud2lkdGgsIGdsLmNhbnZhcy5oZWlnaHRdXHJcbiAgLy8gRHJhdyB0aGUgcmVjdGFuZ2xlLlxyXG4gIHBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgICBnbC51bmlmb3JtMmZ2KHJlc29sdXRpb25Vbmlmb3JtTG9jYXRpb24sIHJlc29sdXRpb24pO1xyXG4gICAgICBnbC51bmlmb3JtMmYodHJhbnNsYXRpb25Mb2NhdGlvbiwgcGFydGljbGUuY3VycmVudFBvc2l0aW9uLngsIHBhcnRpY2xlLmN1cnJlbnRQb3NpdGlvbi55KTtcclxuICAgICAgZ2wudW5pZm9ybTNmKGNvbG9yVW5pZm9ybUxvY2F0aW9uLCBwYXJ0aWNsZS5jb2xvci5yLHBhcnRpY2xlLmNvbG9yLmcsIHBhcnRpY2xlLmNvbG9yLmIpO1xyXG4gICAgICBnbC51bmlmb3JtMWYocmFkaXVzVW5pZm9ybUxvY2F0aW9uLCBwYXJ0aWNsZS5yYWRpdXMpXHJcbiAgICAgIGdsLnVuaWZvcm0xZihvdXRsaW5lVW5pZm9ybUxvY2F0aW9uLCBvdXRsaW5lQ29sb3IpO1xyXG4gICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFUywgMCwgNik7XHJcbiAgfSk7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3QXR0cmFjdG9ycyhhdHRyYWN0b3JzOiBBdHRyYWN0b3JbXSkge1xyXG4gIGF0dHJhY3RvcnMuZm9yRWFjaCgoYXR0cmFjdG9yKSA9PiB7XHJcbiAgICBhdHRyYWN0b3IuYW5pbWF0ZSgpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdEb3R0ZWRMaW5lKGZyb206IFZlYzJELCB0bzogVmVjMkQsIHJhZGl1czogbnVtYmVyID0gNSwgZG90Q291bnQ6IG51bWJlciA9IDgpIHtcclxuICBpZiAoaW5wdXRIYW5kbGVyLmNsaWNrZWQgJiYgZnJvbS54ICE9IHRvLnggJiYgZnJvbS55ICE9IHRvLnkpIHtcclxuICAgIGNvbnN0IGRpc3RhbmNlID0gZnJvbS5kaWZmZXJlbmNlKHRvKTtcclxuICAgIGRyYXdQcmVkaWN0ZWRQYXRoKGZyb20uY2xvbmUoKSwgZGlzdGFuY2UuY2xvbmUoKSlcclxuICAgIGRpc3RhbmNlLmRpdmlkZShkb3RDb3VudCk7XHJcbiAgICB2YXIgYW5nbGUgPSBNYXRoLmF0YW4yKHRvLnkgLSBmcm9tLnksIHRvLnggLSBmcm9tLngpO1xyXG4gICAgdmFyIG5ld190byA9IG5ldyBWZWMyRCh0by54LCB0by55KTtcclxuXHJcbiAgICBuZXdfdG8ueCAtPSBNYXRoLmNvcyhhbmdsZSk7XHJcbiAgICBuZXdfdG8ueSAtPSBNYXRoLnNpbihhbmdsZSk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gZG90Q291bnQ7IGkrKykge1xyXG4gICAgICB2YXIgZG90WCA9IGZyb20ueCAtIGRpc3RhbmNlLnggKiBpO1xyXG4gICAgICB2YXIgZG90WSA9IGZyb20ueSAtIGRpc3RhbmNlLnkgKiBpO1xyXG4gICAgICBkcmF3RG90KGRvdFgsIGRvdFksIHJhZGl1cywgMjU1KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZHJhd1ByZWRpY3RlZFBhdGgoc3RhcnRQb3M6IFZlYzJELCBBY2NlbGVyYXRpb25WZWN0b3I6IFZlYzJEKSB7XHJcbiAgbGV0IGRvdENvdW50ID0gMjU1O1xyXG4gIGxldCBwcmVkaWN0ZWREb3QgPSBuZXcgUGFydGljbGUoc3RhcnRQb3MsIENvbmZpZy5nZXRHcmlkU2l6ZSgpLzIsIEFjY2VsZXJhdGlvblZlY3Rvciwge3I6MCwgZzowLCBiOjB9LGdyaWQpXHJcbiAgZm9yIChsZXQgaSA9IDE7IGkgPD0gZG90Q291bnQ7IGkrKykge1xyXG5cclxuICAgIHByZWRpY3RlZERvdC5hY2NlbGVyYXRlKENvbmZpZy5nZXRHcmF2aXR5RGlyZWN0aW9uKCkpO1xyXG4gICAgYXBwbHlDb25zdHJhaW50KHByZWRpY3RlZERvdCk7XHJcbiAgICBhcHBseUF0dHJhY3RvckZvcmNlcyhwcmVkaWN0ZWREb3QpO1xyXG4gICAgcHJlZGljdGVkRG90LnVwZGF0ZVBvc2l0aW9uKDAuOCAqIDAuMjUpO1xyXG4gICAgaWYgKGkgJSA2ID09IDApIHtcclxuICAgICAgZHJhd0RvdChwcmVkaWN0ZWREb3QuY3VycmVudFBvc2l0aW9uLngsIHByZWRpY3RlZERvdC5jdXJyZW50UG9zaXRpb24ueSwgNSwgMjU1IC0gaSlcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdEb3QoZG90WDogbnVtYmVyLCBkb3RZOiBudW1iZXIsIGRvdFNpemU6IG51bWJlciwgb3BhY2l0eTogbnVtYmVyKSB7XHJcbiAgZm9yZWdyb3VuZENhbnZhc0N0eC5iZWdpblBhdGgoKTtcclxuICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmFyYyhcclxuICAgIGRvdFgsXHJcbiAgICBkb3RZLFxyXG4gICAgZG90U2l6ZSxcclxuICAgIDAsXHJcbiAgICAyICogTWF0aC5QSSxcclxuICAgIGZhbHNlXHJcbiAgKTtcclxuXHJcbiAgZm9yZWdyb3VuZENhbnZhc0N0eC5maWxsU3R5bGUgPSBgcmdiYSgyMTAsIDIxMCwgMjEwLCAke29wYWNpdHkgLyAyNTV9KWA7XHJcbiAgZm9yZWdyb3VuZENhbnZhc0N0eC5maWxsKCk7XHJcblxyXG4gIGZvcmVncm91bmRDYW52YXNDdHguY2xvc2VQYXRoKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkcmF3TGFzc28obGluZVdpZHRoOiBudW1iZXIgPSAzKSB7XHJcbiAgaWYgKGlucHV0SGFuZGxlci5jbGlja2VkKSB7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5hcmMoaW5wdXRIYW5kbGVyLnBvaW50ZXJQb3NpdGlvbi54LCBpbnB1dEhhbmRsZXIucG9pbnRlclBvc2l0aW9uLnksIENvbmZpZy5nZXRGaWVsZFNpemUoKSwgMCwgMiAqIE1hdGguUEkpO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5saW5lV2lkdGggPSBsaW5lV2lkdGg7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LnN0cm9rZVN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoJy0tZ3JpZC1jb2xvcicpO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5zdHJva2UoKTtcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHguY2xvc2VQYXRoKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZHJhd0Fycm93KGZyb206IFZlYzJELCB0bzogVmVjMkQpIHtcclxuICBpZiAoaW5wdXRIYW5kbGVyLmNsaWNrZWQgJiYgZnJvbS54ICE9IHRvLnggJiYgZnJvbS55ICE9IHRvLnkpIHtcclxuICAgIHZhciBhbmdsZSA9IE1hdGguYXRhbjIodG8ueSAtIGZyb20ueSwgdG8ueCAtIGZyb20ueCk7XHJcbiAgICBjb25zdCB3aWR0aCA9IDEwO1xyXG4gICAgdmFyIGhlYWRsZW4gPSAxMDtcclxuICAgIHZhciBuZXdfdG8gPSBuZXcgVmVjMkQodG8ueCwgdG8ueSk7XHJcbiAgICAvLyBUaGlzIG1ha2VzIGl0IHNvIHRoZSBlbmQgb2YgdGhlIGFycm93IGhlYWQgaXMgbG9jYXRlZCBhdCB0b3gsIHRveSwgZG9uJ3QgYXNrIHdoZXJlIDEuMTUgY29tZXMgZnJvbVxyXG4gICAgbmV3X3RvLnggLT0gTWF0aC5jb3MoYW5nbGUpICogKCh3aWR0aCAqIDEuMTUpKTtcclxuICAgIG5ld190by55IC09IE1hdGguc2luKGFuZ2xlKSAqICgod2lkdGggKiAxLjE1KSk7XHJcblxyXG5cclxuXHJcbiAgICAvL3N0YXJ0aW5nIHBhdGggb2YgdGhlIGFycm93IGZyb20gdGhlIHN0YXJ0IHNxdWFyZSB0byB0aGUgZW5kIHNxdWFyZSBhbmQgZHJhd2luZyB0aGUgc3Ryb2tlXHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5tb3ZlVG8oZnJvbS54LCBmcm9tLnkpO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5saW5lVG8obmV3X3RvLngsIG5ld190by55KTtcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHguc3Ryb2tlU3R5bGUgPSBcIiNiYmJiYmJcIjtcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHgubGluZVdpZHRoID0gd2lkdGg7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LnN0cm9rZSgpO1xyXG5cclxuICAgIC8vc3RhcnRpbmcgYSBuZXcgcGF0aCBmcm9tIHRoZSBoZWFkIG9mIHRoZSBhcnJvdyB0byBvbmUgb2YgdGhlIHNpZGVzIG9mIHRoZSBwb2ludFxyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5iZWdpblBhdGgoKTtcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHgubW92ZVRvKG5ld190by54LCBuZXdfdG8ueSk7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmxpbmVUbyhuZXdfdG8ueCAtIGhlYWRsZW4gKiBNYXRoLmNvcyhhbmdsZSAtIE1hdGguUEkgLyA3KSwgbmV3X3RvLnkgLSBoZWFkbGVuICogTWF0aC5zaW4oYW5nbGUgLSBNYXRoLlBJIC8gNykpO1xyXG5cclxuICAgIC8vcGF0aCBmcm9tIHRoZSBzaWRlIHBvaW50IG9mIHRoZSBhcnJvdywgdG8gdGhlIG90aGVyIHNpZGUgcG9pbnRcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHgubGluZVRvKG5ld190by54IC0gaGVhZGxlbiAqIE1hdGguY29zKGFuZ2xlICsgTWF0aC5QSSAvIDcpLCBuZXdfdG8ueSAtIGhlYWRsZW4gKiBNYXRoLnNpbihhbmdsZSArIE1hdGguUEkgLyA3KSk7XHJcblxyXG4gICAgLy9wYXRoIGZyb20gdGhlIHNpZGUgcG9pbnQgYmFjayB0byB0aGUgdGlwIG9mIHRoZSBhcnJvdywgYW5kIHRoZW4gYWdhaW4gdG8gdGhlIG9wcG9zaXRlIHNpZGUgcG9pbnRcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHgubGluZVRvKG5ld190by54LCBuZXdfdG8ueSk7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LmxpbmVUbyhuZXdfdG8ueCAtIGhlYWRsZW4gKiBNYXRoLmNvcyhhbmdsZSAtIE1hdGguUEkgLyA3KSwgbmV3X3RvLnkgLSBoZWFkbGVuICogTWF0aC5zaW4oYW5nbGUgLSBNYXRoLlBJIC8gNykpO1xyXG5cclxuICAgIC8vZHJhd3MgdGhlIHBhdGhzIGNyZWF0ZWQgYWJvdmVcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHguc3Ryb2tlU3R5bGUgPSBcIiNiYmJiYmJcIjtcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHgubGluZVdpZHRoID0gd2lkdGg7XHJcbiAgICBmb3JlZ3JvdW5kQ2FudmFzQ3R4LnN0cm9rZSgpO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5maWxsU3R5bGUgPSBcIiNiYmJiYmJcIjtcclxuICAgIGZvcmVncm91bmRDYW52YXNDdHguZmlsbCgpO1xyXG4gICAgZm9yZWdyb3VuZENhbnZhc0N0eC5jbG9zZVBhdGgoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkcmF3Q3Vyc29yRnVuY3Rpb24oKSB7XHJcbiAgaWYgKGlucHV0SGFuZGxlci5jbGlja2VkKSB7XHJcbnN3aXRjaCAoQ29uZmlnLmdldFBvaW50ZXJGdW5jdGlvbigpKSB7XHJcbiAgY2FzZSAnZmllbGQnOlxyXG4gICAgZHJhd0xhc3NvKCk7XHJcbiAgICBicmVhaztcclxuICBjYXNlICdncmF2aXR5JzpcclxuICAgIGRyYXdBcnJvdyhpbnB1dEhhbmRsZXIuY2xpY2tTdGFydFBvc2l0aW9uLCBpbnB1dEhhbmRsZXIucG9pbnRlclBvc2l0aW9uKVxyXG4gICAgYnJlYWs7XHJcbiAgY2FzZSAndGhyb3cnOlxyXG4gICAgZHJhd0RvdHRlZExpbmUoaW5wdXRIYW5kbGVyLmNsaWNrU3RhcnRQb3NpdGlvbiwgaW5wdXRIYW5kbGVyLnBvaW50ZXJQb3NpdGlvbilcclxuICAgIGJyZWFrO1xyXG59XHJcbiAgfVxyXG59IiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNoYWRlcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCB0eXBlOiBhbnksIHNvdXJjZTogYW55KSB7XHJcbiAgICB2YXIgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xyXG4gICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc291cmNlKTtcclxuICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcclxuICAgIHZhciBzdWNjZXNzID0gZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpO1xyXG4gICAgaWYgKHN1Y2Nlc3MpIHtcclxuICAgICAgcmV0dXJuIHNoYWRlcjtcclxuICAgIH1cclxuICAgXHJcbiAgICBjb25zb2xlLmxvZyhnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpO1xyXG4gICAgZ2wuZGVsZXRlU2hhZGVyKHNoYWRlcik7XHJcbiAgfVxyXG5cclxuICBleHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvZ3JhbShnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCB2ZXJ0ZXhTaGFkZXI6IFdlYkdMU2hhZGVyLCBmcmFnbWVudFNoYWRlcjogV2ViR0xTaGFkZXIpIHtcclxuICAgIHZhciBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xyXG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZlcnRleFNoYWRlcik7XHJcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xyXG4gICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XHJcbiAgICB2YXIgc3VjY2VzcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpO1xyXG4gICAgaWYgKHN1Y2Nlc3MpIHtcclxuICAgICAgcmV0dXJuIHByb2dyYW07XHJcbiAgICB9XHJcbiAgIFxyXG4gICAgY29uc29sZS5sb2coZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkpO1xyXG4gICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcclxuICB9XHJcblxyXG4gIGV4cG9ydCBmdW5jdGlvbiByZXNpemVDYW52YXNUb0Rpc3BsYXlTaXplKGNhbnZhczphbnkpIHtcclxuICAgIC8vIExvb2t1cCB0aGUgc2l6ZSB0aGUgYnJvd3NlciBpcyBkaXNwbGF5aW5nIHRoZSBjYW52YXMgaW4gQ1NTIHBpeGVscy5cclxuICAgIGNvbnN0IGRpc3BsYXlXaWR0aCAgPSBjYW52YXMuY2xpZW50V2lkdGg7XHJcbiAgICBjb25zdCBkaXNwbGF5SGVpZ2h0ID0gY2FudmFzLmNsaWVudEhlaWdodDtcclxuICAgXHJcbiAgICAvLyBDaGVjayBpZiB0aGUgY2FudmFzIGlzIG5vdCB0aGUgc2FtZSBzaXplLlxyXG4gICAgY29uc3QgbmVlZFJlc2l6ZSA9IGNhbnZhcy53aWR0aCAgIT09IGRpc3BsYXlXaWR0aCB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgIT09IGRpc3BsYXlIZWlnaHQ7XHJcbiAgIFxyXG4gICAgaWYgKG5lZWRSZXNpemUpIHtcclxuICAgICAgLy8gTWFrZSB0aGUgY2FudmFzIHRoZSBzYW1lIHNpemVcclxuICAgICAgY2FudmFzLndpZHRoICA9IGRpc3BsYXlXaWR0aDtcclxuICAgICAgY2FudmFzLmhlaWdodCA9IGRpc3BsYXlIZWlnaHQ7XHJcbiAgICB9XHJcbiAgIFxyXG4gICAgcmV0dXJuIG5lZWRSZXNpemU7XHJcblxyXG4gIH0iLCJpbXBvcnQgKiBhcyBDb25maWcgZnJvbSAnLi9Db25maWcnO1xyXG5cclxubGV0IGZwc0NvdW50ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuZnBzQ291bnRlci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbmZwc0NvdW50ZXIuc3R5bGUudG9wID0gJzEwcHgnO1xyXG5mcHNDb3VudGVyLnN0eWxlLmxlZnQgPSAnMTBweCc7XHJcblxyXG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZwc0NvdW50ZXIpO1xyXG5cclxuZXhwb3J0IHZhciBmcHMgPSA2MDtcclxuZXhwb3J0IHZhciBmcmFtZVRpbWVzOm51bWJlcltdID0gW107XHJcbmNvbnN0IG1heEZyYW1lcyA9IDEwMDsgXHJcblxyXG5sZXQgbGFzdFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVVSSgpIHtcclxuICAgIGxldCBhdmVyYWdlZEZQUyA9IGNhbGN1bGF0ZUZQUygpO1xyXG4gICAgZnBzQ291bnRlci5pbm5lclRleHQgPSBgRlBTOiAke01hdGgucm91bmQoYXZlcmFnZWRGUFMpfWA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNhbGN1bGF0ZUZQUygpIHtcclxuICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XHJcbiAgICBjb25zdCB0aW1lRGlmZiA9IGN1cnJlbnRUaW1lIC0gbGFzdFRpbWU7XHJcbiAgICBmcmFtZVRpbWVzLnB1c2godGltZURpZmYpO1xyXG5cclxuICAgIGlmIChmcmFtZVRpbWVzLmxlbmd0aCA+IG1heEZyYW1lcykge1xyXG4gICAgICAgIGZyYW1lVGltZXMuc2hpZnQoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgY29uc3QgYXZlcmFnZUZQUyA9IGZyYW1lVGltZXMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyBmcmFtZVRpbWVzLmxlbmd0aDtcclxuXHJcbiAgICBsYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xyXG5cclxuICAgIHJldHVybiAxMDAwIC8gYXZlcmFnZUZQUztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEF2ZXJhZ2VGcmFtZVRpbWUoKXtcclxuICAgIHJldHVybiBmcmFtZVRpbWVzLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApIC8gZnJhbWVUaW1lcy5sZW5ndGg7XHJcbn1cclxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUNvbG9yKCk6IHsgcjogbnVtYmVyLCBnOiBudW1iZXIsIGI6IG51bWJlciB9IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHI6IE1hdGgucmFuZG9tKCksXHJcbiAgICAgIGc6IE1hdGgucmFuZG9tKCksXHJcbiAgICAgIGI6IE1hdGgucmFuZG9tKClcclxuICAgIH1cclxuICB9XHJcbiAgIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVjMkQge1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG4gIFxyXG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgICAgdGhpcy54ID0geDtcclxuICAgICAgdGhpcy55ID0geTtcclxuICAgIH1cclxuICBcclxuICAgIGFkZChvdGhlcjogVmVjMkQpe1xyXG4gICAgICB0aGlzLnggKz0gb3RoZXIueDtcclxuICAgICAgdGhpcy55ICs9IG90aGVyLnk7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHNldChvdGhlcjogVmVjMkQpe1xyXG4gICAgICB0aGlzLnggPSBvdGhlci54O1xyXG4gICAgICB0aGlzLnkgPSBvdGhlci55O1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIFxyXG4gICAgc3VidHJhY3Qob3RoZXI6IFZlYzJEKXtcclxuICAgICAgdGhpcy54IC09IG90aGVyLng7XHJcbiAgICAgIHRoaXMueSAtPSBvdGhlci55O1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICBcclxuICAgIG11bHRpcGx5KHNjYWxhcjogbnVtYmVyKSB7XHJcbiAgICAgIHRoaXMueCAqPSBzY2FsYXI7XHJcbiAgICAgIHRoaXMueSAqPSBzY2FsYXI7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgZGl2aWRlKHNjYWxhcjogbnVtYmVyKXtcclxuICAgICAgdGhpcy54IC89IHNjYWxhcjtcclxuICAgICAgdGhpcy55IC89IHNjYWxhcjtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBkb3QodmVjOiBWZWMyRCk6IG51bWJlciB7XHJcbiAgICAgIHJldHVybiB0aGlzLnggKiB2ZWMueCArIHRoaXMueSAqIHZlYy55O1xyXG4gICAgfVxyXG5cclxuICAgIGxlbmd0aCgpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3F1YXJlZExlbmd0aCgpOiBudW1iZXIge1xyXG4gICAgICByZXR1cm4gdGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55O1xyXG4gICAgfVxyXG5cclxuICAgIGNsb25lKCk6IFZlYzJEe1xyXG4gICAgICByZXR1cm4gbmV3IFZlYzJEKHRoaXMueCwgdGhpcy55KVxyXG4gICAgfVxyXG5cclxuICAgIGRpZmZlcmVuY2Uob3RoZXI6IFZlYzJEKTogVmVjMkR7XHJcbiAgICAgIHJldHVybiBuZXcgVmVjMkQodGhpcy54IC0gb3RoZXIueCwgdGhpcy55IC0gb3RoZXIueSlcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgQXR0cmFjdG9yIGZyb20gXCIuL0F0dHJhY3RvclwiO1xyXG5pbXBvcnQgeyBkcmF3QXJyb3csIGRyYXdMYXNzbywgZHJhd1BhcnRpY2xlcywgZHJhd0RvdHRlZExpbmUsIHNldEdlb21ldHJ5LCBkcmF3Q3Vyc29yRnVuY3Rpb24gfSBmcm9tIFwiLi9SZW5kZXJlclwiO1xyXG5pbXBvcnQgeyBjbG9zZU1lbnUsIHVwZGF0ZVBvaW50ZXJGdW5jdGlvbiB9IGZyb20gXCIuL01lbnVNYW5hZ2VyXCI7XHJcbmltcG9ydCBQYXJ0aWNsZSBmcm9tIFwiLi9QYXJ0aWNsZVwiO1xyXG5pbXBvcnQgVmVjMkQgZnJvbSBcIi4vVmVjMkRcIjtcclxuaW1wb3J0IHsgZnBzLCBnZXRBdmVyYWdlRnJhbWVUaW1lLCB1cGRhdGVVSSB9IGZyb20gXCIuL1VJTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBiYWNrZ3JvdW5kQ2FudmFzLCBjbGVhckNhbnZhcywgZm9yZWdyb3VuZENhbnZhcyB9IGZyb20gXCIuL0NhbnZhc01hbmFnZXJcIjtcclxuaW1wb3J0IHsgdGljayB9IGZyb20gXCIuL1BoeXNpY3NFbmdpbmVcIjtcclxuaW1wb3J0ICogYXMgQ29uZmlnIGZyb20gJy4vQ29uZmlnJztcclxuaW1wb3J0IHsgR3JpZCB9IGZyb20gXCIuL0dyaWRcIjtcclxuaW1wb3J0IHsgZ2V0UmFuZG9tQ29sb3IgfSBmcm9tIFwiLi9VdGlsc1wiO1xyXG5cclxuZXhwb3J0IHZhciBwYXJ0aWNsZXM6IFBhcnRpY2xlW10gPSBbXTtcclxuZXhwb3J0IHZhciBhdHRyYWN0b3JzOiBBdHRyYWN0b3JbXSA9IFtdO1xyXG5cclxubGV0IGZyYW1lQ291bnQgPSAwO1xyXG5leHBvcnQgbGV0IGdyaWQgPSBuZXcgR3JpZChiYWNrZ3JvdW5kQ2FudmFzKTtcclxuXHJcbmZ1bmN0aW9uIGFuaW1hdGUoKSB7XHJcbiAgbGV0IGZyYW1lVGltZSA9IGdldEF2ZXJhZ2VGcmFtZVRpbWUoKVxyXG4gIHRpY2soZnJhbWVUaW1lLzI1KTtcclxuXHJcbiAgY2xlYXJDYW52YXMoKTtcclxuICBkcmF3UGFydGljbGVzKCk7XHJcbiAgZHJhd0N1cnNvckZ1bmN0aW9uKCk7XHJcbiAgLy8gZHJhd0dyaWQoKTtcclxuICAvLyBkcmF3QXR0cmFjdG9ycygpO1xyXG4gIHVwZGF0ZVVJKCk7XHJcblxyXG4gIGNvbnN0IG11bHQgPSAxMCAvZnJhbWVUaW1lO1xyXG4gIGlmIChmcmFtZUNvdW50ICUgMyA9PT0gMCAmJiBwYXJ0aWNsZXMubGVuZ3RoIDwgQ29uZmlnLmdldFBhcnRpY2xlTnVtYmVyKCkgJiYgZnJhbWVDb3VudCA+IDEyMCkge1xyXG4gICAgcGFydGljbGVzLnB1c2gobmV3IFBhcnRpY2xlKG5ldyBWZWMyRCgyMDAsIDIwMCksIGdyaWQucGl4ZWxTaXplLzIsIG5ldyBWZWMyRCgyMDAgKiBtdWx0LCAtODAgKiBtdWx0KSwgZ2V0UmFuZG9tQ29sb3IoKSwgZ3JpZCkpO1xyXG4gICAgcGFydGljbGVzLnB1c2gobmV3IFBhcnRpY2xlKG5ldyBWZWMyRCgyMDAsIDI2MCksIGdyaWQucGl4ZWxTaXplLzIsIG5ldyBWZWMyRCgxODAgKiBtdWx0LCAtODAgKiBtdWx0KSwgZ2V0UmFuZG9tQ29sb3IoKSwgZ3JpZCkpO1xyXG4gICAgcGFydGljbGVzLnB1c2gobmV3IFBhcnRpY2xlKG5ldyBWZWMyRCgyMDAsIDMyMCksIGdyaWQucGl4ZWxTaXplLzIsIG5ldyBWZWMyRCgxNzAgKiBtdWx0LCAtODAgKiBtdWx0KSwgZ2V0UmFuZG9tQ29sb3IoKSwgZ3JpZCkpO1xyXG4gICAgcGFydGljbGVzLnB1c2gobmV3IFBhcnRpY2xlKG5ldyBWZWMyRCgyMDAsIDM4MCksIGdyaWQucGl4ZWxTaXplLzIsIG5ldyBWZWMyRCgxODAgKiBtdWx0LCAtODAgKiBtdWx0KSwgZ2V0UmFuZG9tQ29sb3IoKSwgZ3JpZCkpO1xyXG4gICAgcGFydGljbGVzLnB1c2gobmV3IFBhcnRpY2xlKG5ldyBWZWMyRCgyMDAsIDQ0MCksIGdyaWQucGl4ZWxTaXplLzIsIG5ldyBWZWMyRCgxNzAgKiBtdWx0LCAtODAgKiBtdWx0KSwgZ2V0UmFuZG9tQ29sb3IoKSwgZ3JpZCkpO1xyXG4gICAgc2V0R2VvbWV0cnkoKTtcclxuICB9XHJcbiAgZnJhbWVDb3VudCsrO1xyXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcclxufVxyXG5cclxuZ3JpZC5kcmF3KCk7XHJcbnJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbl9fd2VicGFja19yZXF1aXJlX18oXCIuL3NyYy9zY3JpcHQudHNcIik7XG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL3NyYy9NZW51TWFuYWdlci50c1wiKTtcbiJdLCJuYW1lcyI6WyJmb3JlZ3JvdW5kQ2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImJhY2tncm91bmRDYW52YXMiLCJ3ZWJnbENhbnZhcyIsIndpZHRoIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaGVpZ2h0IiwiZm9yZWdyb3VuZENhbnZhc0N0eCIsImdldENvbnRleHQiLCJiYWNrZ3JvdW5kQ2FudmFzQ3R4IiwiY2xlYXJDYW52YXMiLCJjbGVhclJlY3QiLCJ1cGRhdGVDYW52YXNTaXplIiwiZ3JpZCIsInVwZGF0ZVNpemUiLCJkcmF3Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImZpZWxkU3RyZW5ndGgiLCJwaHlzaWNzU3Vic3RlcHNBbW91bnQiLCJncmF2aXR5RGlyZWN0aW9uIiwiZmllbGRTaXplIiwicGFydGljbGVOdW1iZXIiLCJwb2ludGVyRnVuY3Rpb24iLCJncmlkU2l6ZSIsImdldEdyYXZpdHlEaXJlY3Rpb24iLCJnZXRQaHlzaWNzU3Vic3RlcHNBbW91bnQiLCJnZXRGaWVsZFN0cmVuZ3RoIiwiZ2V0RmllbGRTaXplIiwiZ2V0UGFydGljbGVOdW1iZXIiLCJnZXRQb2ludGVyRnVuY3Rpb24iLCJnZXRHcmlkU2l6ZSIsInNldEdyYXZpdHlEaXJlY3Rpb24iLCJuZXdHcmF2aXR5RGlyZWN0aW9uIiwic2V0UGh5c2ljc1N1YnN0ZXBzQW1vdW50IiwibmV3QW1vdW50Iiwic2V0RmllbGRTdHJlbmd0aCIsIm5ld2ZpZWxkU3RyZW5ndGgiLCJzZXRGaWVsZFNpemUiLCJuZXdmaWVsZFNpemUiLCJzZXRQYXJ0aWNsZU51bWJlciIsIm5ld1BhcnRpY2xlTnVtYmVyIiwic2V0UG9pbnRlckZ1bmN0aW9uIiwibmV3UG9pbnRlckZ1bmN0aW9uIiwiY2FudmFzIiwiZ3JpZFBpeGVsU2l6ZSIsInRoaXMiLCJwaXhlbFNpemUiLCJjb2x1bW5zIiwiTWF0aCIsImNlaWwiLCJyb3dzIiwiY2VsbHMiLCJpbml0aWFsaXplIiwiY2FudmFzQ3R4IiwiaSIsImoiLCJyZW1vdmVBbGwiLCJwdXQiLCJwYXJ0aWNsZSIsImNvbHVtbiIsImZsb29yIiwiY3VycmVudFBvc2l0aW9uIiwieCIsInJvdyIsInkiLCJsZW5ndGgiLCJwdXNoIiwic3Ryb2tlU3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwiZG9jdW1lbnRFbGVtZW50IiwiZ2V0UHJvcGVydHlWYWx1ZSIsImxpbmVXaWR0aCIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsImNsaWNrZWQiLCJwb2ludGVyUG9zaXRpb24iLCJjbGlja1N0YXJ0UG9zaXRpb24iLCJnZXRJbnN0YW5jZSIsIklucHV0SGFuZGxlciIsImluc3RhbmNlIiwiaW5pdGlhbGl6ZUV2ZW50TGlzdGVuZXJzIiwibWFpbl9ib2R5IiwiaGFuZGxlTW91c2VEb3duIiwiYmluZCIsImhhbmRsZU1vdXNlVXAiLCJoYW5kbGVNb3ZlRXZlbnQiLCJldmVudCIsInN0b3BQcm9wYWdhdGlvbiIsImNsb3NlTWVudSIsIk1vdXNlRXZlbnQiLCJjbGllbnRYIiwiY2xpZW50WSIsIlRvdWNoRXZlbnQiLCJ0b3VjaGVzIiwibGF1bmNoX2RpciIsImRpZmZlcmVuY2UiLCJtdWx0aXBseSIsImZwcyIsInBhcnRpY2xlcyIsImNsb25lIiwiZ2V0UmFuZG9tQ29sb3IiLCJtZW51QnV0dG9uIiwibWVudUVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsIm9wZW5NZW51IiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwic3R5bGUiLCJjdXJzb3IiLCJmb3JFYWNoIiwiZWxlbWVudCIsInNldFRpbWVvdXQiLCJkaXNwbGF5IiwicXVlcnlTZWxlY3RvciIsIm5ld1RoZW1lIiwicm9vdEVsZW0iLCJmaWVsZFNpemVTbGlkZXIiLCJmaWVsZFN0cmVuZ3RoU2xpZGVyIiwiZ3Jhdml0eVN0cmVuZ3RoU2xpZGVyIiwic3Vic3RlcHNBbW91bnRFbnRyeUJveCIsInBhcnRpY2xlc0Ftb3VudEVudHJ5Qm94IiwidXBkYXRlUG9pbnRlckZ1bmN0aW9uIiwicmFkaW9CdXR0b25zIiwiZ2V0RWxlbWVudHNCeU5hbWUiLCJjaGVja2VkIiwidmFsdWUiLCJzZXRHcmF2aXR5U3RyZW5ndGgiLCJyYWRpb0J1dHRvbiIsIm9uaW5wdXQiLCJwYXJzZUludCIsImRpZmYiLCJwb3AiLCJwb3MiLCJyYWRpdXMiLCJhY2MiLCJjb2xvciIsInByZXZpb3VzUG9zaXRpb24iLCJhY2NlbGVyYXRpb24iLCJjZWxsIiwidXBkYXRlUG9zaXRpb24iLCJkdCIsInZlbG9jaXR5IiwiYWRkIiwidXBkYXRlQ2VsbCIsImFjY2VsZXJhdGUiLCJnZXROZWlnaGJvcmluZ1BhcnRpY2xlcyIsIm5laWdoYm9yaW5nUGFydGljbGVzIiwiaW5wdXRIYW5kbGVyIiwidXBkYXRlUG9zaXRpb25zIiwiYXBwbHlGaWVsZCIsImZpZWxkUG9zIiwicHVsbERpcmVjdGlvbiIsImRpc3RhbmNlIiwiZGl2aWRlIiwiYXBwbHlBdHRyYWN0b3JGb3JjZXNUb0FsbCIsImFwcGx5QXR0cmFjdG9yRm9yY2VzIiwidGljayIsInN1Yl9kdCIsImFwcGx5Q29uc3RyYWludCIsInNvbHZlQ29sbGlzaW9ucyIsImF0dHJhY3RvcnMiLCJhdHRyYWN0b3IiLCJwb3NpdGlvbiIsImZvcmNlIiwidGVtcENvbGxpc2lvbkRpcmVjdGlvbiIsInNxdWFyZWREaXN0YW5jZSIsInJhZGlpU3VtIiwicGFydGljbGUxIiwicGFydGljbGUyIiwic2V0Iiwic3VidHJhY3QiLCJzcXVhcmVkTGVuZ3RoIiwic3FydCIsImRlbHRhIiwiZ2wiLCJjb25zb2xlIiwiZXJyb3IiLCJlbmFibGUiLCJCTEVORCIsImJsZW5kRnVuYyIsIlNSQ19BTFBIQSIsIk9ORV9NSU5VU19TUkNfQUxQSEEiLCJ2ZXJ0ZXhTaGFkZXIiLCJjcmVhdGVTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwiZnJhZ21lbnRTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJwcm9ncmFtIiwiY3JlYXRlUHJvZ3JhbSIsInBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24iLCJnZXRBdHRyaWJMb2NhdGlvbiIsInJlc29sdXRpb25Vbmlmb3JtTG9jYXRpb24iLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJjb2xvclVuaWZvcm1Mb2NhdGlvbiIsInRyYW5zbGF0aW9uTG9jYXRpb24iLCJyYWRpdXNVbmlmb3JtTG9jYXRpb24iLCJvdXRsaW5lVW5pZm9ybUxvY2F0aW9uIiwicG9zaXRpb25CdWZmZXIiLCJjcmVhdGVCdWZmZXIiLCJzZXRHZW9tZXRyeSIsIngxIiwieDIiLCJ5MSIsInkyIiwiYnVmZmVyRGF0YSIsIkFSUkFZX0JVRkZFUiIsIkZsb2F0MzJBcnJheSIsIlNUQVRJQ19EUkFXIiwic2V0UmVjdGFuZ2xlIiwiZHJhd1BhcnRpY2xlcyIsInJlc2l6ZUNhbnZhc1RvRGlzcGxheVNpemUiLCJ2aWV3cG9ydCIsImNsZWFyQ29sb3IiLCJjbGVhciIsIkNPTE9SX0JVRkZFUl9CSVQiLCJ1c2VQcm9ncmFtIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJiaW5kQnVmZmVyIiwidmVydGV4QXR0cmliUG9pbnRlciIsIkZMT0FUIiwib3V0bGluZUNvbG9yIiwicGFyc2VGbG9hdCIsInJlc29sdXRpb24iLCJ1bmlmb3JtMmZ2IiwidW5pZm9ybTJmIiwidW5pZm9ybTNmIiwiciIsImciLCJiIiwidW5pZm9ybTFmIiwiZHJhd0FycmF5cyIsIlRSSUFOR0xFUyIsImRyYXdEb3R0ZWRMaW5lIiwiZnJvbSIsInRvIiwiZG90Q291bnQiLCJkcmF3UHJlZGljdGVkUGF0aCIsImFuZ2xlIiwiYXRhbjIiLCJuZXdfdG8iLCJjb3MiLCJzaW4iLCJkcmF3RG90Iiwic3RhcnRQb3MiLCJBY2NlbGVyYXRpb25WZWN0b3IiLCJwcmVkaWN0ZWREb3QiLCJkb3RYIiwiZG90WSIsImRvdFNpemUiLCJvcGFjaXR5IiwiYXJjIiwiUEkiLCJmaWxsU3R5bGUiLCJmaWxsIiwiY2xvc2VQYXRoIiwiZHJhd0xhc3NvIiwiZHJhd0Fycm93IiwiaGVhZGxlbiIsImRyYXdDdXJzb3JGdW5jdGlvbiIsInR5cGUiLCJzb3VyY2UiLCJzaGFkZXIiLCJzaGFkZXJTb3VyY2UiLCJjb21waWxlU2hhZGVyIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJsb2ciLCJnZXRTaGFkZXJJbmZvTG9nIiwiZGVsZXRlU2hhZGVyIiwiYXR0YWNoU2hhZGVyIiwibGlua1Byb2dyYW0iLCJnZXRQcm9ncmFtUGFyYW1ldGVyIiwiTElOS19TVEFUVVMiLCJnZXRQcm9ncmFtSW5mb0xvZyIsImRlbGV0ZVByb2dyYW0iLCJkaXNwbGF5V2lkdGgiLCJjbGllbnRXaWR0aCIsImRpc3BsYXlIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJuZWVkUmVzaXplIiwiZnBzQ291bnRlciIsImNyZWF0ZUVsZW1lbnQiLCJ0b3AiLCJsZWZ0IiwiYm9keSIsImFwcGVuZENoaWxkIiwiZnJhbWVUaW1lcyIsIm1heEZyYW1lcyIsImxhc3RUaW1lIiwicGVyZm9ybWFuY2UiLCJub3ciLCJ1cGRhdGVVSSIsImF2ZXJhZ2VkRlBTIiwiY3VycmVudFRpbWUiLCJ0aW1lRGlmZiIsInNoaWZ0IiwiYXZlcmFnZUZQUyIsInJlZHVjZSIsImEiLCJjYWxjdWxhdGVGUFMiLCJpbm5lclRleHQiLCJyb3VuZCIsImdldEF2ZXJhZ2VGcmFtZVRpbWUiLCJyYW5kb20iLCJvdGhlciIsInNjYWxhciIsImRvdCIsInZlYyIsIlZlYzJEIiwiZnJhbWVDb3VudCIsIkdyaWQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJhbmltYXRlIiwiZnJhbWVUaW1lIiwibXVsdCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIl0sInNvdXJjZVJvb3QiOiIifQ==